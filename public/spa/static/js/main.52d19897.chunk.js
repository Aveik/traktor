(this["webpackJsonpmovie-tinder-frontend"]=this["webpackJsonpmovie-tinder-frontend"]||[]).push([[0],{143:function(e,t,n){},241:function(e,t,n){"use strict";n.r(t);var r=n(5),a=n.n(r),c=n(12),s=n(1),i=(n(143),n(0)),o=n.n(i),u=n(20),l=n.n(u),d=n(304),j=n(7),b=n(15),p=n(24),m=n(283),h=n(308),f=n(306),O=n(81),v=n(285),g=n(282),x=n(16),y=n(38),w=Object(y.a)((function(e){return e.notifications}),(function(e){return e})),k=n(8);function P(e){return e.type.endsWith("/rejected")}var S=Object(k.c)({extraReducers:function(e){e.addMatcher(P,(function(e,t){e[t.meta.requestId]=t.payload}))},initialState:{},name:"notifications",reducers:{createNotification:{prepare:function(e){return{payload:{id:Object(k.d)(),message:e}}},reducer:function(e,t){e[t.payload.id]=t.payload.message}},removeNotification:function(e,t){delete e[t.payload]}}}),I=S.actions,N=S.reducer,R=(I.createNotification,I.removeNotification),C=N;var W=function(e){var t=e.id,n=e.message,r=Object(j.b)();return Object(s.jsx)("div",{onClick:function(){r(R(t))},children:n})};var z=function(){var e=Object(j.c)(w);return Object.entries(e).map((function(e){var t=Object(x.a)(e,2),n=t[0],r=t[1];return Object(s.jsx)(W,{id:n,message:r},n)}))},F=n(275),L=Object(F.a)({drawerPaper:{width:256}}),M=n(18),T=n(243),V=n(278),B=n(10),A=20,E=36;function _(){return document.cookie.split("; ").reduce((function(e,t){var n=t.split("="),r=Object(x.a)(n,2),a=r[0],c=r[1];return e[a]=c,e}),{}).userSlug}function q(e){if(!e)return[];var t=e.ratings,n=e.stats,r=e.summary;return[["Rating",J(null===t||void 0===t?void 0:t.rating)],["Votes",G(null===t||void 0===t?void 0:t.votes)],["Released",new Date(null===r||void 0===r?void 0:r.released).toLocaleDateString("da-Dk")],["Genres",null===r||void 0===r?void 0:r.genres.map(B.a).join(", ")],["Certification",null===r||void 0===r?void 0:r.certification],["Watchers",G(null===n||void 0===n?void 0:n.watchers)],["Plays",G(null===n||void 0===n?void 0:n.plays)],["Lists",G(null===n||void 0===n?void 0:n.lists)],["Comments",G(null===n||void 0===n?void 0:n.comments)],["Trailer",Object(s.jsx)("a",{href:null===r||void 0===r?void 0:r.trailer,children:"Watch trailer"})]]}function D(e){switch(e){case"movies":return"movie";case"shows":return"show";case"people":return"person";default:return"movie,show,person"}}function G(e){return e?Math.abs(e)>999?Math.sign(e)*(Math.abs(e)/1e3).toFixed(1)+"k":Math.sign(e)*Math.abs(e):""}function J(e){return e?"".concat((10*e).toFixed(2),"%"):""}var H=n(41),U=n(281),Y=n(279),K=n(280),Q=Object(F.a)((function(e){return{nestedListItemGutters:{paddingLeft:e.spacing(4)}}}));var X=function(e){var t=e.children,n=e.listItemTextProps,r=Object(H.a)(e,["children","listItemTextProps"]),a=Q(),c=Object(i.useState)(!1),u=Object(x.a)(c,2),l=u[0],d=u[1];return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(T.a,Object(M.a)(Object(M.a)({},r),{},{onClick:function(e){e.preventDefault(),d(!l)},children:[Object(s.jsx)(V.a,Object(M.a)({},n)),l?Object(s.jsx)(Y.a,{}):Object(s.jsx)(K.a,{})]})),Object(s.jsx)(U.a,{in:l,children:Object(s.jsx)(g.a,{disablePadding:!0,children:o.a.Children.map(t,(function(e){return o.a.cloneElement(e,{classes:{gutters:a.nestedListItemGutters}})}))})})]})},Z=[{nested:[{path:"movies/trending",title:"Trending"},{path:"movies/popular",title:"Popular"},{path:"movies/recommended",title:"Recommended"},{path:"movies/watched",title:"Watched"},{path:"movies/anticipated",title:"Anticipated"}],title:"Movies"},{nested:[{path:"shows/trending",title:"Trending"},{path:"shows/popular",title:"Popular"},{path:"shows/recommended",title:"Recommended"},{path:"shows/watched",title:"Watched"},{path:"shows/anticipated",title:"Anticipated"}],title:"Shows"},{nested:[{path:"users/".concat(_(),"/ratings"),title:"Ratings"},{path:"users/".concat(_(),"/recommendations"),title:"Recommendations"},{path:"users/".concat(_(),"/watchlist"),title:"Watchlist"},{path:"users/".concat(_(),"/lists"),title:"Lists"},{path:"users/".concat(_(),"/comments"),title:"Comments"}],title:"Profile"},{nested:[{path:"search/all",title:"All"},{path:"search/movies",title:"Movies"},{path:"search/shows",title:"Shows"},{path:"search/people",title:"People"}],title:"Search"}];var $=function(){var e=L();return Object(s.jsxs)(m.a,{children:[Object(s.jsxs)(h.a,{anchor:"left",classes:{paper:e.drawerPaper},color:"",variant:"permanent",children:[Object(s.jsxs)(f.a,{px:2,py:1,children:[Object(s.jsx)(O.a,{variant:"h6",children:"Traktor"}),Object(s.jsx)(O.a,{variant:"caption",children:"v0.1"})]}),Object(s.jsx)(v.a,{}),Object(s.jsx)(g.a,{disablePadding:!0,children:Z.map((function(e){var t=e.nested,n=e.path,r=e.title,a={activeClassName:"Mui-selected",button:!0,component:p.c,key:r,to:n};if(!t&&n)return Object(s.jsx)(T.a,Object(M.a)(Object(M.a)({},a),{},{children:Object(s.jsx)(V.a,{primary:r})}));var c=t.map((function(e){var t=e.path,n=e.title;return Object(i.createElement)(T.a,Object(M.a)(Object(M.a)({},a),{},{key:n,to:t}),Object(s.jsx)(V.a,{primary:n}))})),o={button:!0,key:r,listItemTextProps:{primary:r}};return Object(s.jsx)(X,Object(M.a)(Object(M.a)({},o),{},{children:c}))}))})]}),Object(s.jsxs)(f.a,{ml:32,children:[Object(s.jsx)(z,{}),Object(s.jsx)(b.b,{})]})]})},ee=n(286),te=Object(F.a)((function(e){return{root:{alignItems:"center",backgroundColor:e.palette.text.primary,display:"flex",height:"100%",justifyContent:"center",position:"fixed",top:0,width:"100%",zIndex:e.zIndex.drawer}}}));var ne=function(e){var t=e.fullscreen,n=void 0===t||t,r=te();return Object(i.useEffect)((function(){return document.body.style.overflow="hidden",function(){return document.body.style.overflow="initial"}}),[]),n?l.a.createPortal(Object(s.jsx)("div",{className:r.root,children:Object(s.jsx)(ee.a,{color:"secondary",size:64})}),document.getElementById("loadingOverlayRoot")):Object(s.jsx)("h1",{children:"hi"})};var re=function(){return Object(s.jsx)("h1",{children:"404 not found"})};var ae=function(){var e=Object(b.h)();Object(i.useEffect)((function(){window.scrollTo({top:0})}),[e])},ce=n(287),se=n(309),ie=n(289),oe=n(290),ue=n(291),le=n(292),de=n(293),je=n(307),be=n(288);function pe(e){return e.loading}function me(e,t){return t}var he=Object(y.a)([pe,me],(function(e,t){return Boolean(e[t])}));function fe(){return Object(y.a)([pe,me],(function(e,t){return Object.keys(e).filter((function(e){return t.includes(e)})).some((function(t){return e[t]}))}))}var Oe,ve=n(13),ge=n(11),xe=n.n(ge),ye=Object(k.b)("users/lists/fetch",Object(c.a)(a.a.mark((function e(){var t,n,r,c,s,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:_(),n=i.length>1?i[1]:void 0,r=n.rejectWithValue,e.prev=2,e.next=5,xe.a.get("/trakt/users/".concat(t,"/lists"));case 5:return c=e.sent,e.next=8,Promise.all(c.data.map((function(e){return xe.a.get("/trakt/users/".concat(t,"/lists/").concat(e.ids.slug,"/items"))})));case 8:return s=e.sent,e.abrupt("return",c.data.map((function(e,t){return Object(M.a)(Object(M.a)({},e),{},{items:s[t].data})})));case 12:return e.prev=12,e.t0=e.catch(2),e.abrupt("return",r(e.t0.toString()));case 15:case"end":return e.stop()}}),e,null,[[2,12]])})))),we=Object(k.b)("users/lists/add",function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,xe.a.post("/trakt/users/".concat(_(),"/lists"),t);case 4:return c=e.sent,e.abrupt("return",c.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r(e.t0.toString()));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),ke=Object(k.b)("users/lists/remove",function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,xe.a.delete("/trakt/users/".concat(_(),"/lists/").concat(t));case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",r(e.t0.toString()));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()),Pe=Object(k.c)({extraReducers:(Oe={},Object(ve.a)(Oe,we.fulfilled,(function(e,t){e.push(t.payload)})),Object(ve.a)(Oe,ye.fulfilled,(function(e,t){return t.payload})),Object(ve.a)(Oe,ke.fulfilled,(function(e,t){var n=t.meta.arg,r=e.findIndex((function(e){return e.ids.slug===n}));e.splice(r,1)})),Oe),initialState:[],name:"users/lists",reducers:{}}).reducer,Se=Object(k.b)("users/list/fetch",function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,s,i,o,u,l,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,c=t.userSlug,s=void 0===c?_():c,i=n.rejectWithValue,e.prev=2,e.next=5,Promise.all([xe.a.get("/trakt/users/".concat(s,"/lists/").concat(r)),xe.a.get("/trakt/users/".concat(s,"/lists/").concat(r,"/items"))]);case 5:return o=e.sent,u=Object(x.a)(o,2),l=u[0],d=u[1],e.abrupt("return",Object(M.a)(Object(M.a)({},l.data),{},{items:d.data}));case 12:return e.prev=12,e.t0=e.catch(2),e.abrupt("return",i(e.t0.toString()));case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,n){return e.apply(this,arguments)}}()),Ie=Object(k.b)("users/list/remove",function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,s,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.entity,c=t.listSlug,s=t.slug,i=n.rejectWithValue,e.prev=2,e.next=5,xe.a.post("/trakt/users/".concat(_(),"/lists/").concat(c,"/items/remove"),Object(ve.a)({},r,[{ids:{slug:s}}]));case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(2),e.abrupt("return",i(e.t0.toString()));case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,n){return e.apply(this,arguments)}}()),Ne=Object(k.b)("users/list/add",function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,s,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.entity,c=t.listSlug,s=t.slug,i=n.rejectWithValue,e.prev=2,e.next=5,xe.a.post("/trakt/users/".concat(_(),"/lists/").concat(c,"/items"),Object(ve.a)({},r,[{ids:{slug:s}}]));case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(2),e.abrupt("return",i(e.t0.toString()));case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,n){return e.apply(this,arguments)}}());function Re(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(Ne(e));case 2:return t.next=4,n(ye());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}function Ce(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(Ie(e));case 2:return t.next=4,n(ye());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}var We=Object(k.c)({extraReducers:Object(ve.a)({},Se.fulfilled,(function(e,t){return t.payload})),initialState:{items:[]},name:"list",reducers:{}}).reducer,ze=Object(y.a)((function(e){return e.users.lists}),(function(e){return e}));function Fe(){return Object(y.a)((function(e){return e.users.lists}),(function(e,t){return t}),(function(e,t,n){return n}),(function(e,t,n){return t=D(t),e.map((function(e){return{listed:e.items.some((function(e){return e.type===t&&e[t].ids.slug===n})),name:e.name,slug:e.ids.slug}}))}))}var Le=Object(F.a)({listItemActionRoot:{minWidth:32}});var Me=function(e){var t=e.entity,n=e.size,r=void 0===n?"default":n,a=e.slug,c=Le(),o=Object(j.b)(),u=Object(i.useMemo)(Fe,[]),l=Object(i.useMemo)(fe,[]),d=Object(j.c)((function(e){return l(e,["users/lists/fetch","users/list/add","users/list/remove"])})),b=Object(j.c)((function(e){return u(e,t,a)})),p=Object(i.useState)(null),m=Object(x.a)(p,2),h=m[0],f=m[1],O=Boolean(h),v=Object(i.useMemo)((function(){return b.filter((function(e){var t=e.listed;return Boolean(t)})).length}),[b]);function y(e){f(e.currentTarget)}function w(e,t,n){return function(){var r=Re;t&&(r=Ce),o(r({entity:e,listSlug:n,slug:a}))}}var k=Object(s.jsx)(ce.a,{color:"secondary",disabled:d,fullWidth:!0,onClick:y,startIcon:Object(s.jsx)(be.a,{}),variant:v?"contained":"outlined",children:v?"Listed on ".concat(v," lists"):"Add to your lists"});return"small"===r&&(k=Object(s.jsx)(se.a,{title:v?"Listed on ".concat(v," lists"):"Add to your lists",children:Object(s.jsx)(ie.a,{color:v?"secondary":"inherit",onClick:y,size:"small",children:Object(s.jsx)(be.a,{fontSize:"small"})})})),Object(s.jsxs)(s.Fragment,{children:[k,Object(s.jsxs)(oe.a,{anchorEl:h,anchorOrigin:{horizontal:"center",vertical:"bottom"},onClose:function(){f(null)},open:O,transformOrigin:{horizontal:"center",vertical:"top"},children:[d&&Object(s.jsx)(ue.a,{color:"secondary"}),Object(s.jsx)(g.a,{dense:!0,subheader:Object(s.jsxs)(le.a,{children:["Listed on ",v," of ",b.length," lists"]}),children:b.map((function(e){var n=e.listed,r=e.name,a=e.slug;return Object(s.jsxs)(T.a,{button:!0,disabled:d,onClick:w(t,n,a),children:[Object(s.jsx)(de.a,{classes:{root:c.listItemActionRoot},children:Object(s.jsx)(je.a,{checked:n,disableRipple:!0,edge:"start",size:"small"})}),Object(s.jsx)(V.a,{children:r})]},a)}))})]})]})},Te=n(294),Ve=n(312),Be=Object(y.a)((function(e){return e.users.ratings}),(function(e){return e}));function Ae(){return Object(y.a)([function(e){return e.users.ratings},function(e,t){return D(t)},function(e,t,n){return n}],(function(e,t,n){var r=e.find((function(e){return e.type===t&&e[t].ids.slug===n}));return r?r.rating:0}))}var Ee=Object(k.b)("users/ratings/fetch",Object(c.a)(a.a.mark((function e(){var t,n,r,c,s=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:_(),n=s.length>1?s[1]:void 0,r=n.rejectWithValue,e.prev=2,e.next=5,xe.a.get("/trakt/users/".concat(t,"/ratings"));case 5:return c=e.sent,e.abrupt("return",c.data);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",r(e.t0.toString()));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))),_e=Object(k.b)("users/ratings/rate",function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,s,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.entity,c=t.rating,s=t.slug,i=n.rejectWithValue,e.prev=2,e.next=5,xe.a.post("/trakt/sync/ratings",Object(ve.a)({},r,[{ids:{slug:s},rating:c}]));case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(2),e.abrupt("return",i(e.t0.toString()));case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,n){return e.apply(this,arguments)}}()),qe=Object(k.b)("users/ratings/remove",function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.entity,c=t.slug,s=n.rejectWithValue,e.prev=2,e.next=5,xe.a.post("/trakt/sync/ratings/remove",Object(ve.a)({},r,[{ids:{slug:c}}]));case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(2),e.abrupt("return",s(e.t0.toString()));case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,n){return e.apply(this,arguments)}}());var De=Object(k.c)({extraReducers:Object(ve.a)({},Ee.fulfilled,(function(e,t){return t.payload})),initialState:[],name:"users/ratings",reducers:{}}).reducer,Ge=Object(F.a)((function(e){return{buttonRoot:{minWidth:154},popoverPaper:{padding:e.spacing(1),paddingBottom:e.spacing(.25)},ratingRoot:{color:e.palette.secondary.main}}}));function Je(e){switch(e){case-1:return"Unrate";case 1:return"1 - Weak sauce";case 2:return"2 - Terrible";case 3:return"3 - Bad";case 4:return"4 - Poor";case 5:return"5 - Meh";case 6:return"6 - Fair";case 7:return"7 - Good";case 8:return"8 - Great";case 9:return"9 - Superb";case 10:return"10 - Excellent!";default:return"Rate"}}var He=function(e){var t=e.entity,n=e.slug,r=Ge(),o=Object(j.b)(),u=Object(i.useMemo)(Ae,[]),l=Object(i.useMemo)(fe,[]),d=Object(j.c)((function(e){return u(e,t,n)})),b=Object(j.c)((function(e){return l(e,["users/ratings/fetch","users/ratings/rate","users/ratings/remove"])})),p=Object(i.useState)(null),m=Object(x.a)(p,2),h=m[0],f=m[1],O=Boolean(h),v=Object(i.useState)(null),g=Object(x.a)(v,2),y=g[0],w=g[1],k=null!==y;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(ce.a,{classes:{root:r.buttonRoot},color:"secondary",fullWidth:!0,onClick:function(e){f(e.currentTarget)},startIcon:Object(s.jsx)(Te.a,{}),variant:d?"contained":"outlined",children:Je(k?y:d)}),Object(s.jsx)(oe.a,{anchorEl:h,anchorOrigin:{horizontal:"center",vertical:"bottom"},classes:{paper:r.popoverPaper},onClose:function(){w(null),f(null)},open:O,transformOrigin:{horizontal:"center",vertical:"top"},children:Object(s.jsx)(Ve.a,{classes:{root:r.ratingRoot},disabled:b,icon:Object(s.jsx)(Te.a,{fontSize:"inherit"}),max:10,name:"_",onChange:function(e,r){var s;o(r?function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(_e(e));case 2:return t.next=4,n(Ee());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({entity:t,rating:r,slug:n}):(s={entity:t,slug:n},function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(qe(s));case 2:return e.next=4,t(Ee());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},onChangeActive:function(e,t){w(t!==d?-1!==t?t:null:-1)},value:d})})]})},Ue=Object(y.a)((function(e){return e.users.recommendations}),(function(e){return e}));function Ye(){return Object(y.a)([function(e){return e.users.recommendations},function(e,t){return D(t)},function(e,t,n){return n}],(function(e,t,n){var r=e.find((function(e){return e.type===t&&e[t].ids.slug===n}));return Boolean(r)}))}var Ke=Object(k.b)("users/recommendations/fetch",Object(c.a)(a.a.mark((function e(){var t,n,r,c,s=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:_(),n=s.length>1?s[1]:void 0,r=n.rejectWithValue,e.prev=2,e.next=5,xe.a.get("/trakt/users/".concat(t,"/recommendations"));case 5:return c=e.sent,e.abrupt("return",c.data);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",r(e.t0.toString()));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))),Qe=Object(k.b)("users/recommendations/recommend",function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.entity,c=t.slug,s=n.rejectWithValue,e.prev=2,e.next=5,xe.a.post("/trakt/sync/recommendations",Object(ve.a)({},r,[{ids:{slug:c}}]));case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(2),e.abrupt("return",s(e.t0.toString()));case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,n){return e.apply(this,arguments)}}()),Xe=Object(k.b)("users/recommendations/unrecommend",function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.entity,c=t.slug,s=n.rejectWithValue,e.prev=2,e.next=5,xe.a.post("/trakt/sync/recommendations/remove",Object(ve.a)({},r,[{ids:{slug:c}}]));case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(2),e.abrupt("return",s(e.t0.toString()));case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,n){return e.apply(this,arguments)}}());var Ze=Object(k.c)({extraReducers:Object(ve.a)({},Ke.fulfilled,(function(e,t){return t.payload})),initialState:[],name:"users/recommendations",reducers:{}}).reducer;var $e=function(e){var t=e.entity,n=e.size,r=void 0===n?"default":n,o=e.slug,u=Object(j.b)(),l=Object(i.useMemo)(Ye,[]),d=Object(i.useMemo)(fe,[]),b=Object(j.c)((function(e){return l(e,t,o)})),p=Object(j.c)((function(e){return d(e,["users/recommendations/fetch","users/recommendations/recommend","users/recommendations/unrecommend"])}));function m(){var e;b?u((e={entity:t,slug:o},function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(Xe(e));case 2:return t.next=4,n(Ke());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())):u(function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(Qe(e));case 2:return t.next=4,n(Ke());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({entity:t,slug:o}))}return"small"===r?Object(s.jsx)(se.a,{title:b?"Remove from recommendations":"Recommend",children:Object(s.jsx)("span",{children:Object(s.jsx)(ie.a,{color:b?"secondary":"inherit",disabled:p,onClick:m,size:"small",children:p?Object(s.jsx)(ee.a,{color:"secondary",size:20}):Object(s.jsx)(Te.a,{fontSize:"small"})})})}):Object(s.jsx)(ce.a,{color:"secondary",disabled:p,fullWidth:!0,onClick:m,startIcon:Object(s.jsx)(Te.a,{}),variant:b?"contained":"outlined",children:b?"Remove from recommendations":"Recommend"})},et=n(295),tt=Object(y.a)((function(e){return e.users.watchlist}),(function(e){return e}));function nt(){return Object(y.a)([function(e){return e.users.watchlist},function(e,t){return D(t)},function(e,t,n){return n}],(function(e,t,n){var r=e.find((function(e){return e.type===t&&e[t].ids.slug===n}));return Boolean(r)}))}var rt=Object(k.b)("users/watchlist/fetch",Object(c.a)(a.a.mark((function e(){var t,n,r,c,s=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:_(),n=s.length>1?s[1]:void 0,r=n.rejectWithValue,e.prev=2,e.next=5,xe.a.get("/trakt/users/".concat(t,"/watchlist"));case 5:return c=e.sent,e.abrupt("return",c.data);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",r(e.t0.toString()));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))),at=Object(k.b)("users/watchlist/add",function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.entity,c=t.slug,s=n.rejectWithValue,e.prev=2,e.next=5,xe.a.post("/trakt/sync/watchlist",Object(ve.a)({},r,[{ids:{slug:c}}]));case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(2),e.abrupt("return",s(e.t0.toString()));case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,n){return e.apply(this,arguments)}}()),ct=Object(k.b)("users/watchlist/remove",function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.entity,c=t.slug,s=n.rejectWithValue,e.prev=2,e.next=5,xe.a.post("/trakt/sync/watchlist/remove",Object(ve.a)({},r,[{ids:{slug:c}}]));case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(2),e.abrupt("return",s(e.t0.toString()));case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,n){return e.apply(this,arguments)}}());var st=Object(k.c)({extraReducers:Object(ve.a)({},rt.fulfilled,(function(e,t){return t.payload})),initialState:[],name:"users/watchlist",reducers:{}}).reducer;var it,ot=function(e){var t=e.entity,n=e.size,r=void 0===n?"default":n,o=e.slug,u=Object(j.b)(),l=Object(i.useMemo)(nt,[]),d=Object(i.useMemo)(fe,[]),b=Object(j.c)((function(e){return l(e,t,o)})),p=Object(j.c)((function(e){return d(e,["users/watchlist/fetch","users/watchlist/add","users/watchlist/remove"])}));function m(){var e;b?u((e={entity:t,slug:o},function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(ct(e));case 2:return t.next=4,n(rt());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())):u(function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(at(e));case 2:return t.next=4,n(rt());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({entity:t,slug:o}))}return"small"===r?Object(s.jsx)(se.a,{title:b?"Remove from watchlist":"Add to watchlist",children:Object(s.jsx)("span",{children:Object(s.jsx)(ie.a,{color:b?"secondary":"inherit",disabled:p,onClick:m,size:"small",children:p?Object(s.jsx)(ee.a,{color:"secondary",size:20}):Object(s.jsx)(et.a,{fontSize:"small"})})})}):Object(s.jsx)(ce.a,{color:"secondary",disabled:p,fullWidth:!0,onClick:m,startIcon:Object(s.jsx)(et.a,{}),variant:b?"contained":"outlined",children:b?"Remove from watchlist":"Add to watchlist"})},ut=n(244),lt=n(310),dt=n(297),jt=n(298),bt=n(124),pt=n.n(bt),mt=n(125),ht=n.n(mt),ft=Object(k.b)("users/comments/fetch",function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,s,i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.page,c=t.userSlug,s=void 0===c?_():c,i=n.rejectWithValue,e.prev=2,e.next=5,xe.a.get("/trakt/users/".concat(s,"/comments?page=").concat(r,"&limit=").concat(E));case 5:return o=e.sent,e.abrupt("return",{entities:o.data,total:parseInt(o.headers["x-pagination-page-count"])});case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",i(e.t0.toString()));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}()),Ot=Object(k.b)("users/comments/post",function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,s,i,o,u,l,d;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.comment,c=t.entity,s=t.slug,i=t.spoiler,o=void 0!==i&&i,u=n.rejectWithValue,c=D(c),e.prev=3,e.next=6,xe.a.post("/trakt/comments",(l={comment:r},Object(ve.a)(l,c,{ids:{slug:s}}),Object(ve.a)(l,"spoiler",o),l));case 6:return d=e.sent,e.abrupt("return",d.data);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",u(e.t0.toString()));case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t,n){return e.apply(this,arguments)}}()),vt=Object(k.b)("users/comments/remove",function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,xe.a.delete("/trakt/comments/".concat(t));case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",r(e.t0.toString()));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()),gt=Object(k.b)("users/comments/update",function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,s,i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.comment,c=t.id,s=t.spoiler,i=n.rejectWithValue,e.prev=2,e.next=5,xe.a.put("/trakt/comments/".concat(c),{comment:r,spoiler:s});case 5:return o=e.sent,e.abrupt("return",o.data);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",i(e.t0.toString()));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}()),xt=Object(k.c)({extraReducers:(it={},Object(ve.a)(it,ft.fulfilled,(function(e,t){e.entities=t.payload.entities,e.pagination.total=t.payload.total})),Object(ve.a)(it,vt.fulfilled,(function(e,t){var n=t.meta.arg,r=e.entities.findIndex((function(e){return e.comment.id===n}));-1!==r&&e.entities.splice(r,1)})),Object(ve.a)(it,gt.fulfilled,(function(e,t){var n=e.entities.findIndex((function(e){return e.comment.id===t.payload.id}));-1!==n&&(e.entities[n].comment=t.payload)})),it),initialState:{entities:[],pagination:{total:0}},name:"users/comments",reducers:{}}).reducer,yt=n(305),wt=n(296);var kt=function(e){var t=e.comment,n=void 0===t?"":t,r=e.onSubmit,a=e.spoiler,c=void 0!==a&&a,o=Object(i.useState)({comment:n,spoiler:c}),u=Object(x.a)(o,2),l=u[0],d=u[1];function j(){d({comment:n,spoiler:c})}return Object(s.jsxs)("div",{children:[Object(s.jsx)(yt.a,{fullWidth:!0,helperText:"Enhance your comment with :emoji:, **bold**, _italics_, ~~strike~~, ==highlight==, >quote, `code`, [spoiler]text[/spoiler]",label:"Your comment",multiline:!0,onChange:function(e){var t=e.target.value;d(Object(M.a)(Object(M.a)({},l),{},{comment:t}))},value:l.comment,variant:"outlined"}),Object(s.jsxs)("div",{style:{textAlign:"right"},children:[Object(s.jsx)(wt.a,{color:"primary",onChange:function(){d(Object(M.a)(Object(M.a)({},l),{},{spoiler:!l.spoiler}))},selected:l.spoiler,size:"small",children:l.spoiler?"Marked as spoiler":"Mark as spoiler"})," ",Object(s.jsx)(ce.a,{color:"secondary",onClick:function(){r({comment:l.comment,reset:j,spoiler:l.spoiler})},variant:"outlined",children:"Submit"})]})]})};var Pt=function(e){var t=e.comment,n=e.createdAt,r=e.id,a=e.review,c=e.spoiler,o=e.username,u=e.userRating,l=e.userSlug,d=Object(i.useMemo)(fe,[]),b=Object(j.b)(),p=Object(j.c)((function(e){return d(e,["users/comments/remove","users/comments/update"])})),h=Object(i.useState)(null),f=Object(x.a)(h,2),v=f[0],g=f[1],y=_()===l,w="editing"===v,k="removing"===v;return Object(s.jsxs)(s.Fragment,{children:[p&&(w||k)&&Object(s.jsx)(ue.a,{}),Object(s.jsx)(T.a,{component:ut.a,children:Object(s.jsx)(V.a,{primary:Object(s.jsxs)(m.a,{container:!0,justify:"space-between",children:[Object(s.jsxs)(m.a,{item:!0,children:[Object(s.jsxs)(O.a,{display:"inline",variant:"body2",children:[a?"Review":"Shout"," by ",o]}),Object(s.jsxs)(O.a,{display:"inline",variant:"caption",children:[" | ".concat(new Date(n).toLocaleString("da-Dk")," \n                ").concat(u?"| rated ".concat(u," stars"):""),c&&Object(s.jsxs)(s.Fragment,{children:[" | "," ",Object(s.jsx)(lt.a,{label:"Spoiler",size:"small"})]})]})]}),y&&Object(s.jsxs)(m.a,{item:!0,children:[Object(s.jsx)(ie.a,{onClick:function(){g(w?"default":"editing")},size:"small",children:Object(s.jsx)(dt.a,{fontSize:"small"})}),Object(s.jsx)(ie.a,{onClick:function(){g("removing"),b(vt(r))},size:"small",children:Object(s.jsx)(jt.a,{fontSize:"small"})})]})]}),secondary:w?Object(s.jsx)(kt,{comment:t,onSubmit:function(e){e.reset;var t=Object(H.a)(e,["reset"]);b(gt(Object(M.a)(Object(M.a)({},t),{},{id:r}))).then((function(){return g("default")}))},spoiler:c}):Object(s.jsx)(ht.a,{allowDangerousHtml:!0,children:pt.a.shortnameToImage(t)}),secondaryTypographyProps:{component:"div"}})})]})};function St(e){var t={comment:e.comment,createdAt:e.created_at,id:e.id,review:e.review,spoiler:e.spoiler,username:e.user.username,userRating:e.user_rating,userSlug:e.user.ids.slug},n=t.id;return Object(s.jsx)(Pt,Object(M.a)({},t),n)}var It=[["highest","Highest"],["newest","Newest"],["likes","Likes"]],Nt=n(299),Rt=Object(F.a)((function(e){return{textFieldRoot:{minWidth:133}}}));var Ct=function(e){var t=e.onChange,n=e.value,r=Rt();return Object(s.jsx)(yt.a,{classes:{root:r.textFieldRoot},label:"Sort comments by",onChange:function(e){var n=e.target.value;t(n)},select:!0,size:"small",value:n,variant:"outlined",children:It.map((function(e){var t=Object(x.a)(e,2),n=t[0],r=t[1];return Object(s.jsx)(Nt.a,{value:n,children:r},n)}))})},Wt=n(300),zt=n(301),Ft=n(302),Lt=n(303),Mt=Object(F.a)((function(e){return{root:function(t){var n=t.isWrapped;return{"& > *:not(:last-child)":{marginRight:e.spacing(1)},display:n?"block":"inline-block",margin:n?"".concat(e.spacing(1),"px 0"):"initial",textAlign:n?"right":"inherit"}}}}));var Tt=function(e){var t=e.disabled,n=void 0!==t&&t,r=e.hasNextPage,a=e.hasPreviousPage,c=e.onFirstPage,i=e.onLastPage,o=e.onNextPage,u=e.onPreviousPage,l=e.page,d=e.pagesTotal,j=e.variant,b=Mt({isWrapped:"wrapped"===(void 0===j?"wrapped":j)}),p=n||1===l,m=n||!a,h=n||!r,f=n||l===d;return Object(s.jsxs)("div",{className:b.root,children:[Object(s.jsx)(se.a,{title:"Go to first page",children:Object(s.jsx)("span",{children:Object(s.jsx)(ie.a,{disabled:p,onClick:c,size:"small",children:Object(s.jsx)(Wt.a,{})})})}),Object(s.jsx)(se.a,{title:"Go to previous page",children:Object(s.jsx)("span",{children:Object(s.jsx)(ie.a,{disabled:m,onClick:u,size:"small",children:Object(s.jsx)(zt.a,{})})})}),Object(s.jsxs)(O.a,{variant:"caption",children:["Page ",l," of ",d]}),Object(s.jsx)(se.a,{title:"Go to next page",children:Object(s.jsx)("span",{children:Object(s.jsx)(ie.a,{disabled:h,onClick:o,size:"small",children:Object(s.jsx)(Ft.a,{})})})}),Object(s.jsx)(se.a,{title:"Go to last page",children:Object(s.jsx)("span",{children:Object(s.jsx)(ie.a,{disabled:f,onClick:i,size:"small",children:Object(s.jsx)(Lt.a,{})})})})]})};var Vt=function(e){var t=e.entity,n=e.season,r=e.size,a=e.tmdbId,c=e.type;if(t=D(t),!a)return"/images/placeholder.png";var s="/images/".concat(t,"/").concat(a,"/").concat(c,"?");return void 0!==n&&(s+="season=".concat(n)),r&&(s+="size=".concat(r)),s},Bt=Object(F.a)((function(e){return{children:{textAlign:"center"},content:{bottom:e.spacing(1),left:e.spacing(1),position:"absolute"},footer:{"& > *:not(:last-child)":{marginRight:e.spacing(1)},backgroundColor:e.palette.grey[900],height:30,padding:2},link:function(t){var n=t.backgroundImage,r=t.isPerson;return{background:"url(".concat(n,") no-repeat ").concat(r?"top center":"center"),color:e.palette.primary.contrastText,display:"block",paddingTop:"148%",position:"relative",width:"100%"}},root:{}}}));var At=function(e){var t=e.children,n=e.content,r=e.entity,a=e.season,c=e.size,i=void 0===c?"default":c,o=e.slug,u=e.tmdbId,l="people"===r,d="small"===i,j=Vt({entity:r,season:a,size:l?d?"w185":"h632":d?"w185":"w342",tmdbId:u,type:l?"profile":"poster"}),b=Bt({backgroundImage:j,isPerson:l});return Object(s.jsxs)("div",{className:b.root,children:[Object(s.jsx)(p.b,{className:b.link,style:{backgroundSize:"cover"},to:"/app/".concat(r,"/").concat(o),children:n&&Object(s.jsx)("div",{className:b.content,children:n})}),Object(s.jsx)("div",{className:b.children,children:t})]})};var Et,_t,qt,Dt=function(e){var t=Object(p.d)(),n=Object(x.a)(t,2),r=n[0],a=n[1],c=Object(i.useMemo)((function(){return Object.fromEntries(r)}),[r]),s=c.page,o=void 0===s?"1":s,u=Object(H.a)(c,["page"]),l=Object(j.c)(e);return{hasNextPage:parseInt(o)<l,hasPreviousPage:parseInt(o)>1,page:parseInt(o),pagesTotal:l,toFirstPage:function(){a(Object(M.a)({page:1},u))},toLastPage:function(){a(Object(M.a)({page:l},u))},toNextPage:function(){a(Object(M.a)({page:parseInt(o)+1},u))},toPage:function(e){a(Object(M.a)({page:parseInt(e)},u))},toPreviousPage:function(){a(Object(M.a)({page:parseInt(o)-1},u))}}},Gt=Object(y.a)((function(e){return e.comments.entities}),(function(e){return e})),Jt=Object(y.a)((function(e){return e.comments.pagination.total}),(function(e){return e})),Ht=Object(k.b)("movie/fetch",function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,s,i,o,u,l,d,j;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,Promise.all([xe.a.get("/trakt/movies/".concat(t,"/stats")),xe.a.get("/trakt/movies/".concat(t,"?extended=full")),xe.a.get("/trakt/movies/".concat(t,"/comments/highest")),xe.a.get("/trakt/movies/".concat(t,"/people")),xe.a.get("/trakt/movies/".concat(t,"/ratings")),xe.a.get("/trakt/movies/".concat(t,"/related"))]);case 4:return c=e.sent,s=Object(x.a)(c,6),i=s[0],o=s[1],u=s[2],l=s[3],d=s[4],j=s[5],e.abrupt("return",{comments:u.data,people:l.data,ratings:d.data,related:j.data,stats:i.data,summary:o.data});case 15:return e.prev=15,e.t0=e.catch(1),e.abrupt("return",r(e.t0.toString()));case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,n){return e.apply(this,arguments)}}()),Ut=Object(k.c)({extraReducers:(Et={},Object(ve.a)(Et,vt.fulfilled,(function(e,t){var n=t.meta.arg,r=e.comments.findIndex((function(e){return e.id===n}));-1!==r&&e.comments.splice(r,1)})),Object(ve.a)(Et,Ht.fulfilled,(function(e,t){return t.payload})),Object(ve.a)(Et,gt.fulfilled,(function(e,t){var n=e.comments.findIndex((function(e){return e.id===t.payload.id}));-1!==n&&(e.comments[n]=t.payload)})),Et),initialState:{comments:[],people:null,ratings:null,related:[],stats:null,summary:null},name:"movie",reducers:{}}).reducer,Yt=Object(k.b)("show/fetch",function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,s,i,o,u,l,d,j,b;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,Promise.all([xe.a.get("/trakt/shows/".concat(t,"?extended=full")),xe.a.get("/trakt/shows/".concat(t,"/comments/highest")),xe.a.get("/trakt/shows/".concat(t,"/people")),xe.a.get("/trakt/shows/".concat(t,"/ratings")),xe.a.get("/trakt/shows/".concat(t,"/related")),xe.a.get("/trakt/shows/".concat(t,"/stats")),xe.a.get("/trakt/shows/".concat(t,"/seasons?extended=episodes"))]);case 4:return c=e.sent,s=Object(x.a)(c,7),i=s[0],o=s[1],u=s[2],l=s[3],d=s[4],j=s[5],b=s[6],e.abrupt("return",{comments:o.data,people:u.data,ratings:l.data,related:d.data,seasons:b.data.reverse(),stats:j.data,summary:i.data});case 16:return e.prev=16,e.t0=e.catch(1),e.abrupt("return",r(e.t0.toString()));case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t,n){return e.apply(this,arguments)}}()),Kt=Object(k.c)({extraReducers:(_t={},Object(ve.a)(_t,Yt.fulfilled,(function(e,t){return t.payload})),Object(ve.a)(_t,vt.fulfilled,(function(e,t){var n=t.meta.arg,r=e.comments.findIndex((function(e){return e.id===n}));-1!==r&&e.comments.splice(r,1)})),Object(ve.a)(_t,gt.fulfilled,(function(e,t){var n=e.comments.findIndex((function(e){return e.id===t.payload.id}));-1!==n&&(e.comments[n]=t.payload)})),_t),initialState:{comments:[],people:null,ratings:null,related:[],seasons:[],stats:null,summary:null},name:"show",reducers:{}}).reducer,Qt=Object(k.b)("comments/fetch",function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,s,i,o,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.entity,c=t.page,s=t.slug,i=t.sort,o=n.rejectWithValue,e.prev=2,e.next=5,xe.a.get("/trakt/".concat(r,"/").concat(s,"/comments/").concat(i,"?page=").concat(c,"&limit=").concat(A));case 5:return u=e.sent,e.abrupt("return",{entities:u.data,total:parseInt(u.headers["x-pagination-page-count"])});case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",o(e.t0.toString()));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}());var Xt=Object(k.c)({extraReducers:(qt={},Object(ve.a)(qt,Qt.fulfilled,(function(e,t){e.entities=t.payload.entities,e.pagination.total=t.payload.total})),Object(ve.a)(qt,Ot.fulfilled,(function(e,t){e.entities.unshift(t.payload)})),Object(ve.a)(qt,vt.fulfilled,(function(e,t){var n=t.meta.arg,r=e.entities.findIndex((function(e){return e.id===n}));-1!==r&&e.entities.splice(r,1)})),Object(ve.a)(qt,gt.fulfilled,(function(e,t){var n=e.entities.findIndex((function(e){return e.id===t.payload.id}));-1!==n&&(e.entities[n]=t.payload)})),qt),initialState:{entities:[],pagination:{total:0}},name:"comments",reducers:{}}).reducer,Zt=Object(y.a)((function(e){return e.movie}),(function(e){return e})),$t=Object(y.a)((function(e){return e.show}),(function(e){return e})),en=Object(F.a)((function(e){return{buttons:{"& > *:not(last-child)":{marginBottom:e.spacing(1)}},commentsRoot:{"& > *:not(:last-child)":{marginBottom:e.spacing(1)}},content:{"& > *:not(:last-child)":{marginBottom:e.spacing(2)},marginLeft:342,paddingLeft:e.spacing(2)},facts:{display:"flex",flexWrap:"wrap"},factsItem:{"& > :first-child":{marginRight:e.spacing(1)},marginBottom:e.spacing(1),marginRight:e.spacing(2),whiteSpace:"nowrap"},fixedColumn:{position:"fixed",width:342},overview:{marginBottom:e.spacing(3)},root:{padding:e.spacing(2),position:"relative"}}})),tn=[["Comments","#comments"]];var nn=function(e){var t,n,r,o=e.entity,u=en(),l=Object(i.useMemo)(fe,[]),d=Object(i.useRef)(!0),p=Object(b.j)().slug,h=Object(j.b)(),f=Dt(Jt),y=f.hasNextPage,w=f.hasPreviousPage,k=f.page,P=f.pagesTotal,S=f.toFirstPage,I=f.toLastPage,N=f.toNextPage,R=f.toPreviousPage,C=Object(j.c)("movies"===o?Zt:$t),W=Object(j.c)(Gt),z=Object(j.c)((function(e){return l(e,["comments/fetch","movie/fetch","show/fetch"])})),F=Object(i.useState)("highest"),L=Object(x.a)(F,2),B=L[0],A=L[1];return Object(i.useEffect)((function(){if(d.current)return d.current=!1,void h(function(e){var t=e.entity,n=e.slug,r="movies"===t?Ht:Yt;return function(){var t=Object(c.a)(a.a.mark((function t(c){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([c(r(n)),c(Qt(e))]);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}({entity:o,page:k,slug:p,sort:"highest"}));h(Qt({entity:o,page:k,slug:p,sort:B}))}),[h,o,k,p,B]),Object(s.jsxs)("div",{className:u.root,children:[Object(s.jsxs)("div",{className:u.fixedColumn,children:[Object(s.jsx)(At,{entity:o,slug:p,tmdbId:null===(t=C.summary)||void 0===t?void 0:t.ids.tmdb}),Object(s.jsx)(g.a,{children:tn.map((function(e){var t=Object(x.a)(e,2),n=t[0],r=t[1];return Object(s.jsxs)(i.Fragment,{children:[Object(s.jsx)(T.a,{button:!0,component:"a",href:r,children:Object(s.jsx)(V.a,{children:n})}),Object(s.jsx)(v.a,{})]},r)}))}),Object(s.jsxs)("div",{className:u.buttons,children:[Object(s.jsx)(Me,{entity:"movies",slug:p}),Object(s.jsx)(ot,{entity:"movies",slug:p}),Object(s.jsx)($e,{entity:"movies",slug:p}),Object(s.jsx)(He,{entity:"movies",slug:p})]})]}),Object(s.jsxs)("div",{className:u.content,children:[Object(s.jsxs)("div",{className:u.overview,id:"overview",children:[Object(s.jsx)(O.a,{display:"block",variant:"overline",children:"All comments about:"}),Object(s.jsxs)(O.a,{display:"inline",variant:"h4",children:[null===(n=C.summary)||void 0===n?void 0:n.title," "]}),Object(s.jsx)(O.a,{color:"textSecondary",display:"inline",variant:"h5",children:null===(r=C.summary)||void 0===r?void 0:r.year})]}),Object(s.jsx)(O.a,{id:"actors",variant:"h5",children:"Add comment"}),Object(s.jsx)(kt,{onSubmit:function(e){var t=e.reset,n=Object(H.a)(e,["reset"]);h(Ot(Object(M.a)(Object(M.a)({},n),{},{entity:o,slug:p}))).then(t)}}),Object(s.jsxs)(m.a,{alignItems:"flex-end",classes:{root:u.commentsRoot},container:!0,justify:"space-between",children:[Object(s.jsx)(m.a,{item:!0,children:Object(s.jsx)(Ct,{onChange:A,value:B})}),Object(s.jsx)(m.a,{item:!0,children:Object(s.jsx)(Tt,{disabled:z,hasNextPage:y,hasPreviousPage:w,onFirstPage:S,onLastPage:I,onNextPage:N,onPreviousPage:R,page:k,pagesTotal:P,variant:"inlined"})}),W.map(St),Object(s.jsx)("div",{children:"\u1cbc"}),Object(s.jsx)(m.a,{item:!0,children:Object(s.jsx)(Tt,{disabled:z,hasNextPage:y,hasPreviousPage:w,onFirstPage:S,onLastPage:I,onNextPage:N,onPreviousPage:R,page:k,pagesTotal:P,variant:"inlined"})})]})]})]})},rn=Object(F.a)((function(e){return{chips:{"& > *":{margin:"0 ".concat(e.spacing(.5),"px ").concat(e.spacing(.5),"px 0")}},footer:{"& > *:not(:last-child)":{marginRight:e.spacing(1)},backgroundColor:e.palette.grey[900],color:e.palette.common.white,height:30,padding:2,textAlign:"left"}}}));var an=function(e){var t=e.children,n=e.chips,r=void 0===n?[]:n,a=e.entity,c=e.primary,i=e.secondary,o=e.slug,u=Object(H.a)(e,["children","chips","entity","primary","secondary","slug"]),l=rn(),d=Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:l.chips,children:r.map((function(e){return Object(s.jsx)(lt.a,{color:"secondary",label:e,size:"small"},e)}))}),Object(s.jsx)(O.a,{display:"inline",variant:"subtitle2",children:c}),i&&Object(s.jsxs)(O.a,{display:"inline",variant:"caption",children:[" ",i]})]});return Object(s.jsxs)(At,Object(M.a)(Object(M.a)({},u),{},{content:d,entity:a,slug:o,children:[Object(s.jsxs)("div",{className:l.footer,children:[Object(s.jsx)(ot,{entity:a,size:"small",slug:o}),Object(s.jsx)($e,{entity:a,size:"small",slug:o}),Object(s.jsx)(Me,{entity:a,size:"small",slug:o})]}),t]}))},cn=Object(F.a)((function(e){return{buttons:{"& > *:not(last-child)":{marginBottom:e.spacing(1)}},content:{"& > *:not(:last-child)":{marginBottom:e.spacing(2)},marginLeft:342,paddingLeft:e.spacing(2)},facts:{display:"flex",flexWrap:"wrap"},factsItem:{"& > :first-child":{marginRight:e.spacing(1)},marginBottom:e.spacing(1),marginRight:e.spacing(2),whiteSpace:"nowrap"},fixedColumn:{position:"fixed",width:342},root:{padding:e.spacing(2),position:"relative"}}})),sn=[["Overview","#overview"],["Actors","#actors"],["Comments","#comments"],["Related","#related"]];var on=function(){var e,t,n,r,a,c,o,u=cn(),l=Object(j.b)(),d=Object(b.j)().slug,h=Object(j.c)(Zt);return Object(i.useEffect)((function(){l(Ht(d))}),[l,d]),Object(s.jsxs)("div",{className:u.root,children:[Object(s.jsxs)("div",{className:u.fixedColumn,children:[Object(s.jsx)(At,{entity:"movies",slug:d,tmdbId:null===(e=h.summary)||void 0===e?void 0:e.ids.tmdb}),Object(s.jsx)(g.a,{children:sn.map((function(e){var t=Object(x.a)(e,2),n=t[0],r=t[1];return Object(s.jsxs)(i.Fragment,{children:[Object(s.jsx)(T.a,{button:!0,component:"a",href:r,children:Object(s.jsx)(V.a,{children:n})}),Object(s.jsx)(v.a,{})]},r)}))}),Object(s.jsxs)("div",{className:u.buttons,children:[Object(s.jsx)(Me,{entity:"movies",slug:d}),Object(s.jsx)(ot,{entity:"movies",slug:d}),Object(s.jsx)($e,{entity:"movies",slug:d}),Object(s.jsx)(He,{entity:"movies",slug:d})]})]}),Object(s.jsxs)("div",{className:u.content,children:[Object(s.jsxs)("div",{id:"overview",children:[Object(s.jsxs)(O.a,{display:"inline",variant:"h4",children:[null===(t=h.summary)||void 0===t?void 0:t.title," "]}),Object(s.jsx)(O.a,{color:"textSecondary",display:"inline",variant:"h5",children:null===(n=h.summary)||void 0===n?void 0:n.year})]}),Object(s.jsx)("div",{className:u.facts,children:q(h).map((function(e){var t=Object(x.a)(e,2),n=t[0],r=t[1];return Object(s.jsxs)("span",{className:u.factsItem,children:[Object(s.jsx)(O.a,{color:"textSecondary",display:"inline",variant:"body2",children:n}),Object(s.jsx)(O.a,{display:"inline",variant:"body2",children:r})]},n)}))}),Object(s.jsxs)(O.a,{variant:"body2",children:[Object(s.jsxs)("i",{children:[null===(r=h.summary)||void 0===r?void 0:r.tagline," "]}),null===(a=h.summary)||void 0===a?void 0:a.overview]}),Object(s.jsx)(O.a,{id:"actors",variant:"h5",children:"Actors"}),Object(s.jsx)(m.a,{container:!0,spacing:1,style:{overflow:"auto"},wrap:"nowrap",children:null===(c=h.people)||void 0===c?void 0:c.cast.map((function(e){var t=e.character,n=e.person;return Object(s.jsx)(m.a,{item:!0,style:{flex:"0 0 128px"},children:Object(s.jsxs)(At,{entity:"people",size:"small",slug:n.ids.slug,tmdbId:n.ids.tmdb,children:[Object(s.jsxs)(O.a,{color:"textSecondary",variant:"caption",children:[n.name," "]}),Object(s.jsx)(O.a,{variant:"caption",children:t})]})},n.name)}))}),Object(s.jsxs)(m.a,{alignItems:"center",container:!0,justify:"space-between",children:[Object(s.jsx)(O.a,{id:"comments",variant:"h5",children:"Comments"}),Object(s.jsxs)(ce.a,{color:"secondary",component:p.b,size:"small",to:"comments",variant:"outlined",children:["All ",null===(o=h.stats)||void 0===o?void 0:o.comments," comments"]})]}),h.comments.map(St),Object(s.jsx)(O.a,{id:"related",variant:"h5",children:"Related"}),Object(s.jsx)(m.a,{container:!0,spacing:1,children:h.related.map((function(e){return Object(s.jsx)(m.a,{item:!0,xs:2,children:Object(s.jsx)(an,{entity:"movies",primary:e.title,secondary:e.year,slug:e.ids.slug,tmdbId:e.ids.tmdb})},e.ids.slug)}))})]})]})},un=Object(y.a)((function(e){return e.movies.entities}),(function(e){return e})),ln=Object(y.a)((function(e){return e.movies.pagination.total}),(function(e){return e})),dn=Object(k.b)("movies/fetch",function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,s,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.category,c=t.page,s=n.rejectWithValue,e.prev=2,e.next=5,xe.a.get("/trakt/movies/".concat(r,"?page=").concat(c,"&limit=").concat(E));case 5:return i=e.sent,"popular"===r&&(i.data=i.data.map((function(e){return{movie:e}}))),e.abrupt("return",{entities:i.data,total:parseInt(i.headers["x-pagination-page-count"])});case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",s(e.t0.toString()));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}()),jn=Object(k.c)({extraReducers:Object(ve.a)({},dn.fulfilled,(function(e,t){e.entities=t.payload.entities,e.pagination.total=t.payload.total})),initialState:{entities:[],pagination:{total:0}},name:"movies",reducers:{}}).reducer;function bn(e){var t=e.category,n=e.movies;switch(t){case"trending":return function(e){return e.map((function(e){var t=e.movie,n=e.watchers,r=void 0===n?0:n,a=[];return r&&a.push("".concat(r," people watching")),Object(s.jsx)(m.a,{item:!0,lg:2,md:3,sm:6,xs:12,children:Object(s.jsx)(an,{chips:a,entity:"movies",primary:t.title,secondary:t.year,slug:t.ids.slug,tmdbId:t.ids.tmdb})},t.ids.trakt)}))}(n);case"popular":return function(e){return e.map((function(e){var t=e.movie;return Object(s.jsx)(m.a,{item:!0,lg:2,md:3,sm:6,xs:12,children:Object(s.jsx)(an,{entity:"movies",primary:t.title,secondary:t.year,slug:t.ids.slug,tmdbId:t.ids.tmdb})},t.ids.trakt)}))}(n);case"recommended":return function(e){return e.map((function(e){var t=e.movie,n=e.user_count,r=void 0===n?0:n,a=[];return r&&a.push("".concat(r," people")),Object(s.jsx)(m.a,{item:!0,lg:2,md:3,sm:6,xs:12,children:Object(s.jsx)(an,{chips:a,entity:"movies",primary:t.title,secondary:t.year,slug:t.ids.slug,tmdbId:t.ids.tmdb})},t.ids.trakt)}))}(n);case"watched":return function(e){return e.map((function(e){var t=e.movie,n=e.play_count,r=void 0===n?0:n,a=e.watcher_count,c=void 0===a?0:a,i=[];return r&&i.push("".concat(r," plays")),c&&i.push("".concat(c," watches")),Object(s.jsx)(m.a,{item:!0,lg:2,md:3,sm:6,xs:12,children:Object(s.jsx)(an,{chips:i,entity:"movies",primary:t.title,secondary:t.year,slug:t.ids.slug,tmdbId:t.ids.tmdb})},t.ids.trakt)}))}(n);case"anticipated":return function(e){return e.map((function(e){var t=e.list_count,n=void 0===t?0:t,r=e.movie,a=[];return n&&a.push("In ".concat(n," lists")),Object(s.jsx)(m.a,{item:!0,lg:2,md:3,sm:6,xs:12,children:Object(s.jsx)(an,{chips:a,entity:"movies",primary:r.title,secondary:r.year,slug:r.ids.slug,tmdbId:r.ids.tmdb})},r.ids.trakt)}))}(n);default:return null}}var pn=function(e){var t=e.category,n=Object(j.b)(),r=Dt(ln),a=r.hasNextPage,c=r.hasPreviousPage,o=r.page,u=r.pagesTotal,l=r.toFirstPage,d=r.toLastPage,b=r.toNextPage,p=r.toPreviousPage,h=Object(j.c)(un);return Object(i.useEffect)((function(){n(dn({category:t,page:o}))}),[t,n,o]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(m.a,{container:!0,children:bn({category:t,movies:h})}),Object(s.jsx)(Tt,{hasNextPage:a,hasPreviousPage:c,onFirstPage:l,onLastPage:d,onNextPage:b,onPreviousPage:p,page:o,pagesTotal:u})]})},mn=Object(y.a)((function(e){return e.person}),(function(e){return e})),hn=Object(k.b)("person/fetch",function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,s,i,o,u;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,Promise.all([xe.a.get("/trakt/people/".concat(t,"?extended=full")),xe.a.get("/trakt/people/".concat(t,"/movies")),xe.a.get("/trakt/people/".concat(t,"/shows"))]);case 4:return c=e.sent,s=Object(x.a)(c,3),i=s[0],o=s[1],u=s[2],e.abrupt("return",{movies:o.data,shows:u.data,summary:i.data});case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",r(e.t0.toString()));case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,n){return e.apply(this,arguments)}}()),fn=Object(k.c)({extraReducers:Object(ve.a)({},hn.fulfilled,(function(e,t){return t.payload})),initialState:{movies:[],shows:[],summary:null},name:"person",reducers:{}}).reducer,On=Object(F.a)((function(e){return{buttons:{"& > *:not(last-child)":{marginBottom:e.spacing(1)}},content:{"& > *:not(:last-child)":{marginBottom:e.spacing(2)},marginLeft:342,paddingLeft:e.spacing(2)},facts:{display:"flex",flexWrap:"wrap"},factsItem:{"& > :first-child":{marginRight:e.spacing(1)},marginBottom:e.spacing(1),marginRight:e.spacing(2),whiteSpace:"nowrap"},fixedColumn:{position:"fixed",width:342},root:{padding:e.spacing(2),position:"relative"}}})),vn=[["Overview","#overview"],["Movies","#movies"],["Shows","#shows"]];function gn(e){if(!e)return[];var t=e.summary;return[["Birthplace",null===t||void 0===t?void 0:t.birthplace],["Birthday",new Date(null===t||void 0===t?void 0:t.birthday).toLocaleDateString("da-Dk")]]}var xn=function(){var e,t,n,r,a,c,o,u=On(),l=Object(j.b)(),d=Object(b.j)().slug,p=Object(j.c)(mn);return Object(i.useEffect)((function(){l(hn(d))}),[l,d]),Object(s.jsxs)("div",{className:u.root,children:[Object(s.jsxs)("div",{className:u.fixedColumn,children:[Object(s.jsx)(At,{entity:"people",slug:d,tmdbId:null===(e=p.summary)||void 0===e?void 0:e.ids.tmdb}),Object(s.jsx)(g.a,{children:vn.map((function(e){var t=Object(x.a)(e,2),n=t[0],r=t[1];return Object(s.jsxs)(i.Fragment,{children:[Object(s.jsx)(T.a,{button:!0,component:"a",href:r,children:Object(s.jsx)(V.a,{children:n})}),Object(s.jsx)(v.a,{})]},r)}))}),Object(s.jsx)("div",{className:u.buttons,children:Object(s.jsx)(Me,{entity:"people",slug:d})})]}),Object(s.jsxs)("div",{className:u.content,children:[Object(s.jsx)("div",{id:"overview",children:Object(s.jsx)(O.a,{display:"inline",variant:"h4",children:null===(t=p.summary)||void 0===t?void 0:t.name})}),Object(s.jsx)("div",{className:u.facts,children:gn(p).map((function(e){var t=Object(x.a)(e,2),n=t[0],r=t[1];return Object(s.jsxs)("span",{className:u.factsItem,children:[Object(s.jsx)(O.a,{color:"textSecondary",display:"inline",variant:"body2",children:n}),Object(s.jsx)(O.a,{display:"inline",variant:"body2",children:r})]},n)}))}),Object(s.jsx)(O.a,{variant:"body2",children:null===(n=p.summary)||void 0===n?void 0:n.biography}),Object(s.jsx)(O.a,{id:"movies",variant:"h5",children:"Movies"}),Object(s.jsx)(m.a,{container:!0,spacing:1,children:null===(r=p.movies)||void 0===r||null===(a=r.cast)||void 0===a?void 0:a.map((function(e){var t=e.character,n=e.movie;return Object(s.jsx)(m.a,{item:!0,xs:2,children:Object(s.jsx)(an,{entity:"movies",primary:n.title,secondary:n.year,slug:n.ids.slug,tmdbId:n.ids.tmdb,children:Object(s.jsx)(O.a,{variant:"caption",children:t})})},n.ids.slug)}))}),Object(s.jsx)(O.a,{id:"shows",variant:"h5",children:"Shows"}),Object(s.jsx)(m.a,{container:!0,spacing:1,children:null===(c=p.shows)||void 0===c||null===(o=c.cast)||void 0===o?void 0:o.map((function(e){var t=e.character,n=e.show;return Object(s.jsx)(m.a,{item:!0,xs:2,children:Object(s.jsx)(an,{entity:"shows",primary:n.title,secondary:n.year,slug:n.ids.slug,tmdbId:n.ids.tmdb,children:Object(s.jsx)(O.a,{variant:"caption",children:t})})},n.ids.slug)}))})]})]})},yn=Object(y.a)((function(e){return e.search.entities}),(function(e){return e})),wn=Object(y.a)((function(e){return e.search.pagination.total}),(function(e){return e})),kn=Object(k.b)("search/fetch",function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,s,i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.entity,c=t.page,s=t.query,i=n.rejectWithValue,e.prev=2,r=D(r),e.next=6,xe.a.get("/trakt/search/".concat(r,"?query=").concat(s,"&page=").concat(c,"&limit=").concat(E));case 6:return o=e.sent,e.abrupt("return",{entities:o.data,total:parseInt(o.headers["x-pagination-page-count"])});case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",i(e.t0.toString()));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}()),Pn=Object(k.c)({extraReducers:Object(ve.a)({},kn.fulfilled,(function(e,t){e.entities=t.payload.entities,e.pagination.total=t.payload.total})),initialState:{entities:[],pagination:{total:0}},name:"search",reducers:{}}).reducer;var Sn=function(e){var t=e.entity,n=Object(j.b)(),r=Dt(wn),a=r.hasNextPage,c=r.hasPreviousPage,o=r.page,u=r.toFirstPage,l=r.toLastPage,d=r.toNextPage,b=r.toPreviousPage,m=Object(p.d)(),h=Object(x.a)(m,2),f=h[0],O=h[1],v=Object(i.useMemo)((function(){return Object.fromEntries(f)}),[f]).query,g=void 0===v?"":v,y=Object(j.c)((function(e){return he(e,"search/fetch")})),w=Object(j.c)(yn);return Object(i.useEffect)((function(){n(kn({entity:t,page:o,query:g}))}),[n,t,o,g]),Object(s.jsxs)(s.Fragment,{children:[y&&Object(s.jsx)("div",{children:"Loading..."}),Object(s.jsx)(Tt,{disabled:y,hasNextPage:a,hasPreviousPage:c,onFirstPage:u,onLastPage:l,onNextPage:d,onPreviousPage:b}),Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{htmlFor:"query",children:"Input your query:"}),Object(s.jsx)("input",{id:"query",onChange:function(e){var t=e.target.value;O({query:t})},type:"text",value:g})]}),Object(s.jsx)("pre",{children:JSON.stringify(w,null,2)})]})},In=Object(F.a)((function(e){return{buttons:{"& > *:not(last-child)":{marginBottom:e.spacing(1)}},content:{"& > *:not(:last-child)":{marginBottom:e.spacing(2)},marginLeft:342,paddingLeft:e.spacing(2)},facts:{display:"flex",flexWrap:"wrap"},factsItem:{"& > :first-child":{marginRight:e.spacing(1)},marginBottom:e.spacing(1),marginRight:e.spacing(2),whiteSpace:"nowrap"},fixedColumn:{position:"fixed",width:342},root:{padding:e.spacing(2),position:"relative"}}})),Nn=[["Overview","#overview"],["Actors","#actors"],["Seasons","#seasons"],["Comments","#comments"],["Related","#related"]];var Rn=function(){var e,t,n,r,a,c,o,u=In(),l=Object(j.b)(),d=Object(b.j)().slug,h=Object(j.c)($t);return Object(i.useEffect)((function(){l(Yt(d))}),[l,d]),Object(s.jsxs)("div",{className:u.root,children:[Object(s.jsxs)("div",{className:u.fixedColumn,children:[Object(s.jsx)(At,{entity:"shows",slug:d,tmdbId:null===(e=h.summary)||void 0===e?void 0:e.ids.tmdb}),Object(s.jsx)(g.a,{children:Nn.map((function(e){var t=Object(x.a)(e,2),n=t[0],r=t[1];return Object(s.jsxs)(i.Fragment,{children:[Object(s.jsx)(T.a,{button:!0,component:"a",href:r,children:Object(s.jsx)(V.a,{children:n})}),Object(s.jsx)(v.a,{})]},r)}))}),Object(s.jsxs)("div",{className:u.buttons,children:[Object(s.jsx)(Me,{entity:"shows",slug:d}),Object(s.jsx)(ot,{entity:"shows",slug:d}),Object(s.jsx)($e,{entity:"shows",slug:d}),Object(s.jsx)(He,{entity:"shows",slug:d})]})]}),Object(s.jsxs)("div",{className:u.content,children:[Object(s.jsxs)("div",{id:"overview",children:[Object(s.jsxs)(O.a,{display:"inline",variant:"h4",children:[null===(t=h.summary)||void 0===t?void 0:t.title," "]}),Object(s.jsx)(O.a,{color:"textSecondary",display:"inline",variant:"h5",children:null===(n=h.summary)||void 0===n?void 0:n.year})]}),Object(s.jsx)("div",{className:u.facts,children:q(h).map((function(e){var t=Object(x.a)(e,2),n=t[0],r=t[1];return Object(s.jsxs)("span",{className:u.factsItem,children:[Object(s.jsx)(O.a,{color:"textSecondary",display:"inline",variant:"body2",children:n}),Object(s.jsx)(O.a,{display:"inline",variant:"body2",children:r})]},n)}))}),Object(s.jsxs)(O.a,{variant:"body2",children:[Object(s.jsxs)("i",{children:[null===(r=h.summary)||void 0===r?void 0:r.tagline," "]}),null===(a=h.summary)||void 0===a?void 0:a.overview]}),Object(s.jsx)(O.a,{id:"actors",variant:"h5",children:"Actors"}),Object(s.jsx)(m.a,{container:!0,spacing:1,style:{overflow:"auto"},wrap:"nowrap",children:null===(c=h.people)||void 0===c?void 0:c.cast.map((function(e){var t=e.character,n=e.person;return Object(s.jsx)(m.a,{item:!0,style:{flex:"0 0 128px"},children:Object(s.jsxs)(At,{entity:"people",size:"small",slug:n.ids.slug,tmdbId:n.ids.tmdb,children:[Object(s.jsxs)(O.a,{color:"textSecondary",variant:"caption",children:[n.name," "]}),Object(s.jsx)(O.a,{variant:"caption",children:t})]})},n.name)}))}),Object(s.jsx)(O.a,{id:"seasons",variant:"h5",children:"Seasons"}),Object(s.jsx)(m.a,{container:!0,spacing:1,children:h.seasons.map((function(e){var t,n,r;return Object(s.jsx)(m.a,{item:!0,xs:2,children:Object(s.jsxs)(At,{entity:"shows",season:e.number,slug:null===(t=h.summary)||void 0===t?void 0:t.ids.slug,tmdbId:null===(n=h.summary)||void 0===n?void 0:n.ids.tmdb,children:[Object(s.jsxs)(O.a,{variant:"body2",children:[0===e.number?"Specials":"Season ".concat(e.number)," "]}),Object(s.jsxs)(O.a,{color:"textSecondary",variant:"caption",children:[(null===(r=e.episodes)||void 0===r?void 0:r.length)||0," episodes"]})]})},e.number)}))}),Object(s.jsxs)(m.a,{alignItems:"center",container:!0,justify:"space-between",children:[Object(s.jsx)(O.a,{id:"comments",variant:"h5",children:"Comments"}),Object(s.jsxs)(ce.a,{color:"secondary",component:p.b,size:"small",to:"comments",variant:"outlined",children:["All ",null===(o=h.stats)||void 0===o?void 0:o.comments," comments"]})]}),h.comments.map(St),Object(s.jsx)(O.a,{id:"related",variant:"h5",children:"Related"}),Object(s.jsx)(m.a,{container:!0,spacing:1,children:h.related.map((function(e){return Object(s.jsx)(m.a,{item:!0,xs:2,children:Object(s.jsx)(an,{entity:"shows",primary:e.title,secondary:e.year,slug:e.ids.slug,tmdbId:e.ids.tmdb})},e.ids.slug)}))})]})]})},Cn=Object(y.a)((function(e){return e.shows.entities}),(function(e){return e})),Wn=Object(y.a)((function(e){return e.shows.pagination.total}),(function(e){return e})),zn=Object(k.b)("shows/fetch",function(){var e=Object(c.a)(a.a.mark((function e(t,n){var r,c,s,i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.category,c=t.page,s=n.rejectWithValue,e.prev=2,e.next=5,xe.a.get("/trakt/shows/".concat(r,"?page=").concat(c,"&limit=").concat(E));case 5:return i=e.sent,"popular"===r&&(i.data=i.data.map((function(e){return{show:e}}))),e.abrupt("return",{entities:i.data,total:parseInt(i.headers["x-pagination-page-count"])});case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",s(e.t0.toString()));case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n){return e.apply(this,arguments)}}()),Fn=Object(k.c)({extraReducers:Object(ve.a)({},zn.fulfilled,(function(e,t){e.entities=t.payload.entities,e.pagination.total=t.payload.total})),initialState:{entities:[],pagination:{total:0}},name:"shows",reducers:{}}).reducer;function Ln(e){var t=e.category,n=e.shows;switch(t){case"trending":return function(e){return e.map((function(e){var t=e.show,n=e.watchers,r=void 0===n?0:n,a=[];return r&&a.push("".concat(r," people watching")),Object(s.jsx)(m.a,{item:!0,lg:2,md:3,sm:6,xs:12,children:Object(s.jsx)(an,{chips:a,entity:"shows",primary:t.title,secondary:t.year,slug:t.ids.slug,tmdbId:t.ids.tmdb})},t.ids.trakt)}))}(n);case"popular":return function(e){return e.map((function(e){var t=e.show;return Object(s.jsx)(m.a,{item:!0,lg:2,md:3,sm:6,xs:12,children:Object(s.jsx)(an,{entity:"shows",primary:t.title,secondary:t.year,slug:t.ids.slug,tmdbId:t.ids.tmdb})},t.ids.trakt)}))}(n);case"recommended":return function(e){return e.map((function(e){var t=e.show,n=e.user_count,r=void 0===n?0:n,a=[];return r&&a.push("".concat(r," people")),Object(s.jsx)(m.a,{item:!0,lg:2,md:3,sm:6,xs:12,children:Object(s.jsx)(an,{chips:a,entity:"shows",primary:t.title,secondary:t.year,slug:t.ids.slug,tmdbId:t.ids.tmdb})},t.ids.trakt)}))}(n);case"watched":return function(e){return e.map((function(e){var t=e.play_count,n=void 0===t?0:t,r=e.show,a=e.watcher_count,c=void 0===a?0:a,i=[];return n&&i.push("".concat(n," plays")),c&&i.push("".concat(c," watches")),Object(s.jsx)(m.a,{item:!0,lg:2,md:3,sm:6,xs:12,children:Object(s.jsx)(an,{chips:i,entity:"shows",primary:r.title,secondary:r.year,slug:r.ids.slug,tmdbId:r.ids.tmdb})},r.ids.trakt)}))}(n);case"anticipated":return function(e){return e.map((function(e){var t=e.list_count,n=void 0===t?0:t,r=e.show,a=[];return n&&a.push("In ".concat(n," lists")),Object(s.jsx)(m.a,{item:!0,lg:2,md:3,sm:6,xs:12,children:Object(s.jsx)(an,{chips:a,entity:"shows",primary:r.title,secondary:r.year,slug:r.ids.slug,tmdbId:r.ids.tmdb})},r.ids.trakt)}))}(n);default:return null}}var Mn=function(e){var t=e.category,n=Object(j.b)(),r=Dt(Wn),a=r.hasNextPage,c=r.hasPreviousPage,o=r.page,u=r.pagesTotal,l=r.toFirstPage,d=r.toLastPage,b=r.toNextPage,p=r.toPreviousPage,h=Object(j.c)(Cn);return Object(i.useEffect)((function(){n(zn({category:t,page:o}))}),[t,n,o]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(m.a,{container:!0,children:Ln({category:t,shows:h})}),Object(s.jsx)(Tt,{hasNextPage:a,hasPreviousPage:c,onFirstPage:l,onLastPage:d,onNextPage:b,onPreviousPage:p,page:o,pagesTotal:u})]})},Tn=Object(y.a)((function(e){return e.users.comments.entities}),(function(e){return e})),Vn=Object(y.a)((function(e){return e.users.comments.pagination.total}),(function(e){return e}));var Bn=function(){var e=Object(b.j)().userSlug,t=Object(j.b)(),n=Dt(Vn),r=n.hasNextPage,a=n.hasPreviousPage,c=n.page,o=n.pagesTotal,u=n.toFirstPage,l=n.toLastPage,d=n.toNextPage,p=n.toPreviousPage,m=Object(j.c)((function(e){return he(e,"users/comments/fetch")})),h=Object(j.c)(Tn);return Object(i.useEffect)((function(){t(ft({page:c,userSlug:e}))}),[t,c,e]),Object(s.jsxs)(s.Fragment,{children:[m&&Object(s.jsx)("div",{children:"Loading..."}),Object(s.jsx)(Tt,{disabled:m,hasNextPage:r,hasPreviousPage:a,onFirstPage:u,onLastPage:l,onNextPage:d,onPreviousPage:p,page:c,pagesTotal:o}),h.map((function(e){var t=e.comment;e.type;return St(t)}))]})},An=Object(y.a)((function(e){return e.users.list}),(function(e){return e}));var En=function(){var e=Object(b.j)(),t=e.id,n=e.userSlug,r=Object(j.b)(),a=Object(j.c)((function(e){return he(e,"list/fetch")})),c=Object(j.c)(An);return Object(i.useEffect)((function(){r(Se({id:t,userSlug:n}))}),[r,t,n]),Object(s.jsxs)(s.Fragment,{children:[a&&Object(s.jsx)("div",{children:"Loading..."}),Object(s.jsx)("pre",{children:JSON.stringify(c,null,2)})]})};var _n=function(){var e=Object(b.j)().userSlug,t=Object(j.b)(),n=Object(j.c)((function(e){return he(e,"users/lists/fetch")})),r=Object(j.c)(ze),a=e===_();return Object(i.useEffect)((function(){t(ye(e))}),[t,e]),Object(s.jsxs)(s.Fragment,{children:[n&&Object(s.jsx)("div",{children:"Loading..."}),a&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("button",{onClick:function(){t(we({allowComments:!1,description:"This is my list",name:"My list"}))},type:"button",children:"Add list"}),Object(s.jsx)("button",{onClick:function(){t(ke("my-list"))},type:"button",children:"Remove list"})]}),Object(s.jsx)("pre",{children:JSON.stringify(r,null,2)})]})};var qn=function(){var e=Object(b.j)().userSlug,t=Object(j.b)(),n=Object(j.c)((function(e){return he(e,"users/ratings/fetch")})),r=Object(j.c)(Be);return Object(i.useEffect)((function(){t(Ee(e))}),[t,e]),Object(s.jsxs)(s.Fragment,{children:[n&&Object(s.jsx)("div",{children:"Loading..."}),Object(s.jsx)("pre",{children:JSON.stringify(r,null,2)})]})};var Dn=function(){var e=Object(b.j)().userSlug,t=Object(j.b)(),n=Object(j.c)((function(e){return he(e,"users/recommendations/fetch")})),r=Object(j.c)(Ue);return Object(i.useEffect)((function(){t(Ke(e))}),[t,e]),Object(s.jsxs)(s.Fragment,{children:[n&&Object(s.jsx)("div",{children:"Loading..."}),Object(s.jsx)("pre",{children:JSON.stringify(r,null,2)})]})};var Gn=function(){var e=Object(b.j)().userSlug,t=Object(j.b)(),n=Object(j.c)((function(e){return he(e,"users/watchlist/fetch")})),r=Object(j.c)(tt);return Object(i.useEffect)((function(){t(rt(e))}),[t,e]),Object(s.jsxs)(s.Fragment,{children:[n&&Object(s.jsx)("div",{children:"Loading..."}),Object(s.jsx)("pre",{children:JSON.stringify(r,null,2)})]})};function Jn(e){return["/pending","/fulfilled","/rejected"].some((function(t){return e.type.endsWith(t)}))}var Hn=Object(k.c)({extraReducers:function(e){e.addMatcher(Jn,(function(e,t){var n=t.type.split("/"),r=n.pop();e["".concat(n.join("/"))]="pending"===r}))},initialState:{},name:"loading",reducers:{}}).reducer,Un=n(34),Yn=Object(Un.c)({comments:xt,list:We,lists:Pe,ratings:De,recommendations:Ze,watchlist:st}),Kn=Object(k.a)({reducer:{comments:Xt,loading:Hn,movie:Ut,movies:jn,notifications:C,person:fn,search:Pn,show:Kt,shows:Fn,users:Yn}});function Qn(){ae();var e=Object(i.useMemo)(fe,[]),t=Object(j.c)((function(t){return e(t,["movie/fetch","movies/fetch","show/fetch","shows/fetch","comments/fetch","person/fetch"])}));return Object(s.jsxs)(s.Fragment,{children:[t&&Object(s.jsx)(ne,{}),Object(s.jsxs)(b.e,{basename:"/app",children:[Object(s.jsx)(b.c,{element:Object(s.jsx)(b.a,{replace:!0,to:"movies/trending"}),path:"/"}),Object(s.jsxs)(b.c,{element:Object(s.jsx)($,{}),path:"/",children:[Object(s.jsxs)(b.c,{path:"movies",children:[Object(s.jsx)(b.c,{element:Object(s.jsx)(b.a,{replace:!0,to:"trending"}),path:"/"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(pn,{category:"trending"}),path:"trending"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(pn,{category:"popular"}),path:"popular"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(pn,{category:"recommended"}),path:"recommended"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(pn,{category:"watched"}),path:"watched"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(pn,{category:"anticipated"}),path:"anticipated"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(on,{}),path:":slug"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(nn,{entity:"movies"}),path:":slug/comments"})]}),Object(s.jsxs)(b.c,{path:"shows",children:[Object(s.jsx)(b.c,{element:Object(s.jsx)(b.a,{replace:!0,to:"trending"}),path:"/"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(Mn,{category:"trending"}),path:"trending"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(Mn,{category:"popular"}),path:"popular"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(Mn,{category:"recommended"}),path:"recommended"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(Mn,{category:"watched"}),path:"watched"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(Mn,{category:"anticipated"}),path:"anticipated"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(Rn,{}),path:":slug"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(nn,{entity:"shows"}),path:":slug/comments"})]}),Object(s.jsx)(b.c,{element:Object(s.jsx)(xn,{}),path:"people/:slug"}),Object(s.jsxs)(b.c,{path:"search",children:[Object(s.jsx)(b.c,{element:Object(s.jsx)(b.a,{replace:!0,to:"all"}),path:"/"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(Sn,{entity:"all"}),path:"all"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(Sn,{entity:"movies"}),path:"movies"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(Sn,{entity:"shows"}),path:"shows"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(Sn,{entity:"people"}),path:"people"})]}),Object(s.jsxs)(b.c,{path:"users/:userSlug",children:[Object(s.jsx)(b.c,{element:Object(s.jsx)(b.a,{replace:!0,to:"ratings"}),path:"/"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(qn,{}),path:"ratings"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(Dn,{}),path:"recommendations"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(Gn,{}),path:"watchlist"}),Object(s.jsxs)(b.c,{path:"lists",children:[Object(s.jsx)(b.c,{element:Object(s.jsx)(_n,{}),path:"/"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(En,{}),path:":id"})]}),Object(s.jsx)(b.c,{element:Object(s.jsx)(Bn,{}),path:"comments"})]})]}),Object(s.jsx)(b.c,{element:Object(s.jsx)(re,{}),path:"*"})]})]})}var Xn=function(){return Object(s.jsx)(j.a,{store:Kn,children:Object(s.jsxs)(p.a,{children:[Object(s.jsx)(d.a,{}),Object(s.jsx)(Qn,{})]})})},Zn=Kn.dispatch;function $n(){return($n=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zn(ye());case 2:return e.next=4,Zn(Ee());case 4:return e.next=6,Zn(Ke());case 6:return e.next=8,Zn(rt());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return $n.apply(this,arguments)})().then((function(){l.a.render(Object(s.jsx)(Xn,{}),document.getElementById("root"))}))}},[[241,1,2]]]);
//# sourceMappingURL=main.52d19897.chunk.js.map