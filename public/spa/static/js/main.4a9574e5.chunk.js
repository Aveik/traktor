(this["webpackJsonpmovie-tinder-frontend"]=this["webpackJsonpmovie-tinder-frontend"]||[]).push([[0],{113:function(e,t,n){"use strict";n.r(t);var r=n(4),c=n.n(r),a=n(10),i=n(1),s=n(7),o=n.n(s),u=n(0),l=n.n(u),j=n(14),p=n.n(j),b=n(77),d=n(145),f=n(146),h=n(6),O=n(12),m=n(21),v=n(143),g=n(147),x=n(148),y=n(54),w=n(144),P=n(142),S=n(19),k=n(26),N=Object(k.a)((function(e){return e.notifications}),(function(e){return e})),W=n(3);function F(e){return e.type.endsWith("/rejected")}var L=Object(W.c)({extraReducers:function(e){e.addMatcher(F,(function(e,t){e[t.meta.requestId]=t.payload}))},initialState:{},name:"notifications",reducers:{createNotification:{prepare:function(e){return{payload:{id:Object(W.d)(),message:e}}},reducer:function(e,t){e[t.payload.id]=t.payload.message}},removeNotification:function(e,t){delete e[t.payload]}}}),R=L.actions,I=L.reducer,C=(R.createNotification,R.removeNotification),V=I;var E=function(e){var t=e.id,n=e.message,r=Object(h.b)();return Object(i.jsx)("div",{onClick:function(){r(C(t))},children:n})};var J=function(){var e=Object(h.c)(N);return Object.entries(e).map((function(e){var t=Object(S.a)(e,2),n=t[0],r=t[1];return Object(i.jsx)(E,{id:n,message:r},n)}))},q=n(136),T=Object(q.a)({drawerPaper:{width:256}}),z=n(18),M=n(151),A=n(138),B=n(53),G=n(141),Y=n(139),D=n(140),U=Object(q.a)((function(e){return{nestedListItemGutters:{paddingLeft:e.spacing(4)}}}));var _=function(e){var t=e.children,n=e.listItemTextProps,r=Object(B.a)(e,["children","listItemTextProps"]),c=U(),a=Object(u.useState)(!1),s=Object(S.a)(a,2),o=s[0],j=s[1];return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(M.a,Object(z.a)(Object(z.a)({},r),{},{onClick:function(e){e.preventDefault(),j(!o)},children:[Object(i.jsx)(A.a,Object(z.a)({},n)),o?Object(i.jsx)(Y.a,{}):Object(i.jsx)(D.a,{})]})),Object(i.jsx)(G.a,{in:o,children:Object(i.jsx)(P.a,{disablePadding:!0,children:l.a.Children.map(t,(function(e){return l.a.cloneElement(e,{classes:{gutters:c.nestedListItemGutters}})}))})})]})},H=[{nested:[{path:"movies/trending",title:"Trending"},{path:"movies/popular",title:"Popular"},{path:"movies/recommended",title:"Recommended"},{path:"movies/watched",title:"Watched"},{path:"movies/collected",title:"Collected"},{path:"movies/anticipated",title:"Anticipated"}],title:"Movies"},{nested:[{path:"shows/trending",title:"Trending"},{path:"shows/popular",title:"Popular"},{path:"shows/recommended",title:"Recommended"},{path:"shows/watched",title:"Watched"},{path:"shows/collected",title:"Collected"},{path:"shows/anticipated",title:"Anticipated"}],title:"Shows"},{nested:[{path:"profile/ratings",title:"Ratings"},{path:"profile/recommendations",title:"Recommendations"},{path:"profile/watchlist",title:"Watchlist"},{path:"profile/lists",title:"Lists"},{path:"profile/comments",title:"Comments"}],title:"Profile"},{nested:[{path:"search/all",title:"All"},{path:"search/movies",title:"Movies"},{path:"search/shows",title:"Shows"},{path:"search/people",title:"People"}],title:"Search"}];var K=function(){var e=T();return Object(i.jsxs)(v.a,{children:[Object(i.jsxs)(g.a,{anchor:"left",classes:{paper:e.drawerPaper},color:"",variant:"permanent",children:[Object(i.jsxs)(x.a,{px:2,py:1,children:[Object(i.jsx)(y.a,{variant:"h6",children:"Traktor"}),Object(i.jsx)(y.a,{variant:"caption",children:"v0.1"})]}),Object(i.jsx)(w.a,{}),Object(i.jsx)(P.a,{disablePadding:!0,children:H.map((function(e){var t=e.nested,n=e.path,r=e.title,c={activeClassName:"Mui-selected",button:!0,component:m.c,key:r,to:n};if(!t&&n)return Object(i.jsx)(M.a,Object(z.a)(Object(z.a)({},c),{},{children:Object(i.jsx)(A.a,{primary:r})}));var a=t.map((function(e){var t=e.path,n=e.title;return Object(u.createElement)(M.a,Object(z.a)(Object(z.a)({},c),{},{key:n,to:t}),Object(i.jsx)(A.a,{primary:n}))})),s={button:!0,key:r,listItemTextProps:{primary:r}};return Object(i.jsx)(_,Object(z.a)(Object(z.a)({},s),{},{children:a}))}))})]}),Object(i.jsxs)(x.a,{ml:32,children:[Object(i.jsx)(J,{}),Object(i.jsx)(O.b,{})]})]})};var Q=function(){return Object(i.jsx)("h1",{children:"404 not found"})},X=n(9),Z=n.n(X);function $(e){var t=e.children,n=e.entity,r=e.season,c=e.size,a=e.tmdbId,i=e.type;if(!a)return null;var s="/images/".concat(n,"/").concat(a,"/").concat(i,"?");return r&&(s+="season=".concat(r)),c&&(s+="size=".concat(c)),t(s)}$.propTypes={children:Z.a.func.isRequired,entity:Z.a.oneOf(["movie","person","show"]).isRequired,season:Z.a.number,size:Z.a.string,tmdbId:Z.a.number,type:Z.a.oneOf(["backdrop","poster","profile"])};var ee=$,te=n(150);var ne=function(e){var t=e.onChange,n=e.value,r=void 0===n?0:n,c=Object(u.useState)(r),a=Object(S.a)(c,2),s=a[0],o=a[1];return Object(i.jsx)(te.a,{max:10,name:"_",onChange:function(e,n){o(n),t(n)},value:s})};function re(e){return e.loading}function ce(e,t){return t}var ae=Object(k.a)([re,ce],(function(e,t){return Boolean(e[t])}));function ie(){return Object(k.a)([re,ce],(function(e,t){return Object.keys(e).filter((function(e){return t.includes(e)})).some((function(t){return e[t]}))}))}var se,oe=Object(k.a)((function(e){return e.movie}),(function(e){return e})),ue=n(11),le=Object(W.b)("movie/comments/fetch",function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a,i,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.limit,a=t.slug,i=t.sort,s=n.rejectWithValue,e.prev=2,e.next=5,o.a.get("/movies/".concat(a,"/comments/").concat(i,"?page=1&limit=").concat(r));case 5:return u=e.sent,e.abrupt("return",u.data);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",s(e.t0.toString()));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}()),je=Object(W.b)("movie/fetch",function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a,i,s,u,l,j,p,b;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,Promise.all([o.a.get("/movies/".concat(t)),o.a.get("/movies/".concat(t,"/comments/highest")),o.a.get("/movies/".concat(t,"/people")),o.a.get("/movies/".concat(t,"/ratings")),o.a.get("/movies/".concat(t,"/related")),o.a.get("/movies/".concat(t,"/stats"))]);case 4:return a=e.sent,i=Object(S.a)(a,6),s=i[0],u=i[1],l=i[2],j=i[3],p=i[4],b=i[5],e.abrupt("return",{comments:u.data,people:l.data,ratings:j.data,related:p.data,stats:b.data,summary:s.data});case 15:return e.prev=15,e.t0=e.catch(1),e.abrupt("return",r(e.t0.toString()));case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,n){return e.apply(this,arguments)}}()),pe=Object(W.c)({extraReducers:(se={},Object(ue.a)(se,le.fulfilled,(function(e,t){e.comments=t.payload})),Object(ue.a)(se,je.fulfilled,(function(e,t){return t.payload})),se),initialState:{comments:[],people:null,ratings:null,related:[],stats:null,summary:null},name:"movie",reducers:{}}).reducer,be=Object(k.a)((function(e){return e.profile.ratings}),(function(e){return e})),de=Object(k.a)([function(e){return e.profile.ratings},function(e,t){return t},function(e,t,n){return n}],(function(e,t,n){var r=e.find((function(e){return e.type===t&&e[t].ids.slug===n}));return r?r.rating:0})),fe=Object(W.b)("profile/ratings/fetch",function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,o.a.get("/sync/ratings");case 4:return a=e.sent,e.abrupt("return",a.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r(e.t0.toString()));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}());function he(e){return function(){var t=Object(a.a)(c.a.mark((function t(n,r){var a,i,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n.rating,i=n.slug,s=r.rejectWithValue,t.prev=2,t.next=5,o.a.post("/sync/ratings",Object(ue.a)({},e,[{ids:{slug:i},rating:a}]));case 5:t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(2),t.abrupt("return",s(t.t0.toString()));case 10:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e,n){return t.apply(this,arguments)}}()}function Oe(e){return function(){var t=Object(a.a)(c.a.mark((function t(n,r){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.rejectWithValue,t.prev=1,t.next=4,o.a.post("/sync/ratings/remove",Object(ue.a)({},e,[{ids:{slug:n}}]));case 4:t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(1),t.abrupt("return",a(t.t0.toString()));case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n){return t.apply(this,arguments)}}()}var me=Object(W.b)("profile/ratings/rate",he("movies")),ve=Object(W.b)("profile/ratings/rate",he("shows")),ge=(Object(W.b)("profile/ratings/delete",Oe("movies")),Object(W.b)("profile/ratings/delete",Oe("shows")),Object(W.c)({extraReducers:Object(ue.a)({},fe.fulfilled,(function(e,t){return t.payload})),initialState:[],name:"profile/ratings",reducers:{}}).reducer),xe=Object(k.a)((function(e){return e.profile.recommendations}),(function(e){return e})),ye=Object(k.a)([function(e){return e.profile.recommendations},function(e,t){return t},function(e,t,n){return n}],(function(e,t,n){var r=e.find((function(e){return e.type===t&&e[t].ids.slug===n}));return Boolean(r)})),we=Object(W.b)("profile/recommendations/fetch",function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,o.a.get("/sync/recommendations");case 4:return a=e.sent,e.abrupt("return",a.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r(e.t0.toString()));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}());function Pe(e){return function(){var t=Object(a.a)(c.a.mark((function t(n,r){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.rejectWithValue,t.prev=1,t.next=4,o.a.post("/sync/recommendations",Object(ue.a)({},e,[{ids:{slug:n}}]));case 4:t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(1),t.abrupt("return",a(t.t0.toString()));case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n){return t.apply(this,arguments)}}()}function Se(e){return function(){var t=Object(a.a)(c.a.mark((function t(n,r){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.rejectWithValue,t.prev=1,t.next=4,o.a.post("/sync/recommendations/remove",Object(ue.a)({},e,[{ids:{slug:n}}]));case 4:t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(1),t.abrupt("return",a(t.t0.toString()));case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n){return t.apply(this,arguments)}}()}var ke=Object(W.b)("profile/recommendation/recommend",Pe("movies")),Ne=(Object(W.b)("profile/recommendation/recommend",Pe("shows")),Object(W.b)("profile/recommendation/unrecommend",Se("movies"))),We=(Object(W.b)("profile/recommendation/unrecommend",Se("shows")),Object(W.c)({extraReducers:Object(ue.a)({},we.fulfilled,(function(e,t){return t.payload})),initialState:[],name:"profile/recommendations",reducers:{}}).reducer),Fe=Object(k.a)((function(e){return e.profile.watchlist}),(function(e){return e})),Le=Object(k.a)([function(e){return e.profile.watchlist},function(e,t){return t},function(e,t,n){return n}],(function(e,t,n){var r=e.find((function(e){return e.type===t&&e[t].ids.slug===n}));return Boolean(r)})),Re=Object(W.b)("profile/watchlist/fetch",function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,o.a.get("/sync/watchlist");case 4:return a=e.sent,e.abrupt("return",a.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r(e.t0.toString()));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}());function Ie(e){return function(){var t=Object(a.a)(c.a.mark((function t(n,r){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.rejectWithValue,t.prev=1,t.next=4,o.a.post("/sync/watchlist",Object(ue.a)({},e,[{ids:{slug:n}}]));case 4:t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(1),t.abrupt("return",a(t.t0.toString()));case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n){return t.apply(this,arguments)}}()}function Ce(e){return function(){var t=Object(a.a)(c.a.mark((function t(n,r){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r.rejectWithValue,t.prev=1,t.next=4,o.a.post("/sync/watchlist/remove",Object(ue.a)({},e,[{ids:{slug:n}}]));case 4:t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(1),t.abrupt("return",a(t.t0.toString()));case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n){return t.apply(this,arguments)}}()}var Ve=Object(W.b)("profile/watchlist/add",Ie("movies")),Ee=(Object(W.b)("profile/watchlist/add",Ie("shows")),Object(W.b)("profile/watchlist/remove",Ce("movies"))),Je=(Object(W.b)("profile/watchlist/remove",Ce("shows")),Object(W.c)({extraReducers:Object(ue.a)({},Re.fulfilled,(function(e,t){return t.payload})),initialState:[],name:"profile/watchlist",reducers:{}}).reducer);var qe=function(){var e,t=Object(u.useMemo)(ie,[]),n=Object(h.b)(),r=Object(O.j)().slug,c=Object(h.c)((function(e){return t(e,["movie/fetch","movie/comments/fetch"])})),a=Object(h.c)(oe),s=Object(h.c)((function(e){return de(e,"movie",r)})),o=Object(h.c)((function(e){return ye(e,"movie",r)})),l=Object(h.c)((function(e){return Le(e,"movie",r)}));return Object(u.useEffect)((function(){n(je(r))}),[n,r]),Object(i.jsxs)(i.Fragment,{children:[c&&Object(i.jsx)("div",{children:"Loading..."}),Object(i.jsx)("button",{onClick:function(){n(le({limit:a.stats.comments,slug:r,sort:"newest"}))},type:"button",children:"Fetch all comments"}),Object(i.jsx)("button",{onClick:function(){n(o?Ne(r):ke(r))},type:"button",children:o?"Remove recommendation":"Recommend"}),Object(i.jsx)("button",{onClick:function(){n(l?Ee(r):Ve(r))},type:"button",children:l?"Remove from watchlist":"Add to watchlist"}),Object(i.jsx)(ne,{onChange:function(e){n(me({rating:e,slug:r}))},value:s}),Object(i.jsx)(ee,{entity:"movie",size:"w154",tmdbId:null===(e=a.summary)||void 0===e?void 0:e.ids.tmdb,type:"poster",children:function(e){return Object(i.jsx)("img",{alt:"poster",src:e})}}),Object(i.jsx)("pre",{children:JSON.stringify(a,null,2)})]})};var Te=function(e){var t=e.disabled,n=e.hasNextPage,r=e.hasPreviousPage,c=e.onFirstPage,a=e.onLastPage,s=e.onNextPage,o=e.onPreviousPage;return Object(i.jsxs)("div",{children:[Object(i.jsx)("button",{disabled:t,onClick:c,type:"button",children:"First page"}),Object(i.jsx)("button",{disabled:t||!r,onClick:o,type:"button",children:"Previous page"}),Object(i.jsx)("button",{disabled:t||!n,onClick:s,type:"button",children:"Next page"}),Object(i.jsx)("button",{disabled:t,onClick:a,type:"button",children:"Last page"})]})};var ze=function(e){var t=Object(m.d)(),n=Object(S.a)(t,2),r=n[0],c=n[1],a=Object(u.useMemo)((function(){return Object.fromEntries(r)}),[r]),i=a.page,s=void 0===i?"1":i,o=Object(B.a)(a,["page"]),l=Object(h.c)(e);return{hasNextPage:parseInt(s)<l,hasPreviousPage:parseInt(s)>1,page:s,toFirstPage:function(){c(Object(z.a)({page:1},o))},toLastPage:function(){c(Object(z.a)({page:l},o))},toNextPage:function(){c(Object(z.a)({page:parseInt(s)+1},o))},toPreviousPage:function(){c(Object(z.a)({page:parseInt(s)-1},o))}}},Me=Object(k.a)((function(e){return e.movies.entities}),(function(e){return e})),Ae=Object(k.a)((function(e){return e.movies.pagination.total}),(function(e){return e})),Be=40,Ge=Object(W.b)("movies/fetch",function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.category,a=t.page,i=n.rejectWithValue,e.prev=2,e.next=5,o.a.get("/movies/".concat(r,"?page=").concat(a,"&limit=").concat(Be));case 5:return s=e.sent,e.abrupt("return",{entities:s.data,total:parseInt(s.headers["x-pagination-page-count"])});case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",i(e.t0.toString()));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}()),Ye=Object(W.c)({extraReducers:Object(ue.a)({},Ge.fulfilled,(function(e,t){e.entities=t.payload.entities,e.pagination.total=t.payload.total})),initialState:{entities:[],pagination:{total:0}},name:"movies",reducers:{}}).reducer,De=n(152),Ue=Object(q.a)((function(e){return{footer:{bottom:0,padding:8,position:"absolute"},image:{height:"100%",objectFit:"cover",width:"100%"},root:{borderBottom:"1px solid ".concat(e.palette.divider),borderRight:"1px solid ".concat(e.palette.divider),position:"relative"}}}));var _e=function(e){var t=e.releaseYear,n=e.title,r=e.tmdbId,c=e.watchers,a=Ue();return Object(i.jsxs)("div",{className:a.root,children:[Object(i.jsx)(ee,{entity:"movie",size:"w500",tmdbId:r,type:"poster",children:function(e){return Object(i.jsx)("img",{alt:"poster",className:a.image,src:e})}}),Object(i.jsxs)("div",{className:a.footer,children:[Object(i.jsx)(De.a,{color:"secondary",label:Object(i.jsxs)(y.a,{variant:"caption",children:[c," people watching"]}),size:"small"}),Object(i.jsxs)("div",{children:[Object(i.jsxs)(y.a,{color:"textPrimary",display:"inline",variant:"body1",children:[n," "]}),Object(i.jsx)(y.a,{color:"textSecondary",display:"inline",variant:"caption",children:t})]})]})]})};function He(e){var t=e.category,n=e.movies;switch(t){case"trending":return function(e){return e.map((function(e){var t=e.movie,n=e.watchers;return Object(i.jsx)(v.a,{component:m.b,item:!0,md:4,sm:6,to:"/app/movies/".concat(t.ids.slug),xl:3,xs:12,children:Object(i.jsx)(_e,{releaseYear:t.year,title:t.title,tmdbId:t.ids.tmdb,watchers:n})},t.ids.trakt)}))}(n);case"popular":case"recommended":case"watched":case"collected":case"anticipated":default:return null}}var Ke=function(e){var t=e.category,n=Object(h.b)(),r=ze(Ae),c=r.hasNextPage,a=r.hasPreviousPage,s=r.page,o=r.toFirstPage,l=r.toLastPage,j=r.toNextPage,p=r.toPreviousPage,b=Object(h.c)((function(e){return ae(e,"movies/fetch")})),d=Object(h.c)(Me);return Object(u.useEffect)((function(){n(Ge({category:t,page:s}))}),[t,n,s]),Object(i.jsxs)(i.Fragment,{children:[b&&Object(i.jsx)("div",{children:"Loading..."}),Object(i.jsx)(Te,{disabled:b,hasNextPage:c,hasPreviousPage:a,onFirstPage:o,onLastPage:l,onNextPage:j,onPreviousPage:p}),Object(i.jsx)(v.a,{container:!0,children:He({category:t,movies:d})})]})},Qe=Object(k.a)((function(e){return e.person}),(function(e){return e})),Xe=Object(W.b)("person/fetch",function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a,i,s,u,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,Promise.all([o.a.get("/people/".concat(t,"?extended=full")),o.a.get("/people/".concat(t,"/movies")),o.a.get("/people/".concat(t,"/shows"))]);case 4:return a=e.sent,i=Object(S.a)(a,3),s=i[0],u=i[1],l=i[2],e.abrupt("return",{movies:u.data,shows:l.data,summary:s.data});case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",r(e.t0.toString()));case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,n){return e.apply(this,arguments)}}()),Ze=Object(W.c)({extraReducers:Object(ue.a)({},Xe.fulfilled,(function(e,t){return t.payload})),initialState:{movies:[],shows:[],summary:null},name:"person",reducers:{}}).reducer;var $e=function(){var e,t=Object(h.b)(),n=Object(O.j)().slug,r=Object(h.c)((function(e){return ae(e,"person/fetch")})),c=Object(h.c)(Qe);return Object(u.useEffect)((function(){t(Xe(n))}),[t,n]),Object(i.jsxs)(i.Fragment,{children:[r&&Object(i.jsx)("div",{children:"Loading..."}),Object(i.jsx)(ee,{entity:"person",size:"w185",tmdbId:null===(e=c.summary)||void 0===e?void 0:e.ids.tmdb,type:"profile",children:function(e){return Object(i.jsx)("img",{alt:"poster",src:e})}}),Object(i.jsx)("pre",{children:JSON.stringify(c,null,2)})]})},et=Object(k.a)((function(e){return e.profile.comments.entities}),(function(e){return e})),tt=Object(k.a)((function(e){return e.profile.comments.pagination.total}),(function(e){return e}));function nt(e){return e.auth}var rt=Object(k.a)(nt,(function(e){return e.accessToken})),ct=Object(k.a)(nt,(function(e){return e.slug})),at=Object(W.b)("profile/comments/fetch",function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,a=n.rejectWithValue,e.prev=1,i=ct(r()),e.next=5,o.a.get("/users/".concat(i,"/comments?page=").concat(t,"&limit=").concat(Be));case 5:return s=e.sent,e.abrupt("return",{entities:s.data,total:parseInt(s.headers["x-pagination-page-count"])});case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",a(e.t0.toString()));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),it=Object(W.c)({extraReducers:Object(ue.a)({},at.fulfilled,(function(e,t){e.entities=t.payload.entities,e.pagination.total=t.payload.total})),initialState:{entities:[],pagination:{total:0}},name:"profile/comments",reducers:{}}).reducer;var st=function(){var e=Object(h.b)(),t=ze(tt),n=t.hasNextPage,r=t.hasPreviousPage,c=t.page,a=t.toFirstPage,s=t.toLastPage,o=t.toNextPage,l=t.toPreviousPage,j=Object(h.c)((function(e){return ae(e,"profile/comments/fetch")})),p=Object(h.c)(et);return Object(u.useEffect)((function(){e(at(c))}),[e,c]),Object(i.jsxs)(i.Fragment,{children:[j&&Object(i.jsx)("div",{children:"Loading..."}),Object(i.jsx)(Te,{disabled:j,hasNextPage:n,hasPreviousPage:r,onFirstPage:a,onLastPage:s,onNextPage:o,onPreviousPage:l}),Object(i.jsx)("pre",{children:JSON.stringify(p,null,2)})]})},ot=Object(k.a)((function(e){return e.profile.list}),(function(e){return e})),ut=Object(W.b)("list/fetch",function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a,i,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,Promise.all([o.a.get("/lists/".concat(t)),o.a.get("/lists/".concat(t,"/items"))]);case 4:return a=e.sent,i=Object(S.a)(a,2),s=i[0],u=i[1],e.abrupt("return",Object(z.a)(Object(z.a)({},s.data),{},{items:u.data}));case 11:return e.prev=11,e.t0=e.catch(1),e.abrupt("return",r(e.t0.toString()));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}()),lt=Object(W.c)({extraReducers:Object(ue.a)({},ut.fulfilled,(function(e,t){return t.payload})),initialState:{items:[]},name:"list",reducers:{}}).reducer;var jt,pt=function(){var e=Object(h.b)(),t=Object(O.j)().id,n=Object(h.c)((function(e){return ae(e,"list/fetch")})),r=Object(h.c)(ot);return Object(u.useEffect)((function(){e(ut(t))}),[e,t]),Object(i.jsxs)(i.Fragment,{children:[n&&Object(i.jsx)("div",{children:"Loading..."}),Object(i.jsx)("pre",{children:JSON.stringify(r,null,2)})]})},bt=Object(k.a)((function(e){return e.profile.lists}),(function(e){return e})),dt=Object(W.b)("profile/lists/fetch",function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,a=n.rejectWithValue,e.prev=1,i=ct(r()),e.next=5,o.a.get("/users/".concat(i,"/lists"));case 5:return s=e.sent,e.abrupt("return",s.data);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",a(e.t0.toString()));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),ft=Object(W.b)("profile/lists/add",function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,a=n.rejectWithValue,e.prev=1,i=ct(r()),e.next=5,o.a.post("/users/".concat(i,"/lists"),t);case 5:return s=e.sent,e.abrupt("return",s.data);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",a(e.t0.toString()));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),ht=Object(W.b)("profile/lists/remove",function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,a=n.rejectWithValue,e.prev=1,i=ct(r()),e.next=5,o.a.delete("/users/".concat(i,"/lists/").concat(t));case 5:return e.abrupt("return",t);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",a(e.t0.toString()));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),Ot=Object(W.c)({extraReducers:(jt={},Object(ue.a)(jt,ft.fulfilled,(function(e,t){e.push(t.payload)})),Object(ue.a)(jt,dt.fulfilled,(function(e,t){return t.payload})),Object(ue.a)(jt,ht.fulfilled,(function(e,t){var n=e.findIndex((function(e){return e.ids.slug===t.payload}));delete e[n]})),jt),initialState:[],name:"profile/lists",reducers:{}}).reducer;var mt=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return ae(e,"profile/lists/fetch")})),n=Object(h.c)(bt);return Object(u.useEffect)((function(){e(dt())}),[e]),Object(i.jsxs)(i.Fragment,{children:[t&&Object(i.jsx)("div",{children:"Loading..."}),Object(i.jsx)("button",{onClick:function(){e(ft({allowComments:!1,description:"the new list for testing purposes",name:"new list",privacy:"public"}))},type:"submit",children:"Add list"}),Object(i.jsx)("button",{onClick:function(){e(ht("new-list"))},type:"submit",children:"Remove list"}),Object(i.jsx)("pre",{children:JSON.stringify(n,null,2)})]})};var vt=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return ae(e,"profile/ratings/fetch")})),n=Object(h.c)(be);return Object(u.useEffect)((function(){e(fe())}),[e]),Object(i.jsxs)(i.Fragment,{children:[t&&Object(i.jsx)("div",{children:"Loading..."}),Object(i.jsx)("pre",{children:JSON.stringify(n,null,2)})]})};var gt=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return ae(e,"profile/recommendations/fetch")})),n=Object(h.c)(xe);return Object(u.useEffect)((function(){e(we())}),[e]),Object(i.jsxs)(i.Fragment,{children:[t&&Object(i.jsx)("div",{children:"Loading..."}),Object(i.jsx)("pre",{children:JSON.stringify(n,null,2)})]})};var xt=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return ae(e,"profile/watchlist/fetch")})),n=Object(h.c)(Fe);return Object(u.useEffect)((function(){e(Re())}),[e]),Object(i.jsxs)(i.Fragment,{children:[t&&Object(i.jsx)("div",{children:"Loading..."}),Object(i.jsx)("pre",{children:JSON.stringify(n,null,2)})]})},yt=Object(k.a)((function(e){return e.search.entities}),(function(e){return e})),wt=Object(k.a)((function(e){return e.search.pagination.total}),(function(e){return e}));function Pt(e){switch(e){case"movies":return"movie";case"shows":return"show";case"people":return"person";default:return"movie,show,person"}}var St=Object(W.b)("search/fetch",function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a,i,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.page,a=t.query,i=t.type,s=n.rejectWithValue,e.prev=2,e.next=5,o.a.get("/search/".concat(Pt(i),"?query=").concat(a,"&page=").concat(r,"&limit=").concat(Be));case 5:return u=e.sent,e.abrupt("return",{entities:u.data,total:parseInt(u.headers["x-pagination-page-count"])});case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",s(e.t0.toString()));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}()),kt=Object(W.c)({extraReducers:Object(ue.a)({},St.fulfilled,(function(e,t){e.entities=t.payload.entities,e.pagination.total=t.payload.total})),initialState:{entities:[],pagination:{total:0}},name:"search",reducers:{}}).reducer;var Nt,Wt=function(e){var t=e.type,n=Object(h.b)(),r=ze(wt),c=r.hasNextPage,a=r.hasPreviousPage,s=r.page,o=r.toFirstPage,l=r.toLastPage,j=r.toNextPage,p=r.toPreviousPage,b=Object(m.d)(),d=Object(S.a)(b,2),f=d[0],O=d[1],v=Object(u.useMemo)((function(){return Object.fromEntries(f)}),[f]).query,g=void 0===v?"":v,x=Object(h.c)((function(e){return ae(e,"search/fetch")})),y=Object(h.c)(yt);return Object(u.useEffect)((function(){n(St({page:s,query:g,type:t}))}),[n,s,g,t]),Object(i.jsxs)(i.Fragment,{children:[x&&Object(i.jsx)("div",{children:"Loading..."}),Object(i.jsx)(Te,{disabled:x,hasNextPage:c,hasPreviousPage:a,onFirstPage:o,onLastPage:l,onNextPage:j,onPreviousPage:p}),Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{htmlFor:"query",children:"Input your query:"}),Object(i.jsx)("input",{id:"query",onChange:function(e){var t=e.target.value;O({query:t})},type:"text",value:g})]}),Object(i.jsx)("pre",{children:JSON.stringify(y,null,2)})]})},Ft=Object(k.a)((function(e){return e.show}),(function(e){return e})),Lt=Object(W.b)("show/comments/fetch",function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a,i,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.limit,a=t.slug,i=t.sort,s=n.rejectWithValue,e.prev=2,e.next=5,o.a.get("/shows/".concat(a,"/comments/").concat(i,"?page=1&limit=").concat(r));case 5:return u=e.sent,e.abrupt("return",u.data);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",s(e.t0.toString()));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}()),Rt=Object(W.b)("show/fetch",function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a,i,s,u,l,j,p,b,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,Promise.all([o.a.get("/shows/".concat(t)),o.a.get("/shows/".concat(t,"/comments/highest")),o.a.get("/shows/".concat(t,"/people")),o.a.get("/shows/".concat(t,"/ratings")),o.a.get("/shows/".concat(t,"/related")),o.a.get("/shows/".concat(t,"/stats")),o.a.get("/shows/".concat(t,"/seasons?extended=episodes"))]);case 4:return a=e.sent,i=Object(S.a)(a,7),s=i[0],u=i[1],l=i[2],j=i[3],p=i[4],b=i[5],d=i[6],e.abrupt("return",{comments:u.data,people:l.data,ratings:j.data,related:p.data,seasons:d.data,stats:b.data,summary:s.data});case 16:return e.prev=16,e.t0=e.catch(1),e.abrupt("return",r(e.t0.toString()));case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t,n){return e.apply(this,arguments)}}()),It=Object(W.c)({extraReducers:(Nt={},Object(ue.a)(Nt,Lt.fulfilled,(function(e,t){e.comments=t.payload})),Object(ue.a)(Nt,Rt.fulfilled,(function(e,t){return t.payload})),Nt),initialState:{comments:[],people:null,ratings:null,related:[],seasons:[],stats:null,summary:null},name:"show",reducers:{}}).reducer;var Ct=function(){var e,t=Object(u.useMemo)(ie,[]),n=Object(h.b)(),r=Object(O.j)().slug,c=Object(h.c)((function(e){return t(e,["show/fetch","show/comments/fetch"])})),a=Object(h.c)(Ft),s=Object(h.c)((function(e){return de(e,"show",r)}));return Object(u.useEffect)((function(){n(Rt(r))}),[n,r]),Object(i.jsxs)(i.Fragment,{children:[c&&Object(i.jsx)("div",{children:"Loading..."}),Object(i.jsx)("button",{onClick:function(){n(Lt({limit:a.stats.comments,slug:r,sort:"newest"}))},type:"button",children:"Fetch all comments"}),Object(i.jsx)(ne,{onChange:function(e){n(ve({rating:e,slug:r}))},value:s}),Object(i.jsx)(ee,{entity:"show",size:"w154",tmdbId:null===(e=a.summary)||void 0===e?void 0:e.ids.tmdb,type:"poster",children:function(e){return Object(i.jsx)("img",{alt:"poster",src:e})}}),Object(i.jsx)("pre",{children:JSON.stringify(a,null,2)})]})},Vt=Object(k.a)((function(e){return e.shows.entities}),(function(e){return e})),Et=Object(k.a)((function(e){return e.shows.pagination.total}),(function(e){return e})),Jt=Object(W.b)("shows/fetch",function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a,i,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.category,a=t.page,i=n.rejectWithValue,e.prev=2,e.next=5,o.a.get("/shows/".concat(r,"?page=").concat(a,"&limit=").concat(Be));case 5:return s=e.sent,e.abrupt("return",{entities:s.data,total:parseInt(s.headers["x-pagination-page-count"])});case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",i(e.t0.toString()));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}()),qt=Object(W.c)({extraReducers:Object(ue.a)({},Jt.fulfilled,(function(e,t){e.entities=t.payload.entities,e.pagination.total=t.payload.total})),initialState:{entities:[],pagination:{total:0}},name:"shows",reducers:{}}).reducer;var Tt=function(e){var t=e.category,n=Object(h.b)(),r=ze(Et),c=r.hasNextPage,a=r.hasPreviousPage,s=r.page,o=r.toFirstPage,l=r.toLastPage,j=r.toNextPage,p=r.toPreviousPage,b=Object(h.c)((function(e){return ae(e,"shows/fetch")})),d=Object(h.c)(Vt);return Object(u.useEffect)((function(){n(Jt({category:t,page:s}))}),[t,n,s]),Object(i.jsxs)(i.Fragment,{children:[b&&Object(i.jsx)("div",{children:"Loading..."}),Object(i.jsx)(Te,{disabled:b,hasNextPage:c,hasPreviousPage:a,onFirstPage:o,onLastPage:l,onNextPage:j,onPreviousPage:p}),Object(i.jsx)("pre",{children:JSON.stringify(d,null,2)})]})},zt=Object(W.b)("auth/me/fetch",function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,o.a.get("/auth/me");case 4:return a=e.sent,e.abrupt("return",a.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r(e.t0.toString()));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),Mt=Object(W.c)({extraReducers:Object(ue.a)({},zt.fulfilled,(function(e,t){return t.payload})),initialState:{accessToken:null,refreshToken:null,slug:null,uuid:null},name:"movie",reducers:{}}).reducer;function At(e){return["/pending","/fulfilled","/rejected"].some((function(t){return e.type.endsWith(t)}))}var Bt=Object(W.c)({extraReducers:function(e){e.addMatcher(At,(function(e,t){var n=t.type.split("/"),r=n.pop();e["".concat(n.join("/"))]="pending"===r}))},initialState:{},name:"loading",reducers:{}}).reducer,Gt=n(24),Yt=Object(Gt.c)({comments:it,list:lt,lists:Ot,ratings:ge,recommendations:We,watchlist:Je}),Dt=Object(W.a)({reducer:{auth:Mt,loading:Bt,movie:pe,movies:Ye,notifications:V,person:Ze,profile:Yt,search:kt,show:It,shows:qt}});function Ut(){return Object(i.jsxs)(O.e,{basename:"/app",children:[Object(i.jsx)(O.c,{element:Object(i.jsx)(O.a,{replace:!0,to:"movies/trending"}),path:"/"}),Object(i.jsxs)(O.c,{element:Object(i.jsx)(K,{}),path:"/",children:[Object(i.jsxs)(O.c,{path:"movies",children:[Object(i.jsx)(O.c,{element:Object(i.jsx)(O.a,{replace:!0,to:"trending"}),path:"/"}),Object(i.jsx)(O.c,{element:Object(i.jsx)(Ke,{category:"trending"}),path:"trending"}),Object(i.jsx)(O.c,{element:Object(i.jsx)(Ke,{category:"popular"}),path:"popular"}),Object(i.jsx)(O.c,{element:Object(i.jsx)(Ke,{category:"recommended"}),path:"recommended"}),Object(i.jsx)(O.c,{element:Object(i.jsx)(Ke,{category:"watched"}),path:"watched"}),Object(i.jsx)(O.c,{element:Object(i.jsx)(Ke,{category:"collected"}),path:"collected"}),Object(i.jsx)(O.c,{element:Object(i.jsx)(Ke,{category:"anticipated"}),path:"anticipated"}),Object(i.jsx)(O.c,{element:Object(i.jsx)(qe,{}),path:":slug"})]}),Object(i.jsxs)(O.c,{path:"shows",children:[Object(i.jsx)(O.c,{element:Object(i.jsx)(O.a,{replace:!0,to:"trending"}),path:"/"}),Object(i.jsx)(O.c,{element:Object(i.jsx)(Tt,{category:"trending"}),path:"trending"}),Object(i.jsx)(O.c,{element:Object(i.jsx)(Tt,{category:"popular"}),path:"popular"}),Object(i.jsx)(O.c,{element:Object(i.jsx)(Tt,{category:"recommended"}),path:"recommended"}),Object(i.jsx)(O.c,{element:Object(i.jsx)(Tt,{category:"watched"}),path:"watched"}),Object(i.jsx)(O.c,{element:Object(i.jsx)(Tt,{category:"collected"}),path:"collected"}),Object(i.jsx)(O.c,{element:Object(i.jsx)(Tt,{category:"anticipated"}),path:"anticipated"}),Object(i.jsx)(O.c,{element:Object(i.jsx)(Ct,{}),path:":slug"})]}),Object(i.jsx)(O.c,{element:Object(i.jsx)($e,{}),path:"people/:slug"}),Object(i.jsxs)(O.c,{path:"search",children:[Object(i.jsx)(O.c,{element:Object(i.jsx)(O.a,{replace:!0,to:"all"}),path:"/"}),Object(i.jsx)(O.c,{element:Object(i.jsx)(Wt,{type:"all"}),path:"all"}),Object(i.jsx)(O.c,{element:Object(i.jsx)(Wt,{type:"movies"}),path:"movies"}),Object(i.jsx)(O.c,{element:Object(i.jsx)(Wt,{type:"shows"}),path:"shows"}),Object(i.jsx)(O.c,{element:Object(i.jsx)(Wt,{type:"people"}),path:"people"})]}),Object(i.jsxs)(O.c,{path:"profile",children:[Object(i.jsx)(O.c,{element:Object(i.jsx)(O.a,{replace:!0,to:"ratings"}),path:"/"}),Object(i.jsx)(O.c,{element:Object(i.jsx)(vt,{}),path:"ratings"}),Object(i.jsx)(O.c,{element:Object(i.jsx)(gt,{}),path:"recommendations"}),Object(i.jsx)(O.c,{element:Object(i.jsx)(xt,{}),path:"watchlist"}),Object(i.jsxs)(O.c,{path:"lists",children:[Object(i.jsx)(O.c,{element:Object(i.jsx)(mt,{}),path:"/"}),Object(i.jsx)(O.c,{element:Object(i.jsx)(pt,{}),path:":id"})]}),Object(i.jsx)(O.c,{element:Object(i.jsx)(st,{}),path:"comments"})]})]}),Object(i.jsx)(O.c,{element:Object(i.jsx)(Q,{}),path:"*"})]})}var _t=Object(b.a)({palette:{type:"dark"}});var Ht=function(){return Object(i.jsx)(h.a,{store:Dt,children:Object(i.jsx)(d.a,{theme:_t,children:Object(i.jsxs)(m.a,{children:[Object(i.jsx)(f.a,{}),Object(i.jsx)(Ut,{})]})})})},Kt=Dt.dispatch,Qt=Dt.getState;function Xt(){return(Xt=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.a.interceptors.request.use((function(e){return["/auth"].some((function(t){return e.url.startsWith(t)}))||(e.baseURL="https://api.trakt.tv",e.headers.Authorization="Bearer ".concat(rt(Qt())),e.headers["trakt-api-key"]="2f559ffb672e4f109e657a3da2065bd551ff9259386a5e3d3a2ff0b7795a8c0a"),e})),e.next=3,Kt(zt());case 3:return e.next=5,Kt(dt());case 5:return e.next=7,Kt(fe());case 7:return e.next=9,Kt(we());case 9:return e.next=11,Kt(Re());case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return Xt.apply(this,arguments)})().then((function(){p.a.render(Object(i.jsx)(Ht,{}),document.getElementById("root"))}))}},[[113,1,2]]]);
//# sourceMappingURL=main.4a9574e5.chunk.js.map