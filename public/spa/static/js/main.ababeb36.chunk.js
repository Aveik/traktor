(this["webpackJsonpmovie-tinder-frontend"]=this["webpackJsonpmovie-tinder-frontend"]||[]).push([[0],{103:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n(0),c=n.n(a),i=n(14),s=n.n(i),o=n(137),u=n(5),l=n(9),j=n(21),p=n(135),b=n(138),d=n(139),f=n(51),O=n(136),h=n(134),m=n(18),g=n(24),x=Object(g.a)((function(t){return t.notifications}),(function(t){return t})),v=n(3);function y(t){return t.type.endsWith("/rejected")}var P=Object(v.c)({extraReducers:function(t){t.addMatcher(y,(function(t,e){t[e.meta.requestId]=e.payload}))},initialState:{},name:"notifications",reducers:{createNotification:{prepare:function(t){return{payload:{id:Object(v.d)(),message:t}}},reducer:function(t,e){t[e.payload.id]=e.payload.message}},removeNotification:function(t,e){delete t[e.payload]}}}),w=P.actions,k=P.reducer,S=(w.createNotification,w.removeNotification),N=k;var F=function(t){var e=t.id,n=t.message,a=Object(u.b)();return Object(r.jsx)("div",{onClick:function(){a(S(e))},children:n})};var L=function(){var t=Object(u.c)(x);return Object.entries(t).map((function(t){var e=Object(m.a)(t,2),n=e[0],a=e[1];return Object(r.jsx)(F,{id:n,message:a},n)}))},W=n(128),R=Object(W.a)({drawerPaper:{width:256}}),E=n(17),I=n(140),C=n(130),J=n(49),V=n(133),q=n(131),M=n(132),T=Object(W.a)((function(t){return{nestedListItemGutters:{paddingLeft:t.spacing(4)}}}));var z=function(t){var e=t.children,n=t.listItemTextProps,i=Object(J.a)(t,["children","listItemTextProps"]),s=T(),o=Object(a.useState)(!1),u=Object(m.a)(o,2),l=u[0],j=u[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(I.a,Object(E.a)(Object(E.a)({},i),{},{onClick:function(t){t.preventDefault(),j(!l)},children:[Object(r.jsx)(C.a,Object(E.a)({},n)),l?Object(r.jsx)(q.a,{}):Object(r.jsx)(M.a,{})]})),Object(r.jsx)(V.a,{in:l,children:Object(r.jsx)(h.a,{disablePadding:!0,children:c.a.Children.map(e,(function(t){return c.a.cloneElement(t,{classes:{gutters:s.nestedListItemGutters}})}))})})]})},A=[{nested:[{path:"movies/trending",title:"Trending"},{path:"movies/popular",title:"Popular"},{path:"movies/recommended",title:"Recommended"},{path:"movies/watched",title:"Watched"},{path:"movies/collected",title:"Collected"},{path:"movies/anticipated",title:"Anticipated"}],title:"Movies"},{nested:[{path:"shows/trending",title:"Trending"},{path:"shows/popular",title:"Popular"},{path:"shows/recommended",title:"Recommended"},{path:"shows/watched",title:"Watched"},{path:"shows/collected",title:"Collected"},{path:"shows/anticipated",title:"Anticipated"}],title:"Shows"},{nested:[{path:"profile/ratings",title:"Ratings"},{path:"profile/recommendations",title:"Recommendations"},{path:"profile/watchlist",title:"Watchlist"},{path:"profile/lists",title:"Lists"},{path:"profile/comments",title:"Comments"}],title:"Profile"},{nested:[{path:"search/all",title:"All"},{path:"search/movies",title:"Movies"},{path:"search/shows",title:"Shows"},{path:"search/people",title:"People"}],title:"Search"}];var B=function(){var t=R();return Object(r.jsxs)(p.a,{children:[Object(r.jsxs)(b.a,{anchor:"left",classes:{paper:t.drawerPaper},color:"",variant:"permanent",children:[Object(r.jsxs)(d.a,{px:2,py:1,children:[Object(r.jsx)(f.a,{variant:"h6",children:"Traktor"}),Object(r.jsx)(f.a,{variant:"caption",children:"v0.1"})]}),Object(r.jsx)(O.a,{}),Object(r.jsx)(h.a,{disablePadding:!0,children:A.map((function(t){var e=t.nested,n=t.path,c=t.title,i={activeClassName:"Mui-selected",button:!0,component:j.b,key:c,to:n};if(!e&&n)return Object(r.jsx)(I.a,Object(E.a)(Object(E.a)({},i),{},{children:Object(r.jsx)(C.a,{primary:c})}));var s=e.map((function(t){var e=t.path,n=t.title;return Object(a.createElement)(I.a,Object(E.a)(Object(E.a)({},i),{},{key:n,to:e}),Object(r.jsx)(C.a,{primary:n}))})),o={button:!0,key:c,listItemTextProps:{primary:c}};return Object(r.jsx)(z,Object(E.a)(Object(E.a)({},o),{},{children:s}))}))})]}),Object(r.jsxs)(d.a,{ml:32,children:[Object(r.jsx)(L,{}),Object(r.jsx)(l.b,{})]})]})};var G=function(){return Object(r.jsx)("h1",{children:"404 not found"})};var D=function(t){var e=t.entity,n=t.id,a=t.season,c=t.size,i=t.type;if(!n)return null;var s="/images/".concat(e,"/").concat(n,"/").concat(i,"?");return a&&(s+="season=".concat(a)),c&&(s+="size=".concat(c)),Object(r.jsx)("img",{alt:"poster",src:s,style:{display:"block",margin:"12px 0",maxWidth:"100%"}})};function H(t){return t.loading}function K(t,e){return e}var Q=Object(g.a)([H,K],(function(t,e){return Boolean(t[e])}));function U(){return Object(g.a)([H,K],(function(t,e){return Object.keys(t).filter((function(t){return e.includes(t)})).some((function(e){return t[e]}))}))}var X,Y=Object(g.a)((function(t){return t.movie}),(function(t){return t})),Z=n(12),$=n(6),_=n.n($),tt=n(13),et=n(7),nt=n.n(et),rt=Object(v.b)("movie/comments/fetch",function(){var t=Object(tt.a)(_.a.mark((function t(e,n){var r,a,c,i,s;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.limit,a=e.slug,c=e.sort,i=n.rejectWithValue,t.prev=2,t.next=5,nt.a.get("/trakt/movies/".concat(a,"/comments/").concat(c,"?page=1&limit=").concat(r));case 5:return s=t.sent,t.abrupt("return",s.data);case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",i(t.t0.toString()));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,n){return t.apply(this,arguments)}}()),at=Object(v.b)("movie/fetch",function(){var t=Object(tt.a)(_.a.mark((function t(e,n){var r,a,c,i,s,o,u,l,j;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,Promise.all([nt.a.get("/trakt/movies/".concat(e)),nt.a.get("/trakt/movies/".concat(e,"/comments/highest")),nt.a.get("/trakt/movies/".concat(e,"/people")),nt.a.get("/trakt/movies/".concat(e,"/ratings")),nt.a.get("/trakt/movies/".concat(e,"/related")),nt.a.get("/trakt/movies/".concat(e,"/stats"))]);case 4:return a=t.sent,c=Object(m.a)(a,6),i=c[0],s=c[1],o=c[2],u=c[3],l=c[4],j=c[5],t.abrupt("return",{comments:s.data,people:o.data,ratings:u.data,related:l.data,stats:j.data,summary:i.data});case 15:return t.prev=15,t.t0=t.catch(1),t.abrupt("return",r(t.t0.toString()));case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e,n){return t.apply(this,arguments)}}()),ct=Object(v.c)({extraReducers:(X={},Object(Z.a)(X,rt.fulfilled,(function(t,e){t.comments=e.payload})),Object(Z.a)(X,at.fulfilled,(function(t,e){return e.payload})),X),initialState:{comments:[],people:null,ratings:null,related:[],stats:null,summary:null},name:"movie",reducers:{}}).reducer;var it=function(){var t,e=Object(a.useMemo)(U,[]),n=Object(u.b)(),c=Object(l.j)().slug,i=Object(u.c)((function(t){return e(t,["movie/fetch","movie/comments/fetch"])})),s=Object(u.c)(Y);return Object(a.useEffect)((function(){n(at(c))}),[n,c]),Object(r.jsxs)(r.Fragment,{children:[i&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)("button",{onClick:function(){n(rt({limit:s.stats.comments,slug:c,sort:"newest"}))},type:"button",children:"Fetch all comments"}),Object(r.jsx)(D,{entity:"movie",id:null===(t=s.summary)||void 0===t?void 0:t.ids.tmdb,size:"w154",type:"poster"}),Object(r.jsx)("pre",{children:JSON.stringify(s,null,2)})]})};var st=function(t){var e=t.disabled,n=t.hasNextPage,a=t.hasPreviousPage,c=t.onFirstPage,i=t.onLastPage,s=t.onNextPage,o=t.onPreviousPage;return Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{disabled:e,onClick:c,type:"button",children:"First page"}),Object(r.jsx)("button",{disabled:e||!a,onClick:o,type:"button",children:"Previous page"}),Object(r.jsx)("button",{disabled:e||!n,onClick:s,type:"button",children:"Next page"}),Object(r.jsx)("button",{disabled:e,onClick:i,type:"button",children:"Last page"})]})};var ot=function(t){var e=Object(j.c)(),n=Object(m.a)(e,2),r=n[0],c=n[1],i=Object(a.useMemo)((function(){return Object.fromEntries(r)}),[r]),s=i.page,o=void 0===s?"1":s,l=Object(J.a)(i,["page"]),p=Object(u.c)(t);return{hasNextPage:parseInt(o)<p,hasPreviousPage:parseInt(o)>1,page:o,toFirstPage:function(){c(Object(E.a)({page:1},l))},toLastPage:function(){c(Object(E.a)({page:p},l))},toNextPage:function(){c(Object(E.a)({page:parseInt(o)+1},l))},toPreviousPage:function(){c(Object(E.a)({page:parseInt(o)-1},l))}}},ut=Object(g.a)((function(t){return t.movies.entities}),(function(t){return t})),lt=Object(g.a)((function(t){return t.movies.pagination.total}),(function(t){return t})),jt=40;function pt(){return document.cookie.split("; ").reduce((function(t,e){var n=e.split("="),r=Object(m.a)(n,2),a=r[0],c=r[1];return t[a]=c,t}),{}).userSlug}var bt=Object(v.b)("movies/fetch",function(){var t=Object(tt.a)(_.a.mark((function t(e,n){var r,a,c,i;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.category,a=e.page,c=n.rejectWithValue,t.prev=2,t.next=5,nt.a.get("/trakt/movies/".concat(r,"?page=").concat(a,"&limit=").concat(jt));case 5:return i=t.sent,t.abrupt("return",{entities:i.data,total:parseInt(i.headers["x-pagination-page-count"])});case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",c(t.t0.toString()));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,n){return t.apply(this,arguments)}}()),dt=Object(v.c)({extraReducers:Object(Z.a)({},bt.fulfilled,(function(t,e){t.entities=e.payload.entities,t.pagination.total=e.payload.total})),initialState:{entities:[],pagination:{total:0}},name:"movies",reducers:{}}).reducer;var ft=function(t){var e=t.category,n=Object(u.b)(),c=ot(lt),i=c.hasNextPage,s=c.hasPreviousPage,o=c.page,l=c.toFirstPage,j=c.toLastPage,p=c.toNextPage,b=c.toPreviousPage,d=Object(u.c)((function(t){return Q(t,"movies/fetch")})),f=Object(u.c)(ut);return Object(a.useEffect)((function(){n(bt({category:e,page:o}))}),[e,n,o]),Object(r.jsxs)(r.Fragment,{children:[d&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)(st,{disabled:d,hasNextPage:i,hasPreviousPage:s,onFirstPage:l,onLastPage:j,onNextPage:p,onPreviousPage:b}),Object(r.jsx)("pre",{children:JSON.stringify(f,null,2)})]})},Ot=Object(g.a)((function(t){return t.person}),(function(t){return t})),ht=Object(v.b)("person/fetch",function(){var t=Object(tt.a)(_.a.mark((function t(e,n){var r,a,c,i,s,o;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,Promise.all([nt.a.get("/trakt/people/".concat(e,"?extended=full")),nt.a.get("/trakt/people/".concat(e,"/movies")),nt.a.get("/trakt/people/".concat(e,"/shows"))]);case 4:return a=t.sent,c=Object(m.a)(a,3),i=c[0],s=c[1],o=c[2],t.abrupt("return",{movies:s.data,shows:o.data,summary:i.data});case 12:return t.prev=12,t.t0=t.catch(1),t.abrupt("return",r(t.t0.toString()));case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e,n){return t.apply(this,arguments)}}()),mt=Object(v.c)({extraReducers:Object(Z.a)({},ht.fulfilled,(function(t,e){return e.payload})),initialState:{movies:[],shows:[],summary:null},name:"person",reducers:{}}).reducer;var gt=function(){var t,e=Object(u.b)(),n=Object(l.j)().slug,c=Object(u.c)((function(t){return Q(t,"person/fetch")})),i=Object(u.c)(Ot);return Object(a.useEffect)((function(){e(ht(n))}),[e,n]),Object(r.jsxs)(r.Fragment,{children:[c&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)(D,{entity:"person",id:null===(t=i.summary)||void 0===t?void 0:t.ids.tmdb,size:"w185",type:"profile"}),Object(r.jsx)("pre",{children:JSON.stringify(i,null,2)})]})},xt=Object(g.a)((function(t){return t.profile.comments.entities}),(function(t){return t})),vt=Object(g.a)((function(t){return t.profile.comments.pagination.total}),(function(t){return t})),yt=Object(v.b)("profile/comments/fetch",function(){var t=Object(tt.a)(_.a.mark((function t(e,n){var r,a;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,nt.a.get("/trakt/users/".concat(pt(),"/comments?page=").concat(e,"&limit=").concat(jt));case 4:return a=t.sent,t.abrupt("return",{entities:a.data,total:parseInt(a.headers["x-pagination-page-count"])});case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",r(t.t0.toString()));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),Pt=Object(v.c)({extraReducers:Object(Z.a)({},yt.fulfilled,(function(t,e){t.entities=e.payload.entities,t.pagination.total=e.payload.total})),initialState:{entities:[],pagination:{total:0}},name:"profile/comments",reducers:{}}).reducer;var wt=function(){var t=Object(u.b)(),e=ot(vt),n=e.hasNextPage,c=e.hasPreviousPage,i=e.page,s=e.toFirstPage,o=e.toLastPage,l=e.toNextPage,j=e.toPreviousPage,p=Object(u.c)((function(t){return Q(t,"profile/comments/fetch")})),b=Object(u.c)(xt);return Object(a.useEffect)((function(){t(yt(i))}),[t,i]),Object(r.jsxs)(r.Fragment,{children:[p&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)(st,{disabled:p,hasNextPage:n,hasPreviousPage:c,onFirstPage:s,onLastPage:o,onNextPage:l,onPreviousPage:j}),Object(r.jsx)("pre",{children:JSON.stringify(b,null,2)})]})},kt=Object(g.a)((function(t){return t.profile.list}),(function(t){return t})),St=Object(v.b)("list/fetch",function(){var t=Object(tt.a)(_.a.mark((function t(e,n){var r,a,c,i,s;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,Promise.all([nt.a.get("/trakt/lists/".concat(e)),nt.a.get("/trakt/lists/".concat(e,"/items"))]);case 4:return a=t.sent,c=Object(m.a)(a,2),i=c[0],s=c[1],t.abrupt("return",Object(E.a)(Object(E.a)({},i.data),{},{items:s.data}));case 11:return t.prev=11,t.t0=t.catch(1),t.abrupt("return",r(t.t0.toString()));case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,n){return t.apply(this,arguments)}}()),Nt=Object(v.c)({extraReducers:Object(Z.a)({},St.fulfilled,(function(t,e){return e.payload})),initialState:{items:[]},name:"list",reducers:{}}).reducer;var Ft=function(){var t=Object(u.b)(),e=Object(l.j)().id,n=Object(u.c)((function(t){return Q(t,"list/fetch")})),c=Object(u.c)(kt);return Object(a.useEffect)((function(){t(St(e))}),[t,e]),Object(r.jsxs)(r.Fragment,{children:[n&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)("pre",{children:JSON.stringify(c,null,2)})]})},Lt=Object(g.a)((function(t){return t.profile.lists}),(function(t){return t})),Wt=Object(v.b)("profile/lists/fetch",function(){var t=Object(tt.a)(_.a.mark((function t(e,n){var r,a;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,nt.a.get("/trakt/users/".concat(pt(),"/lists"));case 4:return a=t.sent,t.abrupt("return",a.data);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",r(t.t0.toString()));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),Rt=Object(v.c)({extraReducers:Object(Z.a)({},Wt.fulfilled,(function(t,e){return e.payload})),initialState:[],name:"profile/lists",reducers:{}}).reducer;var Et=function(){var t=Object(u.b)(),e=Object(u.c)((function(t){return Q(t,"profile/lists/fetch")})),n=Object(u.c)(Lt);return Object(a.useEffect)((function(){t(Wt())}),[t]),Object(r.jsxs)(r.Fragment,{children:[e&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)("pre",{children:JSON.stringify(n,null,2)})]})},It=Object(g.a)((function(t){return t.profile.ratings}),(function(t){return t})),Ct=Object(v.b)("profile/ratings/fetch",function(){var t=Object(tt.a)(_.a.mark((function t(e,n){var r,a;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,nt.a.get("/trakt/sync/ratings");case 4:return a=t.sent,t.abrupt("return",a.data);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",r(t.t0.toString()));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),Jt=Object(v.c)({extraReducers:Object(Z.a)({},Ct.fulfilled,(function(t,e){return e.payload})),initialState:[],name:"profile/ratings",reducers:{}}).reducer;var Vt=function(){var t=Object(u.b)(),e=Object(u.c)((function(t){return Q(t,"profile/ratings/fetch")})),n=Object(u.c)(It);return Object(a.useEffect)((function(){t(Ct())}),[t]),Object(r.jsxs)(r.Fragment,{children:[e&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)("pre",{children:JSON.stringify(n,null,2)})]})},qt=Object(g.a)((function(t){return t.profile.recommendations}),(function(t){return t})),Mt=Object(v.b)("profile/recommendations/fetch",function(){var t=Object(tt.a)(_.a.mark((function t(e,n){var r,a;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,nt.a.get("/trakt/sync/recommendations");case 4:return a=t.sent,t.abrupt("return",a.data);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",r(t.t0.toString()));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),Tt=Object(v.c)({extraReducers:Object(Z.a)({},Mt.fulfilled,(function(t,e){return e.payload})),initialState:[],name:"profile/recommendations",reducers:{}}).reducer;var zt=function(){var t=Object(u.b)(),e=Object(u.c)((function(t){return Q(t,"profile/recommendations/fetch")})),n=Object(u.c)(qt);return Object(a.useEffect)((function(){t(Mt())}),[t]),Object(r.jsxs)(r.Fragment,{children:[e&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)("pre",{children:JSON.stringify(n,null,2)})]})},At=Object(g.a)((function(t){return t.profile.watchlist}),(function(t){return t})),Bt=Object(v.b)("profile/watchlist/fetch",function(){var t=Object(tt.a)(_.a.mark((function t(e,n){var r,a;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,nt.a.get("/trakt/sync/watchlist");case 4:return a=t.sent,t.abrupt("return",a.data);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",r(t.t0.toString()));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),Gt=Object(v.c)({extraReducers:Object(Z.a)({},Bt.fulfilled,(function(t,e){return e.payload})),initialState:[],name:"profile/watchlist",reducers:{}}).reducer;var Dt=function(){var t=Object(u.b)(),e=Object(u.c)((function(t){return Q(t,"profile/watchlist/fetch")})),n=Object(u.c)(At);return Object(a.useEffect)((function(){t(Bt())}),[t]),Object(r.jsxs)(r.Fragment,{children:[e&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)("pre",{children:JSON.stringify(n,null,2)})]})},Ht=Object(g.a)((function(t){return t.search.entities}),(function(t){return t})),Kt=Object(g.a)((function(t){return t.search.pagination.total}),(function(t){return t}));function Qt(t){switch(t){case"movies":return"movie";case"shows":return"show";case"people":return"person";default:return"movie,show,person"}}var Ut=Object(v.b)("search/fetch",function(){var t=Object(tt.a)(_.a.mark((function t(e,n){var r,a,c,i,s;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.page,a=e.query,c=e.type,i=n.rejectWithValue,t.prev=2,t.next=5,nt.a.get("/trakt/search/".concat(Qt(c),"?query=").concat(a,"&page=").concat(r,"&limit=").concat(jt));case 5:return s=t.sent,t.abrupt("return",{entities:s.data,total:parseInt(s.headers["x-pagination-page-count"])});case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",i(t.t0.toString()));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,n){return t.apply(this,arguments)}}()),Xt=Object(v.c)({extraReducers:Object(Z.a)({},Ut.fulfilled,(function(t,e){t.entities=e.payload.entities,t.pagination.total=e.payload.total})),initialState:{entities:[],pagination:{total:0}},name:"search",reducers:{}}).reducer;var Yt,Zt=function(t){var e=t.type,n=Object(u.b)(),c=ot(Kt),i=c.hasNextPage,s=c.hasPreviousPage,o=c.page,l=c.toFirstPage,p=c.toLastPage,b=c.toNextPage,d=c.toPreviousPage,f=Object(j.c)(),O=Object(m.a)(f,2),h=O[0],g=O[1],x=Object(a.useMemo)((function(){return Object.fromEntries(h)}),[h]).query,v=void 0===x?"":x,y=Object(u.c)((function(t){return Q(t,"search/fetch")})),P=Object(u.c)(Ht);return Object(a.useEffect)((function(){n(Ut({page:o,query:v,type:e}))}),[n,o,v,e]),Object(r.jsxs)(r.Fragment,{children:[y&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)(st,{disabled:y,hasNextPage:i,hasPreviousPage:s,onFirstPage:l,onLastPage:p,onNextPage:b,onPreviousPage:d}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"query",children:"Input your query:"}),Object(r.jsx)("input",{id:"query",onChange:function(t){var e=t.target.value;g({query:e})},type:"text",value:v})]}),Object(r.jsx)("pre",{children:JSON.stringify(P,null,2)})]})},$t=Object(g.a)((function(t){return t.show}),(function(t){return t})),_t=Object(v.b)("show/comments/fetch",function(){var t=Object(tt.a)(_.a.mark((function t(e,n){var r,a,c,i,s;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.limit,a=e.slug,c=e.sort,i=n.rejectWithValue,t.prev=2,t.next=5,nt.a.get("/trakt/shows/".concat(a,"/comments/").concat(c,"?page=1&limit=").concat(r));case 5:return s=t.sent,t.abrupt("return",s.data);case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",i(t.t0.toString()));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,n){return t.apply(this,arguments)}}()),te=Object(v.b)("show/fetch",function(){var t=Object(tt.a)(_.a.mark((function t(e,n){var r,a,c,i,s,o,u,l,j,p;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,Promise.all([nt.a.get("/trakt/shows/".concat(e)),nt.a.get("/trakt/shows/".concat(e,"/comments/highest")),nt.a.get("/trakt/shows/".concat(e,"/people")),nt.a.get("/trakt/shows/".concat(e,"/ratings")),nt.a.get("/trakt/shows/".concat(e,"/related")),nt.a.get("/trakt/shows/".concat(e,"/stats")),nt.a.get("/trakt/shows/".concat(e,"/seasons?extended=episodes"))]);case 4:return a=t.sent,c=Object(m.a)(a,7),i=c[0],s=c[1],o=c[2],u=c[3],l=c[4],j=c[5],p=c[6],t.abrupt("return",{comments:s.data,people:o.data,ratings:u.data,related:l.data,seasons:p.data,stats:j.data,summary:i.data});case 16:return t.prev=16,t.t0=t.catch(1),t.abrupt("return",r(t.t0.toString()));case 19:case"end":return t.stop()}}),t,null,[[1,16]])})));return function(e,n){return t.apply(this,arguments)}}()),ee=Object(v.c)({extraReducers:(Yt={},Object(Z.a)(Yt,_t.fulfilled,(function(t,e){t.comments=e.payload})),Object(Z.a)(Yt,te.fulfilled,(function(t,e){return e.payload})),Yt),initialState:{comments:[],people:null,ratings:null,related:[],seasons:[],stats:null,summary:null},name:"show",reducers:{}}).reducer;var ne=function(){var t,e=Object(a.useMemo)(U,[]),n=Object(u.b)(),c=Object(l.j)().slug,i=Object(u.c)((function(t){return e(t,["show/fetch","show/comments/fetch"])})),s=Object(u.c)($t);return Object(a.useEffect)((function(){n(te(c))}),[n,c]),Object(r.jsxs)(r.Fragment,{children:[i&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)("button",{onClick:function(){n(_t({limit:s.stats.comments,slug:c,sort:"newest"}))},type:"button",children:"Fetch all comments"}),Object(r.jsx)(D,{entity:"show",id:null===(t=s.summary)||void 0===t?void 0:t.ids.tmdb,size:"w154",type:"poster"}),Object(r.jsx)("pre",{children:JSON.stringify(s,null,2)})]})},re=Object(g.a)((function(t){return t.shows.entities}),(function(t){return t})),ae=Object(g.a)((function(t){return t.shows.pagination.total}),(function(t){return t})),ce=Object(v.b)("shows/fetch",function(){var t=Object(tt.a)(_.a.mark((function t(e,n){var r,a,c,i;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.category,a=e.page,c=n.rejectWithValue,t.prev=2,t.next=5,nt.a.get("/trakt/shows/".concat(r,"?page=").concat(a,"&limit=").concat(jt));case 5:return i=t.sent,t.abrupt("return",{entities:i.data,total:parseInt(i.headers["x-pagination-page-count"])});case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",c(t.t0.toString()));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,n){return t.apply(this,arguments)}}()),ie=Object(v.c)({extraReducers:Object(Z.a)({},ce.fulfilled,(function(t,e){t.entities=e.payload.entities,t.pagination.total=e.payload.total})),initialState:{entities:[],pagination:{total:0}},name:"shows",reducers:{}}).reducer;var se=function(t){var e=t.category,n=Object(u.b)(),c=ot(ae),i=c.hasNextPage,s=c.hasPreviousPage,o=c.page,l=c.toFirstPage,j=c.toLastPage,p=c.toNextPage,b=c.toPreviousPage,d=Object(u.c)((function(t){return Q(t,"shows/fetch")})),f=Object(u.c)(re);return Object(a.useEffect)((function(){n(ce({category:e,page:o}))}),[e,n,o]),Object(r.jsxs)(r.Fragment,{children:[d&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)(st,{disabled:d,hasNextPage:i,hasPreviousPage:s,onFirstPage:l,onLastPage:j,onNextPage:p,onPreviousPage:b}),Object(r.jsx)("pre",{children:JSON.stringify(f,null,2)})]})};function oe(t){return["/pending","/fulfilled","/rejected"].some((function(e){return t.type.endsWith(e)}))}var ue=Object(v.c)({extraReducers:function(t){t.addMatcher(oe,(function(t,e){var n=e.type.split("/"),r=n.pop();t["".concat(n.join("/"))]="pending"===r}))},initialState:{},name:"loading",reducers:{}}).reducer,le=n(22),je=Object(le.c)({comments:Pt,list:Nt,lists:Rt,ratings:Jt,recommendations:Tt,watchlist:Gt}),pe=Object(v.a)({reducer:{loading:ue,movie:ct,movies:dt,notifications:N,person:mt,profile:je,search:Xt,show:ee,shows:ie}});function be(){return Object(r.jsxs)(l.e,{basename:"/app",children:[Object(r.jsx)(l.c,{element:Object(r.jsx)(l.a,{replace:!0,to:"movies/trending"}),path:"/"}),Object(r.jsxs)(l.c,{element:Object(r.jsx)(B,{}),path:"/",children:[Object(r.jsxs)(l.c,{path:"movies",children:[Object(r.jsx)(l.c,{element:Object(r.jsx)(l.a,{replace:!0,to:"trending"}),path:"/"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(ft,{category:"trending"}),path:"trending"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(ft,{category:"popular"}),path:"popular"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(ft,{category:"recommended"}),path:"recommended"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(ft,{category:"watched"}),path:"watched"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(ft,{category:"collected"}),path:"collected"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(ft,{category:"anticipated"}),path:"anticipated"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(it,{}),path:":slug"})]}),Object(r.jsxs)(l.c,{path:"shows",children:[Object(r.jsx)(l.c,{element:Object(r.jsx)(l.a,{replace:!0,to:"trending"}),path:"/"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(se,{category:"trending"}),path:"trending"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(se,{category:"popular"}),path:"popular"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(se,{category:"recommended"}),path:"recommended"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(se,{category:"watched"}),path:"watched"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(se,{category:"collected"}),path:"collected"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(se,{category:"anticipated"}),path:"anticipated"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(ne,{}),path:":slug"})]}),Object(r.jsx)(l.c,{element:Object(r.jsx)(gt,{}),path:"people/:slug"}),Object(r.jsxs)(l.c,{path:"search",children:[Object(r.jsx)(l.c,{element:Object(r.jsx)(l.a,{replace:!0,to:"all"}),path:"/"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(Zt,{type:"all"}),path:"all"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(Zt,{type:"movies"}),path:"movies"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(Zt,{type:"shows"}),path:"shows"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(Zt,{type:"people"}),path:"people"})]}),Object(r.jsxs)(l.c,{path:"profile",children:[Object(r.jsx)(l.c,{element:Object(r.jsx)(l.a,{replace:!0,to:"ratings"}),path:"/"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(Vt,{}),path:"ratings"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(zt,{}),path:"recommendations"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(Dt,{}),path:"watchlist"}),Object(r.jsxs)(l.c,{path:"lists",children:[Object(r.jsx)(l.c,{element:Object(r.jsx)(Et,{}),path:"/"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(Ft,{}),path:":id"})]}),Object(r.jsx)(l.c,{element:Object(r.jsx)(wt,{}),path:"comments"})]})]}),Object(r.jsx)(l.c,{element:Object(r.jsx)(G,{}),path:"*"})]})}var de=function(){return Object(r.jsx)(u.a,{store:pe,children:Object(r.jsxs)(j.a,{children:[Object(r.jsx)(o.a,{}),Object(r.jsx)(be,{})]})})};s.a.render(Object(r.jsx)(de,{}),document.getElementById("root"))}},[[103,1,2]]]);
//# sourceMappingURL=main.ababeb36.chunk.js.map