(this["webpackJsonpmovie-tinder-frontend"]=this["webpackJsonpmovie-tinder-frontend"]||[]).push([[0],{142:function(t,e,n){},240:function(t,e,n){"use strict";n.r(e);var r=n(5),a=n.n(r),c=n(12),s=n(1),i=(n(142),n(0)),o=n.n(i),u=n(20),l=n.n(u),d=n(303),j=n(7),b=n(14),p=n(24),m=n(283),h=n(307),f=n(305),O=n(80),v=n(285),g=n(282),x=n(17),y=n(38),w=Object(y.a)((function(t){return t.notifications}),(function(t){return t})),k=n(8);function P(t){return t.type.endsWith("/rejected")}var S=Object(k.c)({extraReducers:function(t){t.addMatcher(P,(function(t,e){t[e.meta.requestId]=e.payload}))},initialState:{},name:"notifications",reducers:{createNotification:{prepare:function(t){return{payload:{id:Object(k.d)(),message:t}}},reducer:function(t,e){t[e.payload.id]=e.payload.message}},removeNotification:function(t,e){delete t[e.payload]}}}),I=S.actions,N=S.reducer,R=(I.createNotification,I.removeNotification),C=N;var z=function(t){var e=t.id,n=t.message,r=Object(j.b)();return Object(s.jsx)("div",{onClick:function(){r(R(e))},children:n})};var W=function(){var t=Object(j.c)(w);return Object.entries(t).map((function(t){var e=Object(x.a)(t,2),n=e[0],r=e[1];return Object(s.jsx)(z,{id:n,message:r},n)}))},F=n(275),L=Object(F.a)({drawerPaper:{width:256}}),M=n(18),T=n(242),V=n(278),E=n(11),A=20,B=36;function _(){return document.cookie.split("; ").reduce((function(t,e){var n=e.split("="),r=Object(x.a)(n,2),a=r[0],c=r[1];return t[a]=c,t}),{}).userSlug}function D(t){if(!t)return[];var e=t.ratings,n=t.stats,r=t.summary;return[["Rating",G(null===e||void 0===e?void 0:e.rating)],["Votes",q(null===e||void 0===e?void 0:e.votes)],["Released",new Date(null===r||void 0===r?void 0:r.released).toLocaleDateString("da-Dk")],["Genres",null===r||void 0===r?void 0:r.genres.map(E.a).join(", ")],["Certification",null===r||void 0===r?void 0:r.certification],["Watchers",q(null===n||void 0===n?void 0:n.watchers)],["Plays",q(null===n||void 0===n?void 0:n.plays)],["Lists",q(null===n||void 0===n?void 0:n.lists)],["Comments",q(null===n||void 0===n?void 0:n.comments)],["Trailer",Object(s.jsx)("a",{href:null===r||void 0===r?void 0:r.trailer,children:"Watch trailer"})]]}function J(t){switch(t){case"movies":return"movie";case"shows":return"show";case"people":return"person";default:return"movie,show,person"}}function q(t){return t?Math.abs(t)>999?Math.sign(t)*(Math.abs(t)/1e3).toFixed(1)+"k":Math.sign(t)*Math.abs(t):""}function G(t){return t?"".concat((10*t).toFixed(2),"%"):""}var H=n(41),U=n(281),K=n(279),Q=n(280),X=Object(F.a)((function(t){return{nestedListItemGutters:{paddingLeft:t.spacing(4)}}}));var Y=function(t){var e=t.children,n=t.listItemTextProps,r=Object(H.a)(t,["children","listItemTextProps"]),a=X(),c=Object(i.useState)(!1),u=Object(x.a)(c,2),l=u[0],d=u[1];return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(T.a,Object(M.a)(Object(M.a)({},r),{},{onClick:function(t){t.preventDefault(),d(!l)},children:[Object(s.jsx)(V.a,Object(M.a)({},n)),l?Object(s.jsx)(K.a,{}):Object(s.jsx)(Q.a,{})]})),Object(s.jsx)(U.a,{in:l,children:Object(s.jsx)(g.a,{disablePadding:!0,children:o.a.Children.map(e,(function(t){return o.a.cloneElement(t,{classes:{gutters:a.nestedListItemGutters}})}))})})]})},Z=[{nested:[{path:"movies/trending",title:"Trending"},{path:"movies/popular",title:"Popular"},{path:"movies/recommended",title:"Recommended"},{path:"movies/watched",title:"Watched"},{path:"movies/anticipated",title:"Anticipated"}],title:"Movies"},{nested:[{path:"shows/trending",title:"Trending"},{path:"shows/popular",title:"Popular"},{path:"shows/recommended",title:"Recommended"},{path:"shows/watched",title:"Watched"},{path:"shows/anticipated",title:"Anticipated"}],title:"Shows"},{nested:[{path:"users/".concat(_(),"/ratings"),title:"Ratings"},{path:"users/".concat(_(),"/recommendations"),title:"Recommendations"},{path:"users/".concat(_(),"/watchlist"),title:"Watchlist"},{path:"users/".concat(_(),"/lists"),title:"Lists"},{path:"users/".concat(_(),"/comments"),title:"Comments"}],title:"Profile"},{nested:[{path:"search/all",title:"All"},{path:"search/movies",title:"Movies"},{path:"search/shows",title:"Shows"},{path:"search/people",title:"People"}],title:"Search"}];var $=function(){var t=L();return Object(s.jsxs)(m.a,{children:[Object(s.jsxs)(h.a,{anchor:"left",classes:{paper:t.drawerPaper},color:"",variant:"permanent",children:[Object(s.jsxs)(f.a,{px:2,py:1,children:[Object(s.jsx)(O.a,{variant:"h6",children:"Traktor"}),Object(s.jsx)(O.a,{variant:"caption",children:"v0.1"})]}),Object(s.jsx)(v.a,{}),Object(s.jsx)(g.a,{disablePadding:!0,children:Z.map((function(t){var e=t.nested,n=t.path,r=t.title,a={activeClassName:"Mui-selected",button:!0,component:p.c,key:r,to:n};if(!e&&n)return Object(s.jsx)(T.a,Object(M.a)(Object(M.a)({},a),{},{children:Object(s.jsx)(V.a,{primary:r})}));var c=e.map((function(t){var e=t.path,n=t.title;return Object(i.createElement)(T.a,Object(M.a)(Object(M.a)({},a),{},{key:n,to:e}),Object(s.jsx)(V.a,{primary:n}))})),o={button:!0,key:r,listItemTextProps:{primary:r}};return Object(s.jsx)(Y,Object(M.a)(Object(M.a)({},o),{},{children:c}))}))})]}),Object(s.jsxs)(f.a,{ml:32,children:[Object(s.jsx)(W,{}),Object(s.jsx)(b.b,{})]})]})},tt=n(286),et=Object(F.a)((function(t){return{root:{alignItems:"center",backgroundColor:t.palette.text.primary,display:"flex",height:"100%",justifyContent:"center",position:"fixed",top:0,width:"100%",zIndex:t.zIndex.drawer}}}));var nt=function(t){var e=t.fullscreen,n=void 0===e||e,r=et();return Object(i.useEffect)((function(){return document.body.style.overflow="hidden",function(){return document.body.style.overflow="initial"}}),[]),n?l.a.createPortal(Object(s.jsx)("div",{className:r.root,children:Object(s.jsx)(tt.a,{color:"secondary",size:64})}),document.getElementById("loadingOverlayRoot")):Object(s.jsx)("h1",{children:"hi"})};var rt=function(){return Object(s.jsx)("h1",{children:"404 not found"})};var at=function(){var t=Object(b.h)();Object(i.useEffect)((function(){window.scrollTo({top:0})}),[t])},ct=n(287),st=n(243),it=n(308),ot=n(288),ut=n(289),lt=n(290),dt=n(122),jt=n.n(dt),bt=n(123),pt=n.n(bt);function mt(t){return t.loading}function ht(t,e){return e}var ft=Object(y.a)([mt,ht],(function(t,e){return Boolean(t[e])}));function Ot(){return Object(y.a)([mt,ht],(function(t,e){return Object.keys(t).filter((function(t){return e.includes(t)})).some((function(e){return t[e]}))}))}var vt,gt=n(13),xt=n(10),yt=n.n(xt),wt=Object(k.b)("users/comments/fetch",function(){var t=Object(c.a)(a.a.mark((function t(e,n){var r,c,s,i,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.page,c=e.userSlug,s=void 0===c?_():c,i=n.rejectWithValue,t.prev=2,t.next=5,yt.a.get("/trakt/users/".concat(s,"/comments?page=").concat(r,"&limit=").concat(B));case 5:return o=t.sent,t.abrupt("return",{entities:o.data,total:parseInt(o.headers["x-pagination-page-count"])});case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",i(t.t0.toString()));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,n){return t.apply(this,arguments)}}()),kt=Object(k.b)("users/comments/post",function(){var t=Object(c.a)(a.a.mark((function t(e,n){var r,c,s,i,o,u,l,d;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.comment,c=e.entity,s=e.slug,i=e.spoiler,o=void 0!==i&&i,u=n.rejectWithValue,c=J(c),t.prev=3,t.next=6,yt.a.post("/trakt/comments",(l={comment:r},Object(gt.a)(l,c,{ids:{slug:s}}),Object(gt.a)(l,"spoiler",o),l));case 6:return d=t.sent,t.abrupt("return",d.data);case 10:return t.prev=10,t.t0=t.catch(3),t.abrupt("return",u(t.t0.toString()));case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e,n){return t.apply(this,arguments)}}()),Pt=Object(k.b)("users/comments/remove",function(){var t=Object(c.a)(a.a.mark((function t(e,n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,yt.a.delete("/trakt/comments/".concat(e));case 4:t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(1),t.abrupt("return",r(t.t0.toString()));case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n){return t.apply(this,arguments)}}()),St=Object(k.b)("users/comments/update",function(){var t=Object(c.a)(a.a.mark((function t(e,n){var r,c,s,i,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.comment,c=e.id,s=e.spoiler,i=n.rejectWithValue,t.prev=2,t.next=5,yt.a.put("/trakt/comments/".concat(c),{comment:r,spoiler:s});case 5:return o=t.sent,t.abrupt("return",o.data);case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",i(t.t0.toString()));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,n){return t.apply(this,arguments)}}()),It=Object(k.c)({extraReducers:(vt={},Object(gt.a)(vt,wt.fulfilled,(function(t,e){t.entities=e.payload.entities,t.pagination.total=e.payload.total})),Object(gt.a)(vt,Pt.fulfilled,(function(t,e){var n=e.meta.arg,r=t.entities.findIndex((function(t){return t.comment.id===n}));-1!==r&&t.entities.splice(r,1)})),Object(gt.a)(vt,St.fulfilled,(function(t,e){var n=t.entities.findIndex((function(t){return t.comment.id===e.payload.id}));-1!==n&&(t.entities[n].comment=e.payload)})),vt),initialState:{entities:[],pagination:{total:0}},name:"users/comments",reducers:{}}).reducer;var Nt=function(t){var e=t.comment,n=void 0===e?"":e,r=t.onSubmit,a=t.spoiler,c=void 0!==a&&a,o=Object(i.useState)({comment:n,spoiler:c}),u=Object(x.a)(o,2),l=u[0],d=u[1];function j(){d({comment:n,spoiler:c})}return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("label",{htmlFor:"comment",children:"Type your comment"}),Object(s.jsx)("br",{}),Object(s.jsx)("textarea",{id:"comment",onChange:function(t){var e=t.target.value;d(Object(M.a)(Object(M.a)({},l),{},{comment:e}))},value:l.comment}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{checked:l.spoiler,id:"spoiler",onChange:function(t){var e=t.target.checked;d(Object(M.a)(Object(M.a)({},l),{},{spoiler:e}))},type:"checkbox"}),Object(s.jsx)("label",{htmlFor:"spoiler",children:"Is this spoiler?"}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{onClick:function(){r({comment:l.comment,reset:j,spoiler:l.spoiler})},type:"button",children:"Submit"})]})},Rt=Object(F.a)({listItemRoot:{"&:not(:last-child)":{marginBottom:8}}});var Ct=function(t){var e=t.comment,n=t.createdAt,r=t.id,a=t.review,c=t.spoiler,o=t.username,u=t.userRating,l=t.userSlug,d=Object(i.useMemo)(Ot,[]),b=Rt(),p=Object(j.b)(),h=Object(j.c)((function(t){return d(t,["users/comments/remove","users/comments/update"])})),f=Object(i.useState)(null),v=Object(x.a)(f,2),g=v[0],y=v[1],w=_()===l,k="editing"===g,P="removing"===g;return Object(s.jsxs)(s.Fragment,{children:[h&&(k||P)&&Object(s.jsx)(ct.a,{}),Object(s.jsx)(T.a,{classes:{root:b.listItemRoot},component:st.a,children:Object(s.jsx)(V.a,{primary:Object(s.jsxs)(m.a,{container:!0,justify:"space-between",children:[Object(s.jsxs)(m.a,{item:!0,children:[Object(s.jsxs)(O.a,{display:"inline",variant:"body2",children:[a?"Review":"Shout"," by ",o]}),Object(s.jsxs)(O.a,{display:"inline",variant:"caption",children:[" | ".concat(new Date(n).toLocaleString("da-Dk")," \n                ").concat(u?"| rated ".concat(u," stars"):""),c&&Object(s.jsxs)(s.Fragment,{children:[" | "," ",Object(s.jsx)(it.a,{label:"Spoiler",size:"small"})]})]})]}),w&&Object(s.jsxs)(m.a,{item:!0,children:[Object(s.jsx)(ot.a,{onClick:function(){y(k?"default":"editing")},size:"small",children:Object(s.jsx)(ut.a,{fontSize:"small"})}),Object(s.jsx)(ot.a,{onClick:function(){y("removing"),p(Pt(r))},size:"small",children:Object(s.jsx)(lt.a,{fontSize:"small"})})]})]}),secondary:k?Object(s.jsx)(Nt,{comment:e,onSubmit:function(t){t.reset;var e=Object(H.a)(t,["reset"]);p(St(Object(M.a)(Object(M.a)({},e),{},{id:r}))).then((function(){return y("default")}))},spoiler:c}):Object(s.jsx)(pt.a,{allowDangerousHtml:!0,children:jt.a.shortnameToImage(e)}),secondaryTypographyProps:{component:"div"}})})]})};function zt(t){var e={comment:t.comment,createdAt:t.created_at,id:t.id,review:t.review,spoiler:t.spoiler,username:t.user.username,userRating:t.user_rating,userSlug:t.user.ids.slug},n=e.id;return Object(s.jsx)(Ct,Object(M.a)({},e),n)}var Wt=[["highest","Highest"],["newest","Newest"],["likes","Likes"]],Ft=n(304),Lt=n(292);var Mt=function(t){var e=t.onChange,n=t.value;return Object(s.jsx)(Ft.a,{fullWidth:!0,label:"Sort comments by",onChange:function(t){var n=t.target.value;e(n)},select:!0,size:"small",value:n,variant:"outlined",children:Wt.map((function(t){var e=Object(x.a)(t,2),n=e[0],r=e[1];return Object(s.jsx)(Lt.a,{value:n,children:r},n)}))})},Tt=n(309),Vt=n(293),Et=n(294),At=n(295),Bt=n(296),_t=Object(F.a)((function(t){return{root:{"& > *:not(:last-child)":{marginRight:t.spacing(1)},margin:"".concat(t.spacing(1),"px 0"),padding:"0 ".concat(t.spacing(1),"px"),textAlign:"right"}}}));var Dt=function(t){var e=t.disabled,n=void 0!==e&&e,r=t.hasNextPage,a=t.hasPreviousPage,c=t.onFirstPage,i=t.onLastPage,o=t.onNextPage,u=t.onPreviousPage,l=t.page,d=t.pagesTotal,j=_t(),b=n||1===l,p=n||!a,m=n||!r,h=n||l===d;return Object(s.jsxs)("div",{className:j.root,children:[Object(s.jsx)(Tt.a,{title:"Go to first page",children:Object(s.jsx)("span",{children:Object(s.jsx)(ot.a,{disabled:b,onClick:c,size:"small",children:Object(s.jsx)(Vt.a,{})})})}),Object(s.jsx)(Tt.a,{title:"Go to previous page",children:Object(s.jsx)("span",{children:Object(s.jsx)(ot.a,{disabled:p,onClick:u,size:"small",children:Object(s.jsx)(Et.a,{})})})}),Object(s.jsxs)(O.a,{variant:"caption",children:["Page ",l," of ",d]}),Object(s.jsx)(Tt.a,{title:"Go to next page",children:Object(s.jsx)("span",{children:Object(s.jsx)(ot.a,{disabled:m,onClick:o,size:"small",children:Object(s.jsx)(At.a,{})})})}),Object(s.jsx)(Tt.a,{title:"Go to last page",children:Object(s.jsx)("span",{children:Object(s.jsx)(ot.a,{disabled:h,onClick:i,size:"small",children:Object(s.jsx)(Bt.a,{})})})})]})};var Jt,qt,Gt,Ht=function(t){var e=Object(p.d)(),n=Object(x.a)(e,2),r=n[0],a=n[1],c=Object(i.useMemo)((function(){return Object.fromEntries(r)}),[r]),s=c.page,o=void 0===s?"1":s,u=Object(H.a)(c,["page"]),l=Object(j.c)(t);return{hasNextPage:parseInt(o)<l,hasPreviousPage:parseInt(o)>1,page:parseInt(o),pagesTotal:l,toFirstPage:function(){a(Object(M.a)({page:1},u))},toLastPage:function(){a(Object(M.a)({page:l},u))},toNextPage:function(){a(Object(M.a)({page:parseInt(o)+1},u))},toPage:function(t){a(Object(M.a)({page:parseInt(t)},u))},toPreviousPage:function(){a(Object(M.a)({page:parseInt(o)-1},u))}}},Ut=Object(y.a)((function(t){return t.comments.entities}),(function(t){return t})),Kt=Object(y.a)((function(t){return t.comments.pagination.total}),(function(t){return t})),Qt=Object(k.b)("movie/fetch",function(){var t=Object(c.a)(a.a.mark((function t(e,n){var r,c,s,i,o,u,l,d,j;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,Promise.all([yt.a.get("/trakt/movies/".concat(e,"/stats")),yt.a.get("/trakt/movies/".concat(e,"?extended=full")),yt.a.get("/trakt/movies/".concat(e,"/comments/highest")),yt.a.get("/trakt/movies/".concat(e,"/people")),yt.a.get("/trakt/movies/".concat(e,"/ratings")),yt.a.get("/trakt/movies/".concat(e,"/related"))]);case 4:return c=t.sent,s=Object(x.a)(c,6),i=s[0],o=s[1],u=s[2],l=s[3],d=s[4],j=s[5],t.abrupt("return",{comments:u.data,people:l.data,ratings:d.data,related:j.data,stats:i.data,summary:o.data});case 15:return t.prev=15,t.t0=t.catch(1),t.abrupt("return",r(t.t0.toString()));case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e,n){return t.apply(this,arguments)}}()),Xt=Object(k.c)({extraReducers:(Jt={},Object(gt.a)(Jt,Pt.fulfilled,(function(t,e){var n=e.meta.arg,r=t.comments.findIndex((function(t){return t.id===n}));-1!==r&&t.comments.splice(r,1)})),Object(gt.a)(Jt,Qt.fulfilled,(function(t,e){return e.payload})),Object(gt.a)(Jt,St.fulfilled,(function(t,e){var n=t.comments.findIndex((function(t){return t.id===e.payload.id}));-1!==n&&(t.comments[n]=e.payload)})),Jt),initialState:{comments:[],people:null,ratings:null,related:[],stats:null,summary:null},name:"movie",reducers:{}}).reducer,Yt=Object(k.b)("show/fetch",function(){var t=Object(c.a)(a.a.mark((function t(e,n){var r,c,s,i,o,u,l,d,j,b;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,Promise.all([yt.a.get("/trakt/shows/".concat(e,"?extended=full")),yt.a.get("/trakt/shows/".concat(e,"/comments/highest")),yt.a.get("/trakt/shows/".concat(e,"/people")),yt.a.get("/trakt/shows/".concat(e,"/ratings")),yt.a.get("/trakt/shows/".concat(e,"/related")),yt.a.get("/trakt/shows/".concat(e,"/stats")),yt.a.get("/trakt/shows/".concat(e,"/seasons?extended=episodes"))]);case 4:return c=t.sent,s=Object(x.a)(c,7),i=s[0],o=s[1],u=s[2],l=s[3],d=s[4],j=s[5],b=s[6],t.abrupt("return",{comments:o.data,people:u.data,ratings:l.data,related:d.data,seasons:b.data,stats:j.data,summary:i.data});case 16:return t.prev=16,t.t0=t.catch(1),t.abrupt("return",r(t.t0.toString()));case 19:case"end":return t.stop()}}),t,null,[[1,16]])})));return function(e,n){return t.apply(this,arguments)}}()),Zt=Object(k.c)({extraReducers:(qt={},Object(gt.a)(qt,Yt.fulfilled,(function(t,e){return e.payload})),Object(gt.a)(qt,Pt.fulfilled,(function(t,e){var n=e.meta.arg,r=t.comments.findIndex((function(t){return t.id===n}));-1!==r&&t.comments.splice(r,1)})),Object(gt.a)(qt,St.fulfilled,(function(t,e){var n=t.comments.findIndex((function(t){return t.id===e.payload.id}));-1!==n&&(t.comments[n]=e.payload)})),qt),initialState:{comments:[],people:null,ratings:null,related:[],seasons:[],stats:null,summary:null},name:"show",reducers:{}}).reducer,$t=Object(k.b)("comments/fetch",function(){var t=Object(c.a)(a.a.mark((function t(e,n){var r,c,s,i,o,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.entity,c=e.page,s=e.slug,i=e.sort,o=n.rejectWithValue,t.prev=2,t.next=5,yt.a.get("/trakt/".concat(r,"/").concat(s,"/comments/").concat(i,"?page=").concat(c,"&limit=").concat(A));case 5:return u=t.sent,t.abrupt("return",{entities:u.data,total:parseInt(u.headers["x-pagination-page-count"])});case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",o(t.t0.toString()));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,n){return t.apply(this,arguments)}}());var te=Object(k.c)({extraReducers:(Gt={},Object(gt.a)(Gt,$t.fulfilled,(function(t,e){t.entities=e.payload.entities,t.pagination.total=e.payload.total})),Object(gt.a)(Gt,kt.fulfilled,(function(t,e){t.entities.unshift(e.payload)})),Object(gt.a)(Gt,Pt.fulfilled,(function(t,e){var n=e.meta.arg,r=t.entities.findIndex((function(t){return t.id===n}));-1!==r&&t.entities.splice(r,1)})),Object(gt.a)(Gt,St.fulfilled,(function(t,e){var n=t.entities.findIndex((function(t){return t.id===e.payload.id}));-1!==n&&(t.entities[n]=e.payload)})),Gt),initialState:{entities:[],pagination:{total:0}},name:"comments",reducers:{}}).reducer,ee=Object(y.a)((function(t){return t.movie}),(function(t){return t})),ne=Object(y.a)((function(t){return t.show}),(function(t){return t}));var re,ae=function(t){var e=t.entity,n=Object(i.useMemo)(Ot,[]),r=Object(i.useRef)(!0),o=Object(b.j)().slug,u=Object(j.b)(),l=Ht(Kt),d=l.hasNextPage,p=l.hasPreviousPage,m=l.page,h=l.pagesTotal,f=l.toFirstPage,O=l.toLastPage,v=l.toNextPage,g=l.toPreviousPage,y=Object(j.c)("movies"===e?ee:ne),w=y.stats,k=y.summary,P=Object(j.c)(Ut),S=Object(j.c)((function(t){return n(t,["comments/fetch","movie/fetch","show/fetch"])})),I=Object(i.useState)("highest"),N=Object(x.a)(I,2),R=N[0],C=N[1];return Object(i.useEffect)((function(){if(r.current)return r.current=!1,void u(function(t){var e=t.entity,n=t.slug,r="movies"===e?Qt:Yt;return function(){var e=Object(c.a)(a.a.mark((function e(c){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([c(r(n)),c($t(t))]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}({entity:e,page:m,slug:o,sort:"highest"}));u($t({entity:e,page:m,slug:o,sort:R}))}),[u,e,m,o,R]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{children:"Summary"}),Object(s.jsx)("pre",{children:JSON.stringify(k,null,2)}),Object(s.jsx)("h1",{children:"Stats"}),Object(s.jsx)("pre",{children:JSON.stringify(w,null,2)}),Object(s.jsx)("h1",{children:"Comments"}),S&&Object(s.jsx)("div",{children:"Loading..."}),Object(s.jsx)(Mt,{onChange:C,value:R}),Object(s.jsx)(Dt,{disabled:S,hasNextPage:d,hasPreviousPage:p,onFirstPage:f,onLastPage:O,onNextPage:v,onPreviousPage:g,page:m,pagesTotal:h}),Object(s.jsx)(Nt,{onSubmit:function(t){var n=t.reset,r=Object(H.a)(t,["reset"]);u(kt(Object(M.a)(Object(M.a)({},r),{},{entity:e,slug:o}))).then(n)}}),P.map((function(t){return zt(t)}))]})},ce=n(297),se=n(291),ie=n(299),oe=n(300),ue=n(306),le=n(298),de=Object(k.b)("users/lists/fetch",Object(c.a)(a.a.mark((function t(){var e,n,r,c,s,i=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:_(),n=i.length>1?i[1]:void 0,r=n.rejectWithValue,t.prev=2,t.next=5,yt.a.get("/trakt/users/".concat(e,"/lists"));case 5:return c=t.sent,t.next=8,Promise.all(c.data.map((function(t){return yt.a.get("/trakt/users/".concat(e,"/lists/").concat(t.ids.slug,"/items"))})));case 8:return s=t.sent,t.abrupt("return",c.data.map((function(t,e){return Object(M.a)(Object(M.a)({},t),{},{items:s[e].data})})));case 12:return t.prev=12,t.t0=t.catch(2),t.abrupt("return",r(t.t0.toString()));case 15:case"end":return t.stop()}}),t,null,[[2,12]])})))),je=Object(k.b)("users/lists/add",function(){var t=Object(c.a)(a.a.mark((function t(e,n){var r,c;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,yt.a.post("/trakt/users/".concat(_(),"/lists"),e);case 4:return c=t.sent,t.abrupt("return",c.data);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",r(t.t0.toString()));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),be=Object(k.b)("users/lists/remove",function(){var t=Object(c.a)(a.a.mark((function t(e,n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,yt.a.delete("/trakt/users/".concat(_(),"/lists/").concat(e));case 4:t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(1),t.abrupt("return",r(t.t0.toString()));case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n){return t.apply(this,arguments)}}()),pe=Object(k.c)({extraReducers:(re={},Object(gt.a)(re,je.fulfilled,(function(t,e){t.push(e.payload)})),Object(gt.a)(re,de.fulfilled,(function(t,e){return e.payload})),Object(gt.a)(re,be.fulfilled,(function(t,e){var n=e.meta.arg,r=t.findIndex((function(t){return t.ids.slug===n}));t.splice(r,1)})),re),initialState:[],name:"users/lists",reducers:{}}).reducer,me=Object(k.b)("users/list/fetch",function(){var t=Object(c.a)(a.a.mark((function t(e,n){var r,c,s,i,o,u,l,d;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.id,c=e.userSlug,s=void 0===c?_():c,i=n.rejectWithValue,t.prev=2,t.next=5,Promise.all([yt.a.get("/trakt/users/".concat(s,"/lists/").concat(r)),yt.a.get("/trakt/users/".concat(s,"/lists/").concat(r,"/items"))]);case 5:return o=t.sent,u=Object(x.a)(o,2),l=u[0],d=u[1],t.abrupt("return",Object(M.a)(Object(M.a)({},l.data),{},{items:d.data}));case 12:return t.prev=12,t.t0=t.catch(2),t.abrupt("return",i(t.t0.toString()));case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e,n){return t.apply(this,arguments)}}()),he=Object(k.b)("users/list/remove",function(){var t=Object(c.a)(a.a.mark((function t(e,n){var r,c,s,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.entity,c=e.listSlug,s=e.slug,i=n.rejectWithValue,t.prev=2,t.next=5,yt.a.post("/trakt/users/".concat(_(),"/lists/").concat(c,"/items/remove"),Object(gt.a)({},r,[{ids:{slug:s}}]));case 5:t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(2),t.abrupt("return",i(t.t0.toString()));case 10:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e,n){return t.apply(this,arguments)}}()),fe=Object(k.b)("users/list/add",function(){var t=Object(c.a)(a.a.mark((function t(e,n){var r,c,s,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.entity,c=e.listSlug,s=e.slug,i=n.rejectWithValue,t.prev=2,t.next=5,yt.a.post("/trakt/users/".concat(_(),"/lists/").concat(c,"/items"),Object(gt.a)({},r,[{ids:{slug:s}}]));case 5:t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(2),t.abrupt("return",i(t.t0.toString()));case 10:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e,n){return t.apply(this,arguments)}}());function Oe(t){return function(){var e=Object(c.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(fe(t));case 2:return e.next=4,n(de());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function ve(t){return function(){var e=Object(c.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(he(t));case 2:return e.next=4,n(de());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var ge=Object(k.c)({extraReducers:Object(gt.a)({},me.fulfilled,(function(t,e){return e.payload})),initialState:{items:[]},name:"list",reducers:{}}).reducer,xe=Object(y.a)((function(t){return t.users.lists}),(function(t){return t}));function ye(){return Object(y.a)((function(t){return t.users.lists}),(function(t,e){return e}),(function(t,e,n){return n}),(function(t,e,n){return e=J(e),t.map((function(t){return{listed:t.items.some((function(t){return t.type===e&&t[e].ids.slug===n})),name:t.name,slug:t.ids.slug}}))}))}var we=Object(F.a)({listItemActionRoot:{minWidth:32}});var ke=function(t){var e=t.entity,n=t.size,r=void 0===n?"default":n,a=t.slug,c=we(),o=Object(j.b)(),u=Object(i.useMemo)(ye,[]),l=Object(i.useMemo)(Ot,[]),d=Object(j.c)((function(t){return l(t,["users/lists/fetch","users/list/add","users/list/remove"])})),b=Object(j.c)((function(t){return u(t,e,a)})),p=Object(i.useState)(null),m=Object(x.a)(p,2),h=m[0],f=m[1],O=Boolean(h),v=Object(i.useMemo)((function(){return b.filter((function(t){var e=t.listed;return Boolean(e)})).length}),[b]);function y(t){f(t.currentTarget)}function w(t,e,n){return function(){var r=Oe;e&&(r=ve),o(r({entity:t,listSlug:n,slug:a}))}}var k=Object(s.jsx)(ce.a,{color:"secondary",disabled:d,fullWidth:!0,onClick:y,startIcon:Object(s.jsx)(le.a,{}),variant:v?"contained":"outlined",children:v?"Listed on ".concat(v," lists"):"Add to your lists"});return"small"===r&&(k=Object(s.jsx)(Tt.a,{title:v?"Listed on ".concat(v," lists"):"Add to your lists",children:Object(s.jsx)(ot.a,{color:v?"secondary":"inherit",onClick:y,size:"small",children:Object(s.jsx)(le.a,{fontSize:"small"})})})),Object(s.jsxs)(s.Fragment,{children:[k,Object(s.jsxs)(se.a,{anchorEl:h,anchorOrigin:{horizontal:"center",vertical:"bottom"},onClose:function(){f(null)},open:O,transformOrigin:{horizontal:"center",vertical:"top"},children:[d&&Object(s.jsx)(ct.a,{color:"secondary"}),Object(s.jsx)(g.a,{dense:!0,subheader:Object(s.jsxs)(ie.a,{children:["Listed on ",v," of ",b.length," lists"]}),children:b.map((function(t){var n=t.listed,r=t.name,a=t.slug;return Object(s.jsxs)(T.a,{button:!0,disabled:d,onClick:w(e,n,a),children:[Object(s.jsx)(oe.a,{classes:{root:c.listItemActionRoot},children:Object(s.jsx)(ue.a,{checked:n,disableRipple:!0,edge:"start",size:"small"})}),Object(s.jsx)(V.a,{children:r})]},a)}))})]})]})},Pe=n(301),Se=n(311),Ie=Object(y.a)((function(t){return t.users.ratings}),(function(t){return t}));function Ne(){return Object(y.a)([function(t){return t.users.ratings},function(t,e){return J(e)},function(t,e,n){return n}],(function(t,e,n){var r=t.find((function(t){return t.type===e&&t[e].ids.slug===n}));return r?r.rating:0}))}var Re=Object(k.b)("users/ratings/fetch",Object(c.a)(a.a.mark((function t(){var e,n,r,c,s=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:_(),n=s.length>1?s[1]:void 0,r=n.rejectWithValue,t.prev=2,t.next=5,yt.a.get("/trakt/users/".concat(e,"/ratings"));case 5:return c=t.sent,t.abrupt("return",c.data);case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",r(t.t0.toString()));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))),Ce=Object(k.b)("users/ratings/rate",function(){var t=Object(c.a)(a.a.mark((function t(e,n){var r,c,s,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.entity,c=e.rating,s=e.slug,i=n.rejectWithValue,t.prev=2,t.next=5,yt.a.post("/trakt/sync/ratings",Object(gt.a)({},r,[{ids:{slug:s},rating:c}]));case 5:t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(2),t.abrupt("return",i(t.t0.toString()));case 10:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e,n){return t.apply(this,arguments)}}()),ze=Object(k.b)("users/ratings/remove",function(){var t=Object(c.a)(a.a.mark((function t(e,n){var r,c,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.entity,c=e.slug,s=n.rejectWithValue,t.prev=2,t.next=5,yt.a.post("/trakt/sync/ratings/remove",Object(gt.a)({},r,[{ids:{slug:c}}]));case 5:t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(2),t.abrupt("return",s(t.t0.toString()));case 10:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e,n){return t.apply(this,arguments)}}());var We=Object(k.c)({extraReducers:Object(gt.a)({},Re.fulfilled,(function(t,e){return e.payload})),initialState:[],name:"users/ratings",reducers:{}}).reducer,Fe=Object(F.a)((function(t){return{buttonRoot:{minWidth:154},popoverPaper:{padding:t.spacing(1),paddingBottom:t.spacing(.25)},ratingRoot:{color:t.palette.secondary.main}}}));function Le(t){switch(t){case-1:return"Unrate";case 1:return"1 - Weak sauce";case 2:return"2 - Terrible";case 3:return"3 - Bad";case 4:return"4 - Poor";case 5:return"5 - Meh";case 6:return"6 - Fair";case 7:return"7 - Good";case 8:return"8 - Great";case 9:return"9 - Superb";case 10:return"10 - Excellent!";default:return"Rate"}}var Me=function(t){var e=t.entity,n=t.slug,r=Fe(),o=Object(j.b)(),u=Object(i.useMemo)(Ne,[]),l=Object(i.useMemo)(Ot,[]),d=Object(j.c)((function(t){return u(t,e,n)})),b=Object(j.c)((function(t){return l(t,["users/ratings/fetch","users/ratings/rate","users/ratings/remove"])})),p=Object(i.useState)(null),m=Object(x.a)(p,2),h=m[0],f=m[1],O=Boolean(h),v=Object(i.useState)(null),g=Object(x.a)(v,2),y=g[0],w=g[1],k=null!==y;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(ce.a,{classes:{root:r.buttonRoot},color:"secondary",fullWidth:!0,onClick:function(t){f(t.currentTarget)},startIcon:Object(s.jsx)(Pe.a,{}),variant:d?"contained":"outlined",children:Le(k?y:d)}),Object(s.jsx)(se.a,{anchorEl:h,anchorOrigin:{horizontal:"center",vertical:"bottom"},classes:{paper:r.popoverPaper},onClose:function(){w(null),f(null)},open:O,transformOrigin:{horizontal:"center",vertical:"top"},children:Object(s.jsx)(Se.a,{classes:{root:r.ratingRoot},disabled:b,icon:Object(s.jsx)(Pe.a,{fontSize:"inherit"}),max:10,name:"_",onChange:function(t,r){var s;o(r?function(t){return function(){var e=Object(c.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(Ce(t));case 2:return e.next=4,n(Re());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}({entity:e,rating:r,slug:n}):(s={entity:e,slug:n},function(){var t=Object(c.a)(a.a.mark((function t(e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(ze(s));case 2:return t.next=4,e(Re());case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))},onChangeActive:function(t,e){w(e!==d?-1!==e?e:null:-1)},value:d})})]})},Te=Object(y.a)((function(t){return t.users.recommendations}),(function(t){return t}));function Ve(){return Object(y.a)([function(t){return t.users.recommendations},function(t,e){return J(e)},function(t,e,n){return n}],(function(t,e,n){var r=t.find((function(t){return t.type===e&&t[e].ids.slug===n}));return Boolean(r)}))}var Ee=Object(k.b)("users/recommendations/fetch",Object(c.a)(a.a.mark((function t(){var e,n,r,c,s=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:_(),n=s.length>1?s[1]:void 0,r=n.rejectWithValue,t.prev=2,t.next=5,yt.a.get("/trakt/users/".concat(e,"/recommendations"));case 5:return c=t.sent,t.abrupt("return",c.data);case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",r(t.t0.toString()));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))),Ae=Object(k.b)("users/recommendations/recommend",function(){var t=Object(c.a)(a.a.mark((function t(e,n){var r,c,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.entity,c=e.slug,s=n.rejectWithValue,t.prev=2,t.next=5,yt.a.post("/trakt/sync/recommendations",Object(gt.a)({},r,[{ids:{slug:c}}]));case 5:t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(2),t.abrupt("return",s(t.t0.toString()));case 10:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e,n){return t.apply(this,arguments)}}()),Be=Object(k.b)("users/recommendations/unrecommend",function(){var t=Object(c.a)(a.a.mark((function t(e,n){var r,c,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.entity,c=e.slug,s=n.rejectWithValue,t.prev=2,t.next=5,yt.a.post("/trakt/sync/recommendations/remove",Object(gt.a)({},r,[{ids:{slug:c}}]));case 5:t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(2),t.abrupt("return",s(t.t0.toString()));case 10:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e,n){return t.apply(this,arguments)}}());var _e=Object(k.c)({extraReducers:Object(gt.a)({},Ee.fulfilled,(function(t,e){return e.payload})),initialState:[],name:"users/recommendations",reducers:{}}).reducer;var De=function(t){var e=t.entity,n=t.size,r=void 0===n?"default":n,o=t.slug,u=Object(j.b)(),l=Object(i.useMemo)(Ve,[]),d=Object(i.useMemo)(Ot,[]),b=Object(j.c)((function(t){return l(t,e,o)})),p=Object(j.c)((function(t){return d(t,["users/recommendations/fetch","users/recommendations/recommend","users/recommendations/unrecommend"])}));function m(){var t;b?u((t={entity:e,slug:o},function(){var e=Object(c.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(Be(t));case 2:return e.next=4,n(Ee());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):u(function(t){return function(){var e=Object(c.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(Ae(t));case 2:return e.next=4,n(Ee());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}({entity:e,slug:o}))}return"small"===r?Object(s.jsx)(Tt.a,{title:b?"Remove from recommendations":"Recommend",children:Object(s.jsx)("span",{children:Object(s.jsx)(ot.a,{color:b?"secondary":"inherit",disabled:p,onClick:m,size:"small",children:p?Object(s.jsx)(tt.a,{color:"secondary",size:20}):Object(s.jsx)(Pe.a,{fontSize:"small"})})})}):Object(s.jsx)(ce.a,{color:"secondary",disabled:p,fullWidth:!0,onClick:m,startIcon:Object(s.jsx)(Pe.a,{}),variant:b?"contained":"outlined",children:b?"Remove from recommendations":"Recommend"})},Je=n(302),qe=Object(y.a)((function(t){return t.users.watchlist}),(function(t){return t}));function Ge(){return Object(y.a)([function(t){return t.users.watchlist},function(t,e){return J(e)},function(t,e,n){return n}],(function(t,e,n){var r=t.find((function(t){return t.type===e&&t[e].ids.slug===n}));return Boolean(r)}))}var He=Object(k.b)("users/watchlist/fetch",Object(c.a)(a.a.mark((function t(){var e,n,r,c,s=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:_(),n=s.length>1?s[1]:void 0,r=n.rejectWithValue,t.prev=2,t.next=5,yt.a.get("/trakt/users/".concat(e,"/watchlist"));case 5:return c=t.sent,t.abrupt("return",c.data);case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",r(t.t0.toString()));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))),Ue=Object(k.b)("users/watchlist/add",function(){var t=Object(c.a)(a.a.mark((function t(e,n){var r,c,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.entity,c=e.slug,s=n.rejectWithValue,t.prev=2,t.next=5,yt.a.post("/trakt/sync/watchlist",Object(gt.a)({},r,[{ids:{slug:c}}]));case 5:t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(2),t.abrupt("return",s(t.t0.toString()));case 10:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e,n){return t.apply(this,arguments)}}()),Ke=Object(k.b)("users/watchlist/remove",function(){var t=Object(c.a)(a.a.mark((function t(e,n){var r,c,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.entity,c=e.slug,s=n.rejectWithValue,t.prev=2,t.next=5,yt.a.post("/trakt/sync/watchlist/remove",Object(gt.a)({},r,[{ids:{slug:c}}]));case 5:t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(2),t.abrupt("return",s(t.t0.toString()));case 10:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e,n){return t.apply(this,arguments)}}());var Qe=Object(k.c)({extraReducers:Object(gt.a)({},He.fulfilled,(function(t,e){return e.payload})),initialState:[],name:"users/watchlist",reducers:{}}).reducer;var Xe=function(t){var e=t.entity,n=t.size,r=void 0===n?"default":n,o=t.slug,u=Object(j.b)(),l=Object(i.useMemo)(Ge,[]),d=Object(i.useMemo)(Ot,[]),b=Object(j.c)((function(t){return l(t,e,o)})),p=Object(j.c)((function(t){return d(t,["users/watchlist/fetch","users/watchlist/add","users/watchlist/remove"])}));function m(){var t;b?u((t={entity:e,slug:o},function(){var e=Object(c.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(Ke(t));case 2:return e.next=4,n(He());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):u(function(t){return function(){var e=Object(c.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(Ue(t));case 2:return e.next=4,n(He());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}({entity:e,slug:o}))}return"small"===r?Object(s.jsx)(Tt.a,{title:b?"Remove from watchlist":"Add to watchlist",children:Object(s.jsx)("span",{children:Object(s.jsx)(ot.a,{color:b?"secondary":"inherit",disabled:p,onClick:m,size:"small",children:p?Object(s.jsx)(tt.a,{color:"secondary",size:20}):Object(s.jsx)(Je.a,{fontSize:"small"})})})}):Object(s.jsx)(ce.a,{color:"secondary",disabled:p,fullWidth:!0,onClick:m,startIcon:Object(s.jsx)(Je.a,{}),variant:b?"contained":"outlined",children:b?"Remove from watchlist":"Add to watchlist"})};var Ye=function(t){var e=t.entity,n=t.season,r=t.size,a=t.tmdbId,c=t.type;if(e=J(e),!a)return"/images/placeholder.png";var s="/images/".concat(e,"/").concat(a,"/").concat(c,"?");return void 0!==n&&(s+="season=".concat(n)),r&&(s+="size=".concat(r)),s},Ze=Object(F.a)((function(t){return{children:{textAlign:"center"},content:{bottom:t.spacing(1),left:t.spacing(1),position:"absolute"},footer:{"& > *:not(:last-child)":{marginRight:t.spacing(1)},backgroundColor:t.palette.grey[900],height:30,padding:2},link:function(e){var n=e.backgroundImage;return{background:"url(".concat(n,") no-repeat center"),"background-size":"cover",color:t.palette.primary.contrastText,display:"block",paddingTop:"125%",position:"relative",width:"100%"}},root:{}}}));var $e=function(t){var e=t.children,n=t.content,r=t.entity,a=t.season,c=t.size,i=void 0===c?"default":c,o=t.slug,u=t.tmdbId,l="people"===r,d="small"===i,j=Ye({entity:r,season:a,size:l?d?"w185":"h632":d?"w185":"w342",tmdbId:u,type:l?"profile":"poster"}),b=Ze({backgroundImage:j});return Object(s.jsxs)("div",{className:b.root,children:[Object(s.jsx)(p.b,{className:b.link,to:"/app/".concat(r,"/").concat(o),children:n&&Object(s.jsx)("div",{className:b.content,children:n})}),Object(s.jsx)("div",{className:b.children,children:e})]})},tn=Object(F.a)((function(t){return{chips:{"& > *":{margin:"0 ".concat(t.spacing(.5),"px ").concat(t.spacing(.5),"px 0")}},footer:{"& > *:not(:last-child)":{marginRight:t.spacing(1)},backgroundColor:t.palette.grey[900],color:t.palette.common.white,height:30,padding:2,textAlign:"left"}}}));var en=function(t){var e=t.children,n=t.chips,r=void 0===n?[]:n,a=t.entity,c=t.primary,i=t.secondary,o=t.slug,u=Object(H.a)(t,["children","chips","entity","primary","secondary","slug"]),l=tn(),d=Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:l.chips,children:r.map((function(t){return Object(s.jsx)(it.a,{color:"secondary",label:t,size:"small"},t)}))}),Object(s.jsx)(O.a,{display:"inline",variant:"subtitle2",children:c}),i&&Object(s.jsxs)(O.a,{display:"inline",variant:"caption",children:[" ",i]})]});return Object(s.jsxs)($e,Object(M.a)(Object(M.a)({},u),{},{content:d,entity:a,slug:o,children:[Object(s.jsxs)("div",{className:l.footer,children:[Object(s.jsx)(Xe,{entity:a,size:"small",slug:o}),Object(s.jsx)(De,{entity:a,size:"small",slug:o}),Object(s.jsx)(ke,{entity:a,size:"small",slug:o})]}),e]}))},nn=Object(F.a)((function(t){return{buttons:{"& > *:not(last-child)":{marginBottom:t.spacing(1)}},content:{"& > *:not(:last-child)":{marginBottom:t.spacing(2)},marginLeft:342,paddingLeft:t.spacing(2)},facts:{display:"flex",flexWrap:"wrap"},factsItem:{"& > :first-child":{marginRight:t.spacing(1)},marginBottom:t.spacing(1),marginRight:t.spacing(2),whiteSpace:"nowrap"},fixedColumn:{position:"fixed",width:342},root:{padding:t.spacing(2),position:"relative"}}})),rn=[["Overview","#overview"],["Actors","#actors"],["Comments","#comments"],["Related","#related"]];var an=function(){var t,e,n,r,a,c,o,u=nn(),l=Object(j.b)(),d=Object(b.j)().slug,h=Object(j.c)(ee);return Object(i.useEffect)((function(){l(Qt(d))}),[l,d]),Object(s.jsxs)("div",{className:u.root,children:[Object(s.jsxs)("div",{className:u.fixedColumn,children:[Object(s.jsx)($e,{entity:"movies",slug:d,tmdbId:null===(t=h.summary)||void 0===t?void 0:t.ids.tmdb}),Object(s.jsx)(g.a,{children:rn.map((function(t){var e=Object(x.a)(t,2),n=e[0],r=e[1];return Object(s.jsxs)(i.Fragment,{children:[Object(s.jsx)(T.a,{button:!0,component:"a",href:r,children:Object(s.jsx)(V.a,{children:n})}),Object(s.jsx)(v.a,{})]},r)}))}),Object(s.jsxs)("div",{className:u.buttons,children:[Object(s.jsx)(ke,{entity:"movies",slug:d}),Object(s.jsx)(Xe,{entity:"movies",slug:d}),Object(s.jsx)(De,{entity:"movies",slug:d}),Object(s.jsx)(Me,{entity:"movies",slug:d})]})]}),Object(s.jsxs)("div",{className:u.content,children:[Object(s.jsxs)("div",{id:"overview",children:[Object(s.jsxs)(O.a,{display:"inline",variant:"h4",children:[null===(e=h.summary)||void 0===e?void 0:e.title," "]}),Object(s.jsx)(O.a,{color:"textSecondary",display:"inline",variant:"h5",children:null===(n=h.summary)||void 0===n?void 0:n.year})]}),Object(s.jsx)("div",{className:u.facts,children:D(h).map((function(t){var e=Object(x.a)(t,2),n=e[0],r=e[1];return Object(s.jsxs)("span",{className:u.factsItem,children:[Object(s.jsx)(O.a,{color:"textSecondary",display:"inline",variant:"body2",children:n}),Object(s.jsx)(O.a,{display:"inline",variant:"body2",children:r})]},n)}))}),Object(s.jsxs)(O.a,{variant:"body2",children:[Object(s.jsxs)("i",{children:[null===(r=h.summary)||void 0===r?void 0:r.tagline," "]}),null===(a=h.summary)||void 0===a?void 0:a.overview]}),Object(s.jsx)(O.a,{id:"actors",variant:"h5",children:"Actors"}),Object(s.jsx)(m.a,{container:!0,spacing:1,style:{overflow:"auto"},wrap:"nowrap",children:null===(c=h.people)||void 0===c?void 0:c.cast.map((function(t){var e=t.character,n=t.person;return Object(s.jsx)(m.a,{item:!0,style:{flex:"0 0 128px"},children:Object(s.jsxs)($e,{entity:"people",size:"small",slug:n.ids.slug,tmdbId:n.ids.tmdb,children:[Object(s.jsxs)(O.a,{color:"textSecondary",variant:"caption",children:[n.name," "]}),Object(s.jsx)(O.a,{variant:"caption",children:e})]})},n.name)}))}),Object(s.jsxs)(m.a,{alignItems:"center",container:!0,justify:"space-between",children:[Object(s.jsx)(O.a,{id:"comments",variant:"h5",children:"Comments"}),Object(s.jsxs)(ce.a,{color:"secondary",component:p.b,size:"small",to:"comments",variant:"outlined",children:["All ",null===(o=h.stats)||void 0===o?void 0:o.comments," comments"]})]}),h.comments.map(zt),Object(s.jsx)(O.a,{id:"related",variant:"h5",children:"Related"}),Object(s.jsx)(m.a,{container:!0,spacing:1,children:h.related.map((function(t){return Object(s.jsx)(m.a,{item:!0,xs:2,children:Object(s.jsx)(en,{entity:"movies",primary:t.title,secondary:t.year,slug:t.ids.slug,tmdbId:t.ids.tmdb})},t.ids.slug)}))})]})]})},cn=Object(y.a)((function(t){return t.movies.entities}),(function(t){return t})),sn=Object(y.a)((function(t){return t.movies.pagination.total}),(function(t){return t})),on=Object(k.b)("movies/fetch",function(){var t=Object(c.a)(a.a.mark((function t(e,n){var r,c,s,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.category,c=e.page,s=n.rejectWithValue,t.prev=2,t.next=5,yt.a.get("/trakt/movies/".concat(r,"?page=").concat(c,"&limit=").concat(B));case 5:return i=t.sent,"popular"===r&&(i.data=i.data.map((function(t){return{movie:t}}))),t.abrupt("return",{entities:i.data,total:parseInt(i.headers["x-pagination-page-count"])});case 10:return t.prev=10,t.t0=t.catch(2),t.abrupt("return",s(t.t0.toString()));case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,n){return t.apply(this,arguments)}}()),un=Object(k.c)({extraReducers:Object(gt.a)({},on.fulfilled,(function(t,e){t.entities=e.payload.entities,t.pagination.total=e.payload.total})),initialState:{entities:[],pagination:{total:0}},name:"movies",reducers:{}}).reducer;function ln(t){var e=t.category,n=t.movies;switch(e){case"trending":return function(t){return t.map((function(t){var e=t.movie,n=t.watchers,r=void 0===n?0:n,a=[];return r&&a.push("".concat(r," people watching")),Object(s.jsx)(m.a,{item:!0,lg:2,md:3,sm:6,xs:12,children:Object(s.jsx)(en,{chips:a,entity:"movies",primary:e.title,secondary:e.year,slug:e.ids.slug,tmdbId:e.ids.tmdb})},e.ids.trakt)}))}(n);case"popular":return function(t){return t.map((function(t){var e=t.movie;return Object(s.jsx)(m.a,{item:!0,lg:2,md:3,sm:6,xs:12,children:Object(s.jsx)(en,{entity:"movies",primary:e.title,secondary:e.year,slug:e.ids.slug,tmdbId:e.ids.tmdb})},e.ids.trakt)}))}(n);case"recommended":return function(t){return t.map((function(t){var e=t.movie,n=t.user_count,r=void 0===n?0:n,a=[];return r&&a.push("".concat(r," people")),Object(s.jsx)(m.a,{item:!0,lg:2,md:3,sm:6,xs:12,children:Object(s.jsx)(en,{chips:a,entity:"movies",primary:e.title,secondary:e.year,slug:e.ids.slug,tmdbId:e.ids.tmdb})},e.ids.trakt)}))}(n);case"watched":return function(t){return t.map((function(t){var e=t.movie,n=t.play_count,r=void 0===n?0:n,a=t.watcher_count,c=void 0===a?0:a,i=[];return r&&i.push("".concat(r," plays")),c&&i.push("".concat(c," watches")),Object(s.jsx)(m.a,{item:!0,lg:2,md:3,sm:6,xs:12,children:Object(s.jsx)(en,{chips:i,entity:"movies",primary:e.title,secondary:e.year,slug:e.ids.slug,tmdbId:e.ids.tmdb})},e.ids.trakt)}))}(n);case"anticipated":return function(t){return t.map((function(t){var e=t.list_count,n=void 0===e?0:e,r=t.movie,a=[];return n&&a.push("In ".concat(n," lists")),Object(s.jsx)(m.a,{item:!0,lg:2,md:3,sm:6,xs:12,children:Object(s.jsx)(en,{chips:a,entity:"movies",primary:r.title,secondary:r.year,slug:r.ids.slug,tmdbId:r.ids.tmdb})},r.ids.trakt)}))}(n);default:return null}}var dn=function(t){var e=t.category,n=Object(j.b)(),r=Ht(sn),a=r.hasNextPage,c=r.hasPreviousPage,o=r.page,u=r.pagesTotal,l=r.toFirstPage,d=r.toLastPage,b=r.toNextPage,p=r.toPreviousPage,h=Object(j.c)(cn);return Object(i.useEffect)((function(){n(on({category:e,page:o}))}),[e,n,o]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(m.a,{container:!0,children:ln({category:e,movies:h})}),Object(s.jsx)(Dt,{hasNextPage:a,hasPreviousPage:c,onFirstPage:l,onLastPage:d,onNextPage:b,onPreviousPage:p,page:o,pagesTotal:u})]})},jn=Object(y.a)((function(t){return t.person}),(function(t){return t})),bn=Object(k.b)("person/fetch",function(){var t=Object(c.a)(a.a.mark((function t(e,n){var r,c,s,i,o,u;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,Promise.all([yt.a.get("/trakt/people/".concat(e,"?extended=full")),yt.a.get("/trakt/people/".concat(e,"/movies")),yt.a.get("/trakt/people/".concat(e,"/shows"))]);case 4:return c=t.sent,s=Object(x.a)(c,3),i=s[0],o=s[1],u=s[2],t.abrupt("return",{movies:o.data,shows:u.data,summary:i.data});case 12:return t.prev=12,t.t0=t.catch(1),t.abrupt("return",r(t.t0.toString()));case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e,n){return t.apply(this,arguments)}}()),pn=Object(k.c)({extraReducers:Object(gt.a)({},bn.fulfilled,(function(t,e){return e.payload})),initialState:{movies:[],shows:[],summary:null},name:"person",reducers:{}}).reducer,mn=Object(F.a)((function(t){return{buttons:{"& > *:not(last-child)":{marginBottom:t.spacing(1)}},content:{"& > *:not(:last-child)":{marginBottom:t.spacing(2)},marginLeft:342,paddingLeft:t.spacing(2)},facts:{display:"flex",flexWrap:"wrap"},factsItem:{"& > :first-child":{marginRight:t.spacing(1)},marginBottom:t.spacing(1),marginRight:t.spacing(2),whiteSpace:"nowrap"},fixedColumn:{position:"fixed",width:342},root:{padding:t.spacing(2),position:"relative"}}})),hn=[["Overview","#overview"],["Movies","#movies"],["Shows","#shows"]];function fn(t){if(!t)return[];var e=t.summary;return[["Birthplace",null===e||void 0===e?void 0:e.birthplace],["Birthday",new Date(null===e||void 0===e?void 0:e.birthday).toLocaleDateString("da-Dk")]]}var On=function(){var t,e,n,r,a,c,o,u=mn(),l=Object(j.b)(),d=Object(b.j)().slug,p=Object(j.c)(jn);return Object(i.useEffect)((function(){l(bn(d))}),[l,d]),Object(s.jsxs)("div",{className:u.root,children:[Object(s.jsxs)("div",{className:u.fixedColumn,children:[Object(s.jsx)($e,{entity:"people",size:"small",slug:d,tmdbId:null===(t=p.summary)||void 0===t?void 0:t.ids.tmdb}),Object(s.jsx)(g.a,{children:hn.map((function(t){var e=Object(x.a)(t,2),n=e[0],r=e[1];return Object(s.jsxs)(i.Fragment,{children:[Object(s.jsx)(T.a,{button:!0,component:"a",href:r,children:Object(s.jsx)(V.a,{children:n})}),Object(s.jsx)(v.a,{})]},r)}))}),Object(s.jsx)("div",{className:u.buttons,children:Object(s.jsx)(ke,{entity:"people",slug:d})})]}),Object(s.jsxs)("div",{className:u.content,children:[Object(s.jsx)("div",{id:"overview",children:Object(s.jsx)(O.a,{display:"inline",variant:"h4",children:null===(e=p.summary)||void 0===e?void 0:e.name})}),Object(s.jsx)("div",{className:u.facts,children:fn(p).map((function(t){var e=Object(x.a)(t,2),n=e[0],r=e[1];return Object(s.jsxs)("span",{className:u.factsItem,children:[Object(s.jsx)(O.a,{color:"textSecondary",display:"inline",variant:"body2",children:n}),Object(s.jsx)(O.a,{display:"inline",variant:"body2",children:r})]},n)}))}),Object(s.jsx)(O.a,{variant:"body2",children:null===(n=p.summary)||void 0===n?void 0:n.biography}),Object(s.jsx)(O.a,{id:"movies",variant:"h5",children:"Movies"}),Object(s.jsx)(m.a,{container:!0,spacing:1,children:null===(r=p.movies)||void 0===r||null===(a=r.cast)||void 0===a?void 0:a.map((function(t){var e=t.character,n=t.movie;return Object(s.jsx)(m.a,{item:!0,xs:2,children:Object(s.jsx)(en,{entity:"movies",primary:n.title,secondary:n.year,slug:n.ids.slug,tmdbId:n.ids.tmdb,children:Object(s.jsx)(O.a,{variant:"caption",children:e})})},n.ids.slug)}))}),Object(s.jsx)(O.a,{id:"shows",variant:"h5",children:"Shows"}),Object(s.jsx)(m.a,{container:!0,spacing:1,children:null===(c=p.shows)||void 0===c||null===(o=c.cast)||void 0===o?void 0:o.map((function(t){var e=t.character,n=t.show;return Object(s.jsx)(m.a,{item:!0,xs:2,children:Object(s.jsx)(en,{entity:"shows",primary:n.title,secondary:n.year,slug:n.ids.slug,tmdbId:n.ids.tmdb,children:Object(s.jsx)(O.a,{variant:"caption",children:e})})},n.ids.slug)}))})]})]})},vn=Object(y.a)((function(t){return t.search.entities}),(function(t){return t})),gn=Object(y.a)((function(t){return t.search.pagination.total}),(function(t){return t})),xn=Object(k.b)("search/fetch",function(){var t=Object(c.a)(a.a.mark((function t(e,n){var r,c,s,i,o;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.entity,c=e.page,s=e.query,i=n.rejectWithValue,t.prev=2,r=J(r),t.next=6,yt.a.get("/trakt/search/".concat(r,"?query=").concat(s,"&page=").concat(c,"&limit=").concat(B));case 6:return o=t.sent,t.abrupt("return",{entities:o.data,total:parseInt(o.headers["x-pagination-page-count"])});case 10:return t.prev=10,t.t0=t.catch(2),t.abrupt("return",i(t.t0.toString()));case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,n){return t.apply(this,arguments)}}()),yn=Object(k.c)({extraReducers:Object(gt.a)({},xn.fulfilled,(function(t,e){t.entities=e.payload.entities,t.pagination.total=e.payload.total})),initialState:{entities:[],pagination:{total:0}},name:"search",reducers:{}}).reducer;var wn=function(t){var e=t.entity,n=Object(j.b)(),r=Ht(gn),a=r.hasNextPage,c=r.hasPreviousPage,o=r.page,u=r.toFirstPage,l=r.toLastPage,d=r.toNextPage,b=r.toPreviousPage,m=Object(p.d)(),h=Object(x.a)(m,2),f=h[0],O=h[1],v=Object(i.useMemo)((function(){return Object.fromEntries(f)}),[f]).query,g=void 0===v?"":v,y=Object(j.c)((function(t){return ft(t,"search/fetch")})),w=Object(j.c)(vn);return Object(i.useEffect)((function(){n(xn({entity:e,page:o,query:g}))}),[n,e,o,g]),Object(s.jsxs)(s.Fragment,{children:[y&&Object(s.jsx)("div",{children:"Loading..."}),Object(s.jsx)(Dt,{disabled:y,hasNextPage:a,hasPreviousPage:c,onFirstPage:u,onLastPage:l,onNextPage:d,onPreviousPage:b}),Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{htmlFor:"query",children:"Input your query:"}),Object(s.jsx)("input",{id:"query",onChange:function(t){var e=t.target.value;O({query:e})},type:"text",value:g})]}),Object(s.jsx)("pre",{children:JSON.stringify(w,null,2)})]})},kn=Object(F.a)((function(t){return{buttons:{"& > *:not(last-child)":{marginBottom:t.spacing(1)}},content:{"& > *:not(:last-child)":{marginBottom:t.spacing(2)},marginLeft:342,paddingLeft:t.spacing(2)},facts:{display:"flex",flexWrap:"wrap"},factsItem:{"& > :first-child":{marginRight:t.spacing(1)},marginBottom:t.spacing(1),marginRight:t.spacing(2),whiteSpace:"nowrap"},fixedColumn:{position:"fixed",width:342},root:{padding:t.spacing(2),position:"relative"}}})),Pn=[["Overview","#overview"],["Actors","#actors"],["Seasons","#seasons"],["Comments","#comments"],["Related","#related"]];var Sn=function(){var t,e,n,r,a,c,o,u=kn(),l=Object(j.b)(),d=Object(b.j)().slug,h=Object(j.c)(ne);return Object(i.useEffect)((function(){l(Yt(d))}),[l,d]),Object(s.jsxs)("div",{className:u.root,children:[Object(s.jsxs)("div",{className:u.fixedColumn,children:[Object(s.jsx)($e,{entity:"shows",slug:d,tmdbId:null===(t=h.summary)||void 0===t?void 0:t.ids.tmdb}),Object(s.jsx)(g.a,{children:Pn.map((function(t){var e=Object(x.a)(t,2),n=e[0],r=e[1];return Object(s.jsxs)(i.Fragment,{children:[Object(s.jsx)(T.a,{button:!0,component:"a",href:r,children:Object(s.jsx)(V.a,{children:n})}),Object(s.jsx)(v.a,{})]},r)}))}),Object(s.jsxs)("div",{className:u.buttons,children:[Object(s.jsx)(ke,{entity:"shows",slug:d}),Object(s.jsx)(Xe,{entity:"shows",slug:d}),Object(s.jsx)(De,{entity:"shows",slug:d}),Object(s.jsx)(Me,{entity:"shows",slug:d})]})]}),Object(s.jsxs)("div",{className:u.content,children:[Object(s.jsxs)("div",{id:"overview",children:[Object(s.jsxs)(O.a,{display:"inline",variant:"h4",children:[null===(e=h.summary)||void 0===e?void 0:e.title," "]}),Object(s.jsx)(O.a,{color:"textSecondary",display:"inline",variant:"h5",children:null===(n=h.summary)||void 0===n?void 0:n.year})]}),Object(s.jsx)("div",{className:u.facts,children:D(h).map((function(t){var e=Object(x.a)(t,2),n=e[0],r=e[1];return Object(s.jsxs)("span",{className:u.factsItem,children:[Object(s.jsx)(O.a,{color:"textSecondary",display:"inline",variant:"body2",children:n}),Object(s.jsx)(O.a,{display:"inline",variant:"body2",children:r})]},n)}))}),Object(s.jsxs)(O.a,{variant:"body2",children:[Object(s.jsxs)("i",{children:[null===(r=h.summary)||void 0===r?void 0:r.tagline," "]}),null===(a=h.summary)||void 0===a?void 0:a.overview]}),Object(s.jsx)(O.a,{id:"actors",variant:"h5",children:"Actors"}),Object(s.jsx)(m.a,{container:!0,spacing:1,style:{overflow:"auto"},wrap:"nowrap",children:null===(c=h.people)||void 0===c?void 0:c.cast.map((function(t){var e=t.character,n=t.person;return Object(s.jsx)(m.a,{item:!0,style:{flex:"0 0 128px"},children:Object(s.jsxs)($e,{entity:"people",size:"small",slug:n.ids.slug,tmdbId:n.ids.tmdb,children:[Object(s.jsxs)(O.a,{color:"textSecondary",variant:"caption",children:[n.name," "]}),Object(s.jsx)(O.a,{variant:"caption",children:e})]})},n.name)}))}),Object(s.jsx)(O.a,{id:"seasons",variant:"h5",children:"Seasons"}),Object(s.jsx)(m.a,{container:!0,spacing:1,children:h.seasons.map((function(t){var e,n;return Object(s.jsx)(m.a,{item:!0,xs:2,children:Object(s.jsxs)($e,{entity:"shows",season:t.number,slug:null===(e=h.summary)||void 0===e?void 0:e.ids.slug,tmdbId:null===(n=h.summary)||void 0===n?void 0:n.ids.tmdb,children:[Object(s.jsxs)(O.a,{variant:"body2",children:[0===t.number?"Specials":"Season ".concat(t.number)," "]}),Object(s.jsxs)(O.a,{color:"textSecondary",variant:"caption",children:[t.episodes.length," episodes"]})]})},t.number)}))}),Object(s.jsxs)(m.a,{alignItems:"center",container:!0,justify:"space-between",children:[Object(s.jsx)(O.a,{id:"comments",variant:"h5",children:"Comments"}),Object(s.jsxs)(ce.a,{color:"secondary",component:p.b,size:"small",to:"comments",variant:"outlined",children:["All ",null===(o=h.stats)||void 0===o?void 0:o.comments," comments"]})]}),h.comments.map(zt),Object(s.jsx)(O.a,{id:"related",variant:"h5",children:"Related"}),Object(s.jsx)(m.a,{container:!0,spacing:1,children:h.related.map((function(t){return Object(s.jsx)(m.a,{item:!0,xs:2,children:Object(s.jsx)(en,{entity:"shows",primary:t.title,secondary:t.year,slug:t.ids.slug,tmdbId:t.ids.tmdb})},t.ids.slug)}))})]})]})},In=Object(y.a)((function(t){return t.shows.entities}),(function(t){return t})),Nn=Object(y.a)((function(t){return t.shows.pagination.total}),(function(t){return t})),Rn=Object(k.b)("shows/fetch",function(){var t=Object(c.a)(a.a.mark((function t(e,n){var r,c,s,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.category,c=e.page,s=n.rejectWithValue,t.prev=2,t.next=5,yt.a.get("/trakt/shows/".concat(r,"?page=").concat(c,"&limit=").concat(B));case 5:return i=t.sent,"popular"===r&&(i.data=i.data.map((function(t){return{show:t}}))),t.abrupt("return",{entities:i.data,total:parseInt(i.headers["x-pagination-page-count"])});case 10:return t.prev=10,t.t0=t.catch(2),t.abrupt("return",s(t.t0.toString()));case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,n){return t.apply(this,arguments)}}()),Cn=Object(k.c)({extraReducers:Object(gt.a)({},Rn.fulfilled,(function(t,e){t.entities=e.payload.entities,t.pagination.total=e.payload.total})),initialState:{entities:[],pagination:{total:0}},name:"shows",reducers:{}}).reducer;function zn(t){var e=t.category,n=t.shows;switch(e){case"trending":return function(t){return t.map((function(t){var e=t.show,n=t.watchers,r=void 0===n?0:n,a=[];return r&&a.push("".concat(r," people watching")),Object(s.jsx)(m.a,{item:!0,lg:2,md:3,sm:6,xs:12,children:Object(s.jsx)(en,{chips:a,entity:"shows",primary:e.title,secondary:e.year,slug:e.ids.slug,tmdbId:e.ids.tmdb})},e.ids.trakt)}))}(n);case"popular":return function(t){return t.map((function(t){var e=t.show;return Object(s.jsx)(m.a,{item:!0,lg:2,md:3,sm:6,xs:12,children:Object(s.jsx)(en,{entity:"shows",primary:e.title,secondary:e.year,slug:e.ids.slug,tmdbId:e.ids.tmdb})},e.ids.trakt)}))}(n);case"recommended":return function(t){return t.map((function(t){var e=t.show,n=t.user_count,r=void 0===n?0:n,a=[];return r&&a.push("".concat(r," people")),Object(s.jsx)(m.a,{item:!0,lg:2,md:3,sm:6,xs:12,children:Object(s.jsx)(en,{chips:a,entity:"shows",primary:e.title,secondary:e.year,slug:e.ids.slug,tmdbId:e.ids.tmdb})},e.ids.trakt)}))}(n);case"watched":return function(t){return t.map((function(t){var e=t.play_count,n=void 0===e?0:e,r=t.show,a=t.watcher_count,c=void 0===a?0:a,i=[];return n&&i.push("".concat(n," plays")),c&&i.push("".concat(c," watches")),Object(s.jsx)(m.a,{item:!0,lg:2,md:3,sm:6,xs:12,children:Object(s.jsx)(en,{chips:i,entity:"shows",primary:r.title,secondary:r.year,slug:r.ids.slug,tmdbId:r.ids.tmdb})},r.ids.trakt)}))}(n);case"anticipated":return function(t){return t.map((function(t){var e=t.list_count,n=void 0===e?0:e,r=t.show,a=[];return n&&a.push("In ".concat(n," lists")),Object(s.jsx)(m.a,{item:!0,lg:2,md:3,sm:6,xs:12,children:Object(s.jsx)(en,{chips:a,entity:"shows",primary:r.title,secondary:r.year,slug:r.ids.slug,tmdbId:r.ids.tmdb})},r.ids.trakt)}))}(n);default:return null}}var Wn=function(t){var e=t.category,n=Object(j.b)(),r=Ht(Nn),a=r.hasNextPage,c=r.hasPreviousPage,o=r.page,u=r.pagesTotal,l=r.toFirstPage,d=r.toLastPage,b=r.toNextPage,p=r.toPreviousPage,h=Object(j.c)(In);return Object(i.useEffect)((function(){n(Rn({category:e,page:o}))}),[e,n,o]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(m.a,{container:!0,children:zn({category:e,shows:h})}),Object(s.jsx)(Dt,{hasNextPage:a,hasPreviousPage:c,onFirstPage:l,onLastPage:d,onNextPage:b,onPreviousPage:p,page:o,pagesTotal:u})]})},Fn=Object(y.a)((function(t){return t.users.comments.entities}),(function(t){return t})),Ln=Object(y.a)((function(t){return t.users.comments.pagination.total}),(function(t){return t}));var Mn=function(){var t=Object(b.j)().userSlug,e=Object(j.b)(),n=Ht(Ln),r=n.hasNextPage,a=n.hasPreviousPage,c=n.page,o=n.pagesTotal,u=n.toFirstPage,l=n.toLastPage,d=n.toNextPage,p=n.toPreviousPage,m=Object(j.c)((function(t){return ft(t,"users/comments/fetch")})),h=Object(j.c)(Fn);return Object(i.useEffect)((function(){e(wt({page:c,userSlug:t}))}),[e,c,t]),Object(s.jsxs)(s.Fragment,{children:[m&&Object(s.jsx)("div",{children:"Loading..."}),Object(s.jsx)(Dt,{disabled:m,hasNextPage:r,hasPreviousPage:a,onFirstPage:u,onLastPage:l,onNextPage:d,onPreviousPage:p,page:c,pagesTotal:o}),h.map((function(t){var e=t.comment;t.type;return zt(e)}))]})},Tn=Object(y.a)((function(t){return t.users.list}),(function(t){return t}));var Vn=function(){var t=Object(b.j)(),e=t.id,n=t.userSlug,r=Object(j.b)(),a=Object(j.c)((function(t){return ft(t,"list/fetch")})),c=Object(j.c)(Tn);return Object(i.useEffect)((function(){r(me({id:e,userSlug:n}))}),[r,e,n]),Object(s.jsxs)(s.Fragment,{children:[a&&Object(s.jsx)("div",{children:"Loading..."}),Object(s.jsx)("pre",{children:JSON.stringify(c,null,2)})]})};var En=function(){var t=Object(b.j)().userSlug,e=Object(j.b)(),n=Object(j.c)((function(t){return ft(t,"users/lists/fetch")})),r=Object(j.c)(xe),a=t===_();return Object(i.useEffect)((function(){e(de(t))}),[e,t]),Object(s.jsxs)(s.Fragment,{children:[n&&Object(s.jsx)("div",{children:"Loading..."}),a&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("button",{onClick:function(){e(je({allowComments:!1,description:"This is my list",name:"My list"}))},type:"button",children:"Add list"}),Object(s.jsx)("button",{onClick:function(){e(be("my-list"))},type:"button",children:"Remove list"})]}),Object(s.jsx)("pre",{children:JSON.stringify(r,null,2)})]})};var An=function(){var t=Object(b.j)().userSlug,e=Object(j.b)(),n=Object(j.c)((function(t){return ft(t,"users/ratings/fetch")})),r=Object(j.c)(Ie);return Object(i.useEffect)((function(){e(Re(t))}),[e,t]),Object(s.jsxs)(s.Fragment,{children:[n&&Object(s.jsx)("div",{children:"Loading..."}),Object(s.jsx)("pre",{children:JSON.stringify(r,null,2)})]})};var Bn=function(){var t=Object(b.j)().userSlug,e=Object(j.b)(),n=Object(j.c)((function(t){return ft(t,"users/recommendations/fetch")})),r=Object(j.c)(Te);return Object(i.useEffect)((function(){e(Ee(t))}),[e,t]),Object(s.jsxs)(s.Fragment,{children:[n&&Object(s.jsx)("div",{children:"Loading..."}),Object(s.jsx)("pre",{children:JSON.stringify(r,null,2)})]})};var _n=function(){var t=Object(b.j)().userSlug,e=Object(j.b)(),n=Object(j.c)((function(t){return ft(t,"users/watchlist/fetch")})),r=Object(j.c)(qe);return Object(i.useEffect)((function(){e(He(t))}),[e,t]),Object(s.jsxs)(s.Fragment,{children:[n&&Object(s.jsx)("div",{children:"Loading..."}),Object(s.jsx)("pre",{children:JSON.stringify(r,null,2)})]})};function Dn(t){return["/pending","/fulfilled","/rejected"].some((function(e){return t.type.endsWith(e)}))}var Jn=Object(k.c)({extraReducers:function(t){t.addMatcher(Dn,(function(t,e){var n=e.type.split("/"),r=n.pop();t["".concat(n.join("/"))]="pending"===r}))},initialState:{},name:"loading",reducers:{}}).reducer,qn=n(33),Gn=Object(qn.c)({comments:It,list:ge,lists:pe,ratings:We,recommendations:_e,watchlist:Qe}),Hn=Object(k.a)({reducer:{comments:te,loading:Jn,movie:Xt,movies:un,notifications:C,person:pn,search:yn,show:Zt,shows:Cn,users:Gn}});function Un(){at();var t=Object(i.useMemo)(Ot,[]),e=Object(j.c)((function(e){return t(e,["movie/fetch","movies/fetch","show/fetch","shows/fetch","comments/fetch","person/fetch"])}));return Object(s.jsxs)(s.Fragment,{children:[e&&Object(s.jsx)(nt,{}),Object(s.jsxs)(b.e,{basename:"/app",children:[Object(s.jsx)(b.c,{element:Object(s.jsx)(b.a,{replace:!0,to:"movies/trending"}),path:"/"}),Object(s.jsxs)(b.c,{element:Object(s.jsx)($,{}),path:"/",children:[Object(s.jsxs)(b.c,{path:"movies",children:[Object(s.jsx)(b.c,{element:Object(s.jsx)(b.a,{replace:!0,to:"trending"}),path:"/"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(dn,{category:"trending"}),path:"trending"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(dn,{category:"popular"}),path:"popular"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(dn,{category:"recommended"}),path:"recommended"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(dn,{category:"watched"}),path:"watched"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(dn,{category:"anticipated"}),path:"anticipated"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(an,{}),path:":slug"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(ae,{entity:"movies"}),path:":slug/comments"})]}),Object(s.jsxs)(b.c,{path:"shows",children:[Object(s.jsx)(b.c,{element:Object(s.jsx)(b.a,{replace:!0,to:"trending"}),path:"/"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(Wn,{category:"trending"}),path:"trending"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(Wn,{category:"popular"}),path:"popular"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(Wn,{category:"recommended"}),path:"recommended"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(Wn,{category:"watched"}),path:"watched"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(Wn,{category:"anticipated"}),path:"anticipated"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(Sn,{}),path:":slug"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(ae,{entity:"shows"}),path:":slug/comments"})]}),Object(s.jsx)(b.c,{element:Object(s.jsx)(On,{}),path:"people/:slug"}),Object(s.jsxs)(b.c,{path:"search",children:[Object(s.jsx)(b.c,{element:Object(s.jsx)(b.a,{replace:!0,to:"all"}),path:"/"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(wn,{entity:"all"}),path:"all"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(wn,{entity:"movies"}),path:"movies"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(wn,{entity:"shows"}),path:"shows"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(wn,{entity:"people"}),path:"people"})]}),Object(s.jsxs)(b.c,{path:"users/:userSlug",children:[Object(s.jsx)(b.c,{element:Object(s.jsx)(b.a,{replace:!0,to:"ratings"}),path:"/"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(An,{}),path:"ratings"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(Bn,{}),path:"recommendations"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(_n,{}),path:"watchlist"}),Object(s.jsxs)(b.c,{path:"lists",children:[Object(s.jsx)(b.c,{element:Object(s.jsx)(En,{}),path:"/"}),Object(s.jsx)(b.c,{element:Object(s.jsx)(Vn,{}),path:":id"})]}),Object(s.jsx)(b.c,{element:Object(s.jsx)(Mn,{}),path:"comments"})]})]}),Object(s.jsx)(b.c,{element:Object(s.jsx)(rt,{}),path:"*"})]})]})}var Kn=function(){return Object(s.jsx)(j.a,{store:Hn,children:Object(s.jsxs)(p.a,{children:[Object(s.jsx)(d.a,{}),Object(s.jsx)(Un,{})]})})},Qn=Hn.dispatch;function Xn(){return(Xn=Object(c.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Qn(de());case 2:return t.next=4,Qn(Re());case 4:return t.next=6,Qn(Ee());case 6:return t.next=8,Qn(He());case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(){return Xn.apply(this,arguments)})().then((function(){l.a.render(Object(s.jsx)(Kn,{}),document.getElementById("root"))}))}},[[240,1,2]]]);
//# sourceMappingURL=main.fea0343c.chunk.js.map