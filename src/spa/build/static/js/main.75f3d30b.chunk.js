(this["webpackJsonpmovie-tinder-frontend"]=this["webpackJsonpmovie-tinder-frontend"]||[]).push([[0],{103:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),c=n.n(a),i=n(14),s=n.n(i),o=n(137),u=n(5),l=n(9),j=n(23),p=n(135),b=n(138),d=n(139),f=n(51),h=n(136),O=n(134),m=n(17),g=n(24),x=Object(g.a)((function(e){return e.notifications}),(function(e){return e})),v=n(4);function y(e){return e.type.endsWith("/rejected")}var P=Object(v.c)({extraReducers:function(e){e.addMatcher(y,(function(e,t){e[t.meta.requestId]=t.payload}))},initialState:{},name:"notifications",reducers:{createNotification:{prepare:function(e){return{payload:{id:Object(v.d)(),message:e}}},reducer:function(e,t){e[t.payload.id]=t.payload.message}},removeNotification:function(e,t){delete e[t.payload]}}}),w=P.actions,k=P.reducer,S=(w.createNotification,w.removeNotification),N=k;var F=function(e){var t=e.id,n=e.message,a=Object(u.b)();return Object(r.jsx)("div",{onClick:function(){a(S(t))},children:n})};var L=function(){var e=Object(u.c)(x);return Object.entries(e).map((function(e){var t=Object(m.a)(e,2),n=t[0],a=t[1];return Object(r.jsx)(F,{id:n,message:a},n)}))},W=n(128),R=Object(W.a)({drawerPaper:{width:256}}),E=n(18),I=n(140),C=n(130),J=n(49),V=n(133),q=n(131),M=n(132),T=Object(W.a)((function(e){return{nestedListItemGutters:{paddingLeft:e.spacing(4)}}}));var A=function(e){var t=e.children,n=e.listItemTextProps,i=Object(J.a)(e,["children","listItemTextProps"]),s=T(),o=Object(a.useState)(!1),u=Object(m.a)(o,2),l=u[0],j=u[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(I.a,Object(E.a)(Object(E.a)({},i),{},{onClick:function(e){e.preventDefault(),j(!l)},children:[Object(r.jsx)(C.a,Object(E.a)({},n)),l?Object(r.jsx)(q.a,{}):Object(r.jsx)(M.a,{})]})),Object(r.jsx)(V.a,{in:l,children:Object(r.jsx)(O.a,{disablePadding:!0,children:c.a.Children.map(t,(function(e){return c.a.cloneElement(e,{classes:{gutters:s.nestedListItemGutters}})}))})})]})},B=[{nested:[{path:"movies/trending",title:"Trending"},{path:"movies/popular",title:"Popular"},{path:"movies/recommended",title:"Recommended"},{path:"movies/watched",title:"Watched"},{path:"movies/collected",title:"Collected"},{path:"movies/anticipated",title:"Anticipated"}],title:"Movies"},{nested:[{path:"shows/trending",title:"Trending"},{path:"shows/popular",title:"Popular"},{path:"shows/recommended",title:"Recommended"},{path:"shows/watched",title:"Watched"},{path:"shows/collected",title:"Collected"},{path:"shows/anticipated",title:"Anticipated"}],title:"Shows"},{nested:[{path:"profile/ratings",title:"Ratings"},{path:"profile/recommendations",title:"Recommendations"},{path:"profile/watchlist",title:"Watchlist"},{path:"profile/lists",title:"Lists"},{path:"profile/comments",title:"Comments"}],title:"Profile"},{nested:[{path:"search/all",title:"All"},{path:"search/movies",title:"Movies"},{path:"search/shows",title:"Shows"},{path:"search/people",title:"People"}],title:"Search"}];var G=function(){var e=R();return Object(r.jsxs)(p.a,{children:[Object(r.jsxs)(b.a,{anchor:"left",classes:{paper:e.drawerPaper},color:"",variant:"permanent",children:[Object(r.jsxs)(d.a,{px:2,py:1,children:[Object(r.jsx)(f.a,{variant:"h6",children:"Traktor"}),Object(r.jsx)(f.a,{variant:"caption",children:"v0.1"})]}),Object(r.jsx)(h.a,{}),Object(r.jsx)(O.a,{disablePadding:!0,children:B.map((function(e){var t=e.nested,n=e.path,c=e.title,i={activeClassName:"Mui-selected",button:!0,component:j.b,key:c,to:n};if(!t&&n)return Object(r.jsx)(I.a,Object(E.a)(Object(E.a)({},i),{},{children:Object(r.jsx)(C.a,{primary:c})}));var s=t.map((function(e){var t=e.path,n=e.title;return Object(a.createElement)(I.a,Object(E.a)(Object(E.a)({},i),{},{key:n,to:t}),Object(r.jsx)(C.a,{primary:n}))})),o={button:!0,key:c,listItemTextProps:{primary:c}};return Object(r.jsx)(A,Object(E.a)(Object(E.a)({},o),{},{children:s}))}))})]}),Object(r.jsxs)(d.a,{ml:32,children:[Object(r.jsx)(L,{}),Object(r.jsx)(l.b,{})]})]})};var D=function(){return Object(r.jsx)("h1",{children:"404 not found"})};function z(e){return e.loading}function H(e,t){return t}var K=Object(g.a)([z,H],(function(e,t){return Boolean(e[t])}));function Q(){return Object(g.a)([z,H],(function(e,t){return Object.keys(e).filter((function(e){return t.includes(e)})).some((function(t){return e[t]}))}))}var U,X=Object(g.a)((function(e){return e.movie}),(function(e){return e})),Y=n(12),Z=n(7),$=n.n(Z),_=n(13),ee=n(8),te=n.n(ee),ne=Object(v.b)("movie/comments/fetch",function(){var e=Object(_.a)($.a.mark((function e(t,n){var r,a,c,i,s;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.limit,a=t.slug,c=t.sort,i=n.rejectWithValue,e.prev=2,e.next=5,te.a.get("/trakt/movies/".concat(a,"/comments/").concat(c,"?page=1&limit=").concat(r));case 5:return s=e.sent,e.abrupt("return",s.data);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",i(e.t0.toString()));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}()),re=Object(v.b)("movie/fetch",function(){var e=Object(_.a)($.a.mark((function e(t,n){var r,a,c,i,s,o,u,l,j;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,Promise.all([te.a.get("/trakt/movies/".concat(t)),te.a.get("/trakt/movies/".concat(t,"/comments/highest")),te.a.get("/trakt/movies/".concat(t,"/people")),te.a.get("/trakt/movies/".concat(t,"/ratings")),te.a.get("/trakt/movies/".concat(t,"/related")),te.a.get("/trakt/movies/".concat(t,"/stats"))]);case 4:return a=e.sent,c=Object(m.a)(a,6),i=c[0],s=c[1],o=c[2],u=c[3],l=c[4],j=c[5],e.abrupt("return",{comments:s.data,people:o.data,ratings:u.data,related:l.data,stats:j.data,summary:i.data});case 15:return e.prev=15,e.t0=e.catch(1),e.abrupt("return",r(e.t0.toString()));case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t,n){return e.apply(this,arguments)}}()),ae=Object(v.c)({extraReducers:(U={},Object(Y.a)(U,ne.fulfilled,(function(e,t){e.comments=t.payload})),Object(Y.a)(U,re.fulfilled,(function(e,t){return t.payload})),U),initialState:{comments:[],people:null,ratings:null,related:[],stats:null,summary:null},name:"movie",reducers:{}}).reducer;var ce=function(){var e=Object(a.useMemo)(Q,[]),t=Object(u.b)(),n=Object(l.j)().slug,c=Object(u.c)((function(t){return e(t,["movie/fetch","movie/comments/fetch"])})),i=Object(u.c)(X);return Object(a.useEffect)((function(){t(re(n))}),[t,n]),Object(r.jsxs)(r.Fragment,{children:[c&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)("button",{onClick:function(){t(ne({limit:i.stats.comments,slug:n,sort:"newest"}))},type:"button",children:"Fetch all comments"}),Object(r.jsx)("pre",{children:JSON.stringify(i,null,2)})]})};var ie=function(e){var t=e.disabled,n=e.hasNextPage,a=e.hasPreviousPage,c=e.onFirstPage,i=e.onLastPage,s=e.onNextPage,o=e.onPreviousPage;return Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{disabled:t,onClick:c,type:"button",children:"First page"}),Object(r.jsx)("button",{disabled:t||!a,onClick:o,type:"button",children:"Previous page"}),Object(r.jsx)("button",{disabled:t||!n,onClick:s,type:"button",children:"Next page"}),Object(r.jsx)("button",{disabled:t,onClick:i,type:"button",children:"Last page"})]})};var se=function(e){var t=Object(j.c)(),n=Object(m.a)(t,2),r=n[0],c=n[1],i=Object(a.useMemo)((function(){return Object.fromEntries(r)}),[r]),s=i.page,o=void 0===s?"1":s,l=Object(J.a)(i,["page"]),p=Object(u.c)(e);return{hasNextPage:parseInt(o)<p,hasPreviousPage:parseInt(o)>1,page:o,toFirstPage:function(){c(Object(E.a)({page:1},l))},toLastPage:function(){c(Object(E.a)({page:p},l))},toNextPage:function(){c(Object(E.a)({page:parseInt(o)+1},l))},toPreviousPage:function(){c(Object(E.a)({page:parseInt(o)-1},l))}}},oe=Object(g.a)((function(e){return e.movies.entities}),(function(e){return e})),ue=Object(g.a)((function(e){return e.movies.pagination.total}),(function(e){return e})),le=40;function je(){return document.cookie.split("; ").reduce((function(e,t){var n=t.split("="),r=Object(m.a)(n,2),a=r[0],c=r[1];return e[a]=c,e}),{}).userSlug}var pe=Object(v.b)("movies/fetch",function(){var e=Object(_.a)($.a.mark((function e(t,n){var r,a,c,i;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.category,a=t.page,c=n.rejectWithValue,e.prev=2,e.next=5,te.a.get("/trakt/movies/".concat(r,"?page=").concat(a,"&limit=").concat(le));case 5:return i=e.sent,e.abrupt("return",{entities:i.data,total:parseInt(i.headers["x-pagination-page-count"])});case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",c(e.t0.toString()));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}()),be=Object(v.c)({extraReducers:Object(Y.a)({},pe.fulfilled,(function(e,t){e.entities=t.payload.entities,e.pagination.total=t.payload.total})),initialState:{entities:[],pagination:{total:0}},name:"movies",reducers:{}}).reducer;var de=function(e){var t=e.category,n=Object(u.b)(),c=se(ue),i=c.hasNextPage,s=c.hasPreviousPage,o=c.page,l=c.toFirstPage,j=c.toLastPage,p=c.toNextPage,b=c.toPreviousPage,d=Object(u.c)((function(e){return K(e,"movies/fetch")})),f=Object(u.c)(oe);return Object(a.useEffect)((function(){n(pe({category:t,page:o}))}),[t,n,o]),Object(r.jsxs)(r.Fragment,{children:[d&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)(ie,{disabled:d,hasNextPage:i,hasPreviousPage:s,onFirstPage:l,onLastPage:j,onNextPage:p,onPreviousPage:b}),Object(r.jsx)("pre",{children:JSON.stringify(f,null,2)})]})},fe=Object(g.a)((function(e){return e.person}),(function(e){return e})),he=Object(v.b)("person/fetch",function(){var e=Object(_.a)($.a.mark((function e(t,n){var r,a,c,i,s,o;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,Promise.all([te.a.get("/trakt/people/".concat(t,"?extended=full")),te.a.get("/trakt/people/".concat(t,"/movies")),te.a.get("/trakt/people/".concat(t,"/shows"))]);case 4:return a=e.sent,c=Object(m.a)(a,3),i=c[0],s=c[1],o=c[2],e.abrupt("return",{movies:s.data,shows:o.data,summary:i.data});case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",r(e.t0.toString()));case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,n){return e.apply(this,arguments)}}()),Oe=Object(v.c)({extraReducers:Object(Y.a)({},he.fulfilled,(function(e,t){return t.payload})),initialState:{movies:[],shows:[],summary:null},name:"person",reducers:{}}).reducer;var me=function(){var e=Object(u.b)(),t=Object(l.j)().slug,n=Object(u.c)((function(e){return K(e,"person/fetch")})),c=Object(u.c)(fe);return Object(a.useEffect)((function(){e(he(t))}),[e,t]),Object(r.jsxs)(r.Fragment,{children:[n&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)("pre",{children:JSON.stringify(c,null,2)})]})},ge=Object(g.a)((function(e){return e.profile.comments.entities}),(function(e){return e})),xe=Object(g.a)((function(e){return e.profile.comments.pagination.total}),(function(e){return e})),ve=Object(v.b)("profile/comments/fetch",function(){var e=Object(_.a)($.a.mark((function e(t,n){var r,a;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,te.a.get("/trakt/users/".concat(je(),"/comments?page=").concat(t,"&limit=").concat(le));case 4:return a=e.sent,e.abrupt("return",{entities:a.data,total:parseInt(a.headers["x-pagination-page-count"])});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r(e.t0.toString()));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),ye=Object(v.c)({extraReducers:Object(Y.a)({},ve.fulfilled,(function(e,t){e.entities=t.payload.entities,e.pagination.total=t.payload.total})),initialState:{entities:[],pagination:{total:0}},name:"profile/comments",reducers:{}}).reducer;var Pe=function(){var e=Object(u.b)(),t=se(xe),n=t.hasNextPage,c=t.hasPreviousPage,i=t.page,s=t.toFirstPage,o=t.toLastPage,l=t.toNextPage,j=t.toPreviousPage,p=Object(u.c)((function(e){return K(e,"profile/comments/fetch")})),b=Object(u.c)(ge);return Object(a.useEffect)((function(){e(ve(i))}),[e,i]),Object(r.jsxs)(r.Fragment,{children:[p&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)(ie,{disabled:p,hasNextPage:n,hasPreviousPage:c,onFirstPage:s,onLastPage:o,onNextPage:l,onPreviousPage:j}),Object(r.jsx)("pre",{children:JSON.stringify(b,null,2)})]})},we=Object(g.a)((function(e){return e.profile.lists}),(function(e){return e})),ke=Object(v.b)("profile/lists/fetch",function(){var e=Object(_.a)($.a.mark((function e(t,n){var r,a;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,te.a.get("/trakt/users/".concat(je(),"/lists"));case 4:return a=e.sent,e.abrupt("return",a.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r(e.t0.toString()));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),Se=Object(v.c)({extraReducers:Object(Y.a)({},ke.fulfilled,(function(e,t){return t.payload})),initialState:[],name:"profile/lists",reducers:{}}).reducer;var Ne=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return K(e,"profile/lists/fetch")})),n=Object(u.c)(we);return Object(a.useEffect)((function(){e(ke())}),[e]),Object(r.jsxs)(r.Fragment,{children:[t&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)("pre",{children:JSON.stringify(n,null,2)})]})};var Fe=function(){return Object(r.jsx)("h1",{children:"Single"})},Le=Object(g.a)((function(e){return e.profile.ratings}),(function(e){return e})),We=Object(v.b)("profile/ratings/fetch",function(){var e=Object(_.a)($.a.mark((function e(t,n){var r,a;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,te.a.get("/trakt/sync/ratings");case 4:return a=e.sent,e.abrupt("return",a.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r(e.t0.toString()));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),Re=Object(v.c)({extraReducers:Object(Y.a)({},We.fulfilled,(function(e,t){return t.payload})),initialState:[],name:"profile/ratings",reducers:{}}).reducer;var Ee=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return K(e,"profile/ratings/fetch")})),n=Object(u.c)(Le);return Object(a.useEffect)((function(){e(We())}),[e]),Object(r.jsxs)(r.Fragment,{children:[t&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)("pre",{children:JSON.stringify(n,null,2)})]})},Ie=Object(g.a)((function(e){return e.profile.recommendations}),(function(e){return e})),Ce=Object(v.b)("profile/recommendations/fetch",function(){var e=Object(_.a)($.a.mark((function e(t,n){var r,a;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,te.a.get("/trakt/sync/recommendations");case 4:return a=e.sent,e.abrupt("return",a.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r(e.t0.toString()));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),Je=Object(v.c)({extraReducers:Object(Y.a)({},Ce.fulfilled,(function(e,t){return t.payload})),initialState:[],name:"profile/recommendations",reducers:{}}).reducer;var Ve=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return K(e,"profile/recommendations/fetch")})),n=Object(u.c)(Ie);return Object(a.useEffect)((function(){e(Ce())}),[e]),Object(r.jsxs)(r.Fragment,{children:[t&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)("pre",{children:JSON.stringify(n,null,2)})]})},qe=Object(g.a)((function(e){return e.profile.watchlist}),(function(e){return e})),Me=Object(v.b)("profile/watchlist/fetch",function(){var e=Object(_.a)($.a.mark((function e(t,n){var r,a;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,te.a.get("/trakt/sync/watchlist");case 4:return a=e.sent,e.abrupt("return",a.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r(e.t0.toString()));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),Te=Object(v.c)({extraReducers:Object(Y.a)({},Me.fulfilled,(function(e,t){return t.payload})),initialState:[],name:"profile/watchlist",reducers:{}}).reducer;var Ae=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return K(e,"profile/watchlist/fetch")})),n=Object(u.c)(qe);return Object(a.useEffect)((function(){e(Me())}),[e]),Object(r.jsxs)(r.Fragment,{children:[t&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)("pre",{children:JSON.stringify(n,null,2)})]})},Be=Object(g.a)((function(e){return e.search.entities}),(function(e){return e})),Ge=Object(g.a)((function(e){return e.search.pagination.total}),(function(e){return e}));function De(e){switch(e){case"movies":return"movie";case"shows":return"show";case"people":return"person";default:return"movie,show,person"}}var ze=Object(v.b)("search/fetch",function(){var e=Object(_.a)($.a.mark((function e(t,n){var r,a,c,i,s;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.page,a=t.query,c=t.type,i=n.rejectWithValue,e.prev=2,e.next=5,te.a.get("/trakt/search/".concat(De(c),"?query=").concat(a,"&page=").concat(r,"&limit=").concat(le));case 5:return s=e.sent,e.abrupt("return",{entities:s.data,total:parseInt(s.headers["x-pagination-page-count"])});case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",i(e.t0.toString()));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}()),He=Object(v.c)({extraReducers:Object(Y.a)({},ze.fulfilled,(function(e,t){e.entities=t.payload.entities,e.pagination.total=t.payload.total})),initialState:{entities:[],pagination:{total:0}},name:"search",reducers:{}}).reducer;var Ke,Qe=function(e){var t=e.type,n=Object(u.b)(),c=se(Ge),i=c.hasNextPage,s=c.hasPreviousPage,o=c.page,l=c.toFirstPage,p=c.toLastPage,b=c.toNextPage,d=c.toPreviousPage,f=Object(j.c)(),h=Object(m.a)(f,2),O=h[0],g=h[1],x=Object(a.useMemo)((function(){return Object.fromEntries(O)}),[O]).query,v=void 0===x?"":x,y=Object(u.c)((function(e){return K(e,"search/fetch")})),P=Object(u.c)(Be);return Object(a.useEffect)((function(){n(ze({page:o,query:v,type:t}))}),[n,o,v,t]),Object(r.jsxs)(r.Fragment,{children:[y&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)(ie,{disabled:y,hasNextPage:i,hasPreviousPage:s,onFirstPage:l,onLastPage:p,onNextPage:b,onPreviousPage:d}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"query",children:"Input your query:"}),Object(r.jsx)("input",{id:"query",onChange:function(e){var t=e.target.value;g({query:t})},type:"text",value:v})]}),Object(r.jsx)("pre",{children:JSON.stringify(P,null,2)})]})},Ue=Object(g.a)((function(e){return e.show}),(function(e){return e})),Xe=Object(v.b)("show/comments/fetch",function(){var e=Object(_.a)($.a.mark((function e(t,n){var r,a,c,i,s;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.limit,a=t.slug,c=t.sort,i=n.rejectWithValue,e.prev=2,e.next=5,te.a.get("/trakt/shows/".concat(a,"/comments/").concat(c,"?page=1&limit=").concat(r));case 5:return s=e.sent,e.abrupt("return",s.data);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",i(e.t0.toString()));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}()),Ye=Object(v.b)("show/fetch",function(){var e=Object(_.a)($.a.mark((function e(t,n){var r,a,c,i,s,o,u,l,j,p;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,Promise.all([te.a.get("/trakt/shows/".concat(t)),te.a.get("/trakt/shows/".concat(t,"/comments/highest")),te.a.get("/trakt/shows/".concat(t,"/people")),te.a.get("/trakt/shows/".concat(t,"/ratings")),te.a.get("/trakt/shows/".concat(t,"/related")),te.a.get("/trakt/shows/".concat(t,"/stats")),te.a.get("/trakt/shows/".concat(t,"/seasons?extended=episodes"))]);case 4:return a=e.sent,c=Object(m.a)(a,7),i=c[0],s=c[1],o=c[2],u=c[3],l=c[4],j=c[5],p=c[6],e.abrupt("return",{comments:s.data,people:o.data,ratings:u.data,related:l.data,seasons:p.data,stats:j.data,summary:i.data});case 16:return e.prev=16,e.t0=e.catch(1),e.abrupt("return",r(e.t0.toString()));case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t,n){return e.apply(this,arguments)}}()),Ze=Object(v.c)({extraReducers:(Ke={},Object(Y.a)(Ke,Xe.fulfilled,(function(e,t){e.comments=t.payload})),Object(Y.a)(Ke,Ye.fulfilled,(function(e,t){return t.payload})),Ke),initialState:{comments:[],people:null,ratings:null,related:[],seasons:[],stats:null,summary:null},name:"show",reducers:{}}).reducer;var $e=function(){var e=Object(a.useMemo)(Q,[]),t=Object(u.b)(),n=Object(l.j)().slug,c=Object(u.c)((function(t){return e(t,["show/fetch","show/comments/fetch"])})),i=Object(u.c)(Ue);return Object(a.useEffect)((function(){t(Ye(n))}),[t,n]),Object(r.jsxs)(r.Fragment,{children:[c&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)("button",{onClick:function(){t(Xe({limit:i.stats.comments,slug:n,sort:"newest"}))},type:"button",children:"Fetch all comments"}),Object(r.jsx)("pre",{children:JSON.stringify(i,null,2)})]})},_e=Object(g.a)((function(e){return e.shows.entities}),(function(e){return e})),et=Object(g.a)((function(e){return e.shows.pagination.total}),(function(e){return e})),tt=Object(v.b)("shows/fetch",function(){var e=Object(_.a)($.a.mark((function e(t,n){var r,a,c,i;return $.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.category,a=t.page,c=n.rejectWithValue,e.prev=2,e.next=5,te.a.get("/trakt/shows/".concat(r,"?page=").concat(a,"&limit=").concat(le));case 5:return i=e.sent,e.abrupt("return",{entities:i.data,total:parseInt(i.headers["x-pagination-page-count"])});case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",c(e.t0.toString()));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}()),nt=Object(v.c)({extraReducers:Object(Y.a)({},tt.fulfilled,(function(e,t){e.entities=t.payload.entities,e.pagination.total=t.payload.total})),initialState:{entities:[],pagination:{total:0}},name:"shows",reducers:{}}).reducer;var rt=function(e){var t=e.category,n=Object(u.b)(),c=se(et),i=c.hasNextPage,s=c.hasPreviousPage,o=c.page,l=c.toFirstPage,j=c.toLastPage,p=c.toNextPage,b=c.toPreviousPage,d=Object(u.c)((function(e){return K(e,"shows/fetch")})),f=Object(u.c)(_e);return Object(a.useEffect)((function(){n(tt({category:t,page:o}))}),[t,n,o]),Object(r.jsxs)(r.Fragment,{children:[d&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)(ie,{disabled:d,hasNextPage:i,hasPreviousPage:s,onFirstPage:l,onLastPage:j,onNextPage:p,onPreviousPage:b}),Object(r.jsx)("pre",{children:JSON.stringify(f,null,2)})]})};function at(e){return["/pending","/fulfilled","/rejected"].some((function(t){return e.type.endsWith(t)}))}var ct=Object(v.c)({extraReducers:function(e){e.addMatcher(at,(function(e,t){var n=t.type.split("/"),r=n.pop();e["".concat(n.join("/"))]="pending"===r}))},initialState:{},name:"loading",reducers:{}}).reducer,it=n(21),st=Object(it.c)({comments:ye,lists:Se,ratings:Re,recommendations:Je,watchlist:Te}),ot=Object(v.a)({reducer:{loading:ct,movie:ae,movies:be,notifications:N,person:Oe,profile:st,search:He,show:Ze,shows:nt}});function ut(){return Object(r.jsxs)(l.e,{basename:"/app",children:[Object(r.jsx)(l.c,{element:Object(r.jsx)(l.a,{replace:!0,to:"movies/trending"}),path:"/"}),Object(r.jsxs)(l.c,{element:Object(r.jsx)(G,{}),path:"/",children:[Object(r.jsxs)(l.c,{path:"movies",children:[Object(r.jsx)(l.c,{element:Object(r.jsx)(l.a,{replace:!0,to:"trending"}),path:"/"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(de,{category:"trending"}),path:"trending"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(de,{category:"popular"}),path:"popular"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(de,{category:"recommended"}),path:"recommended"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(de,{category:"watched"}),path:"watched"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(de,{category:"collected"}),path:"collected"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(de,{category:"anticipated"}),path:"anticipated"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(ce,{}),path:":slug"})]}),Object(r.jsxs)(l.c,{path:"shows",children:[Object(r.jsx)(l.c,{element:Object(r.jsx)(l.a,{replace:!0,to:"trending"}),path:"/"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(rt,{category:"trending"}),path:"trending"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(rt,{category:"popular"}),path:"popular"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(rt,{category:"recommended"}),path:"recommended"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(rt,{category:"watched"}),path:"watched"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(rt,{category:"collected"}),path:"collected"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(rt,{category:"anticipated"}),path:"anticipated"}),Object(r.jsx)(l.c,{element:Object(r.jsx)($e,{}),path:":slug"})]}),Object(r.jsx)(l.c,{element:Object(r.jsx)(me,{}),path:"people/:slug"}),Object(r.jsxs)(l.c,{path:"search",children:[Object(r.jsx)(l.c,{element:Object(r.jsx)(l.a,{replace:!0,to:"all"}),path:"/"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(Qe,{type:"all"}),path:"all"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(Qe,{type:"movies"}),path:"movies"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(Qe,{type:"shows"}),path:"shows"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(Qe,{type:"people"}),path:"people"})]}),Object(r.jsxs)(l.c,{path:"profile",children:[Object(r.jsx)(l.c,{element:Object(r.jsx)(l.a,{replace:!0,to:"ratings"}),path:"/"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(Ee,{}),path:"ratings"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(Ve,{}),path:"recommendations"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(Ae,{}),path:"watchlist"}),Object(r.jsxs)(l.c,{path:"lists",children:[Object(r.jsx)(l.c,{element:Object(r.jsx)(Ne,{}),path:"/"}),Object(r.jsx)(l.c,{element:Object(r.jsx)(Fe,{}),path:":id"})]}),Object(r.jsx)(l.c,{element:Object(r.jsx)(Pe,{}),path:"comments"})]})]}),Object(r.jsx)(l.c,{element:Object(r.jsx)(D,{}),path:"*"})]})}var lt=function(){return Object(r.jsx)(u.a,{store:ot,children:Object(r.jsxs)(j.a,{children:[Object(r.jsx)(o.a,{}),Object(r.jsx)(ut,{})]})})};s.a.render(Object(r.jsx)(lt,{}),document.getElementById("root"))}},[[103,1,2]]]);
//# sourceMappingURL=main.75f3d30b.chunk.js.map