(this["webpackJsonpmovie-tinder-frontend"]=this["webpackJsonpmovie-tinder-frontend"]||[]).push([[0],{113:function(t,e,n){"use strict";n.r(e);var r=n(1),a=n(0),c=n.n(a),i=n(14),s=n.n(i),o=n(77),u=n(145),l=n(146),j=n(5),p=n(10),b=n(21),d=n(143),f=n(147),h=n(148),O=n(54),m=n(144),g=n(142),v=n(18),x=n(26),y=Object(x.a)((function(t){return t.notifications}),(function(t){return t})),w=n(3);function P(t){return t.type.endsWith("/rejected")}var k=Object(w.c)({extraReducers:function(t){t.addMatcher(P,(function(t,e){t[e.meta.requestId]=e.payload}))},initialState:{},name:"notifications",reducers:{createNotification:{prepare:function(t){return{payload:{id:Object(w.d)(),message:t}}},reducer:function(t,e){t[e.payload.id]=e.payload.message}},removeNotification:function(t,e){delete t[e.payload]}}}),S=k.actions,N=k.reducer,F=(S.createNotification,S.removeNotification),L=N;var I=function(t){var e=t.id,n=t.message,a=Object(j.b)();return Object(r.jsx)("div",{onClick:function(){a(F(e))},children:n})};var R=function(){var t=Object(j.c)(y);return Object.entries(t).map((function(t){var e=Object(v.a)(t,2),n=e[0],a=e[1];return Object(r.jsx)(I,{id:n,message:a},n)}))},W=n(136),C=Object(W.a)({drawerPaper:{width:256}}),E=n(19),V=n(151),J=n(138),q=n(53),M=n(141),z=n(139),T=n(140),A=Object(W.a)((function(t){return{nestedListItemGutters:{paddingLeft:t.spacing(4)}}}));var B=function(t){var e=t.children,n=t.listItemTextProps,i=Object(q.a)(t,["children","listItemTextProps"]),s=A(),o=Object(a.useState)(!1),u=Object(v.a)(o,2),l=u[0],j=u[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(V.a,Object(E.a)(Object(E.a)({},i),{},{onClick:function(t){t.preventDefault(),j(!l)},children:[Object(r.jsx)(J.a,Object(E.a)({},n)),l?Object(r.jsx)(z.a,{}):Object(r.jsx)(T.a,{})]})),Object(r.jsx)(M.a,{in:l,children:Object(r.jsx)(g.a,{disablePadding:!0,children:c.a.Children.map(e,(function(t){return c.a.cloneElement(t,{classes:{gutters:s.nestedListItemGutters}})}))})})]})},G=[{nested:[{path:"movies/trending",title:"Trending"},{path:"movies/popular",title:"Popular"},{path:"movies/recommended",title:"Recommended"},{path:"movies/watched",title:"Watched"},{path:"movies/collected",title:"Collected"},{path:"movies/anticipated",title:"Anticipated"}],title:"Movies"},{nested:[{path:"shows/trending",title:"Trending"},{path:"shows/popular",title:"Popular"},{path:"shows/recommended",title:"Recommended"},{path:"shows/watched",title:"Watched"},{path:"shows/collected",title:"Collected"},{path:"shows/anticipated",title:"Anticipated"}],title:"Shows"},{nested:[{path:"profile/ratings",title:"Ratings"},{path:"profile/recommendations",title:"Recommendations"},{path:"profile/watchlist",title:"Watchlist"},{path:"profile/lists",title:"Lists"},{path:"profile/comments",title:"Comments"}],title:"Profile"},{nested:[{path:"search/all",title:"All"},{path:"search/movies",title:"Movies"},{path:"search/shows",title:"Shows"},{path:"search/people",title:"People"}],title:"Search"}];var Y=function(){var t=C();return Object(r.jsxs)(d.a,{children:[Object(r.jsxs)(f.a,{anchor:"left",classes:{paper:t.drawerPaper},color:"",variant:"permanent",children:[Object(r.jsxs)(h.a,{px:2,py:1,children:[Object(r.jsx)(O.a,{variant:"h6",children:"Traktor"}),Object(r.jsx)(O.a,{variant:"caption",children:"v0.1"})]}),Object(r.jsx)(m.a,{}),Object(r.jsx)(g.a,{disablePadding:!0,children:G.map((function(t){var e=t.nested,n=t.path,c=t.title,i={activeClassName:"Mui-selected",button:!0,component:b.c,key:c,to:n};if(!e&&n)return Object(r.jsx)(V.a,Object(E.a)(Object(E.a)({},i),{},{children:Object(r.jsx)(J.a,{primary:c})}));var s=e.map((function(t){var e=t.path,n=t.title;return Object(a.createElement)(V.a,Object(E.a)(Object(E.a)({},i),{},{key:n,to:e}),Object(r.jsx)(J.a,{primary:n}))})),o={button:!0,key:c,listItemTextProps:{primary:c}};return Object(r.jsx)(B,Object(E.a)(Object(E.a)({},o),{},{children:s}))}))})]}),Object(r.jsxs)(h.a,{ml:32,children:[Object(r.jsx)(R,{}),Object(r.jsx)(p.b,{})]})]})};var D=function(){return Object(r.jsx)("h1",{children:"404 not found"})},_=n(9),H=n.n(_);function K(t){var e=t.children,n=t.entity,r=t.season,a=t.size,c=t.tmdbId,i=t.type;if(!c)return null;var s="/images/".concat(n,"/").concat(c,"/").concat(i,"?");return r&&(s+="season=".concat(r)),a&&(s+="size=".concat(a)),e(s)}K.propTypes={children:H.a.func.isRequired,entity:H.a.oneOf(["movie","person","show"]).isRequired,season:H.a.number,size:H.a.string,tmdbId:H.a.number,type:H.a.oneOf(["backdrop","poster","profile"])};var Q=K,U=n(150);var X=function(t){var e=t.onChange,n=t.value,c=void 0===n?0:n,i=Object(a.useState)(c),s=Object(v.a)(i,2),o=s[0],u=s[1];return Object(r.jsx)(U.a,{max:10,name:"_",onChange:function(t,n){u(n),e(n)},value:o})};function Z(t){return t.loading}function $(t,e){return e}var tt=Object(x.a)([Z,$],(function(t,e){return Boolean(t[e])}));function et(){return Object(x.a)([Z,$],(function(t,e){return Object.keys(t).filter((function(t){return e.includes(t)})).some((function(e){return t[e]}))}))}var nt,rt=Object(x.a)((function(t){return t.movie}),(function(t){return t})),at=n(12),ct=n(7),it=n.n(ct),st=n(13),ot=n(8),ut=n.n(ot),lt=Object(w.b)("movie/comments/fetch",function(){var t=Object(st.a)(it.a.mark((function t(e,n){var r,a,c,i,s;return it.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.limit,a=e.slug,c=e.sort,i=n.rejectWithValue,t.prev=2,t.next=5,ut.a.get("/trakt/movies/".concat(a,"/comments/").concat(c,"?page=1&limit=").concat(r));case 5:return s=t.sent,t.abrupt("return",s.data);case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",i(t.t0.toString()));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,n){return t.apply(this,arguments)}}()),jt=Object(w.b)("movie/fetch",function(){var t=Object(st.a)(it.a.mark((function t(e,n){var r,a,c,i,s,o,u,l,j;return it.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,Promise.all([ut.a.get("/trakt/movies/".concat(e)),ut.a.get("/trakt/movies/".concat(e,"/comments/highest")),ut.a.get("/trakt/movies/".concat(e,"/people")),ut.a.get("/trakt/movies/".concat(e,"/ratings")),ut.a.get("/trakt/movies/".concat(e,"/related")),ut.a.get("/trakt/movies/".concat(e,"/stats"))]);case 4:return a=t.sent,c=Object(v.a)(a,6),i=c[0],s=c[1],o=c[2],u=c[3],l=c[4],j=c[5],t.abrupt("return",{comments:s.data,people:o.data,ratings:u.data,related:l.data,stats:j.data,summary:i.data});case 15:return t.prev=15,t.t0=t.catch(1),t.abrupt("return",r(t.t0.toString()));case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e,n){return t.apply(this,arguments)}}()),pt=Object(w.c)({extraReducers:(nt={},Object(at.a)(nt,lt.fulfilled,(function(t,e){t.comments=e.payload})),Object(at.a)(nt,jt.fulfilled,(function(t,e){return e.payload})),nt),initialState:{comments:[],people:null,ratings:null,related:[],stats:null,summary:null},name:"movie",reducers:{}}).reducer,bt=Object(x.a)((function(t){return t.profile.ratings}),(function(t){return t})),dt=Object(x.a)([function(t){return t.profile.ratings},function(t,e){return e},function(t,e,n){return n}],(function(t,e,n){var r=t.find((function(t){return t.type===e&&t[e].ids.slug===n}));return r?r.rating:0})),ft=Object(w.b)("profile/ratings/fetch",function(){var t=Object(st.a)(it.a.mark((function t(e,n){var r,a;return it.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,ut.a.get("/trakt/sync/ratings");case 4:return a=t.sent,t.abrupt("return",a.data);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",r(t.t0.toString()));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}());function ht(t){return function(){var e=Object(st.a)(it.a.mark((function e(n,r){var a,c,i;return it.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.rating,c=n.slug,i=r.rejectWithValue,e.prev=2,e.next=5,ut.a.post("/trakt/sync/ratings",Object(at.a)({},t,[{ids:{slug:c},rating:a}]));case 5:e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(2),e.abrupt("return",i(e.t0.toString()));case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t,n){return e.apply(this,arguments)}}()}var Ot=Object(w.b)("profile/ratings/rate",ht("movies")),mt=Object(w.b)("profile/ratings/rate",ht("shows"));function gt(t){return function(){var e=Object(st.a)(it.a.mark((function e(n,r){var a;return it.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.rejectWithValue,e.prev=1,e.next=4,ut.a.post("/trakt/sync/ratings/remove",Object(at.a)({},t,[{ids:{slug:n}}]));case 4:e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(1),e.abrupt("return",a(e.t0.toString()));case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()}Object(w.b)("profile/ratings/delete",gt("movies")),Object(w.b)("profile/ratings/delete",gt("shows"));var vt=Object(w.c)({extraReducers:Object(at.a)({},ft.fulfilled,(function(t,e){return e.payload})),initialState:[],name:"profile/ratings",reducers:{}}).reducer;var xt=function(){var t,e=Object(a.useMemo)(et,[]),n=Object(j.b)(),c=Object(p.j)().slug,i=Object(j.c)((function(t){return e(t,["movie/fetch","movie/comments/fetch"])})),s=Object(j.c)(rt),o=Object(j.c)((function(t){return dt(t,"movie",c)}));return Object(a.useEffect)((function(){n(jt(c))}),[n,c]),Object(r.jsxs)(r.Fragment,{children:[i&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)("button",{onClick:function(){n(lt({limit:s.stats.comments,slug:c,sort:"newest"}))},type:"button",children:"Fetch all comments"}),Object(r.jsx)(X,{onChange:function(t){n(Ot({rating:t,slug:c}))},value:o}),Object(r.jsx)(Q,{entity:"movie",size:"w154",tmdbId:null===(t=s.summary)||void 0===t?void 0:t.ids.tmdb,type:"poster",children:function(t){return Object(r.jsx)("img",{alt:"poster",src:t})}}),Object(r.jsx)("pre",{children:JSON.stringify(s,null,2)})]})};var yt=function(t){var e=t.disabled,n=t.hasNextPage,a=t.hasPreviousPage,c=t.onFirstPage,i=t.onLastPage,s=t.onNextPage,o=t.onPreviousPage;return Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{disabled:e,onClick:c,type:"button",children:"First page"}),Object(r.jsx)("button",{disabled:e||!a,onClick:o,type:"button",children:"Previous page"}),Object(r.jsx)("button",{disabled:e||!n,onClick:s,type:"button",children:"Next page"}),Object(r.jsx)("button",{disabled:e,onClick:i,type:"button",children:"Last page"})]})};var wt=function(t){var e=Object(b.d)(),n=Object(v.a)(e,2),r=n[0],c=n[1],i=Object(a.useMemo)((function(){return Object.fromEntries(r)}),[r]),s=i.page,o=void 0===s?"1":s,u=Object(q.a)(i,["page"]),l=Object(j.c)(t);return{hasNextPage:parseInt(o)<l,hasPreviousPage:parseInt(o)>1,page:o,toFirstPage:function(){c(Object(E.a)({page:1},u))},toLastPage:function(){c(Object(E.a)({page:l},u))},toNextPage:function(){c(Object(E.a)({page:parseInt(o)+1},u))},toPreviousPage:function(){c(Object(E.a)({page:parseInt(o)-1},u))}}},Pt=Object(x.a)((function(t){return t.movies.entities}),(function(t){return t})),kt=Object(x.a)((function(t){return t.movies.pagination.total}),(function(t){return t})),St=40;function Nt(){return document.cookie.split("; ").reduce((function(t,e){var n=e.split("="),r=Object(v.a)(n,2),a=r[0],c=r[1];return t[a]=c,t}),{}).userSlug}var Ft=Object(w.b)("movies/fetch",function(){var t=Object(st.a)(it.a.mark((function t(e,n){var r,a,c,i;return it.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.category,a=e.page,c=n.rejectWithValue,t.prev=2,t.next=5,ut.a.get("/trakt/movies/".concat(r,"?page=").concat(a,"&limit=").concat(St));case 5:return i=t.sent,t.abrupt("return",{entities:i.data,total:parseInt(i.headers["x-pagination-page-count"])});case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",c(t.t0.toString()));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,n){return t.apply(this,arguments)}}()),Lt=Object(w.c)({extraReducers:Object(at.a)({},Ft.fulfilled,(function(t,e){t.entities=e.payload.entities,t.pagination.total=e.payload.total})),initialState:{entities:[],pagination:{total:0}},name:"movies",reducers:{}}).reducer,It=n(152),Rt=Object(W.a)((function(t){return{footer:{bottom:0,padding:8,position:"absolute"},image:{height:"100%",objectFit:"cover",width:"100%"},root:{borderBottom:"1px solid ".concat(t.palette.divider),borderRight:"1px solid ".concat(t.palette.divider),position:"relative"}}}));var Wt=function(t){var e=t.releaseYear,n=t.title,a=t.tmdbId,c=t.watchers,i=Rt();return Object(r.jsxs)("div",{className:i.root,children:[Object(r.jsx)(Q,{entity:"movie",size:"w500",tmdbId:a,type:"poster",children:function(t){return Object(r.jsx)("img",{alt:"poster",className:i.image,src:t})}}),Object(r.jsxs)("div",{className:i.footer,children:[Object(r.jsx)(It.a,{color:"secondary",label:Object(r.jsxs)(O.a,{variant:"caption",children:[c," people watching"]}),size:"small"}),Object(r.jsxs)("div",{children:[Object(r.jsxs)(O.a,{color:"textPrimary",display:"inline",variant:"body1",children:[n," "]}),Object(r.jsx)(O.a,{color:"textSecondary",display:"inline",variant:"caption",children:e})]})]})]})};function Ct(t){var e=t.category,n=t.movies;switch(e){case"trending":return function(t){return t.map((function(t){var e=t.movie,n=t.watchers;return Object(r.jsx)(d.a,{component:b.b,item:!0,md:4,sm:6,to:"/app/movies/".concat(e.ids.slug),xl:3,xs:12,children:Object(r.jsx)(Wt,{releaseYear:e.year,title:e.title,tmdbId:e.ids.tmdb,watchers:n})},e.ids.trakt)}))}(n);case"popular":case"recommended":case"watched":case"collected":case"anticipated":default:return null}}var Et=function(t){var e=t.category,n=Object(j.b)(),c=wt(kt),i=c.hasNextPage,s=c.hasPreviousPage,o=c.page,u=c.toFirstPage,l=c.toLastPage,p=c.toNextPage,b=c.toPreviousPage,f=Object(j.c)((function(t){return tt(t,"movies/fetch")})),h=Object(j.c)(Pt);return Object(a.useEffect)((function(){n(Ft({category:e,page:o}))}),[e,n,o]),Object(r.jsxs)(r.Fragment,{children:[f&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)(yt,{disabled:f,hasNextPage:i,hasPreviousPage:s,onFirstPage:u,onLastPage:l,onNextPage:p,onPreviousPage:b}),Object(r.jsx)(d.a,{container:!0,children:Ct({category:e,movies:h})})]})},Vt=Object(x.a)((function(t){return t.person}),(function(t){return t})),Jt=Object(w.b)("person/fetch",function(){var t=Object(st.a)(it.a.mark((function t(e,n){var r,a,c,i,s,o;return it.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,Promise.all([ut.a.get("/trakt/people/".concat(e,"?extended=full")),ut.a.get("/trakt/people/".concat(e,"/movies")),ut.a.get("/trakt/people/".concat(e,"/shows"))]);case 4:return a=t.sent,c=Object(v.a)(a,3),i=c[0],s=c[1],o=c[2],t.abrupt("return",{movies:s.data,shows:o.data,summary:i.data});case 12:return t.prev=12,t.t0=t.catch(1),t.abrupt("return",r(t.t0.toString()));case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e,n){return t.apply(this,arguments)}}()),qt=Object(w.c)({extraReducers:Object(at.a)({},Jt.fulfilled,(function(t,e){return e.payload})),initialState:{movies:[],shows:[],summary:null},name:"person",reducers:{}}).reducer;var Mt=function(){var t,e=Object(j.b)(),n=Object(p.j)().slug,c=Object(j.c)((function(t){return tt(t,"person/fetch")})),i=Object(j.c)(Vt);return Object(a.useEffect)((function(){e(Jt(n))}),[e,n]),Object(r.jsxs)(r.Fragment,{children:[c&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)(Q,{entity:"person",size:"w185",tmdbId:null===(t=i.summary)||void 0===t?void 0:t.ids.tmdb,type:"profile",children:function(t){return Object(r.jsx)("img",{alt:"poster",src:t})}}),Object(r.jsx)("pre",{children:JSON.stringify(i,null,2)})]})},zt=Object(x.a)((function(t){return t.profile.comments.entities}),(function(t){return t})),Tt=Object(x.a)((function(t){return t.profile.comments.pagination.total}),(function(t){return t})),At=Object(w.b)("profile/comments/fetch",function(){var t=Object(st.a)(it.a.mark((function t(e,n){var r,a;return it.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,ut.a.get("/trakt/users/".concat(Nt(),"/comments?page=").concat(e,"&limit=").concat(St));case 4:return a=t.sent,t.abrupt("return",{entities:a.data,total:parseInt(a.headers["x-pagination-page-count"])});case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",r(t.t0.toString()));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),Bt=Object(w.c)({extraReducers:Object(at.a)({},At.fulfilled,(function(t,e){t.entities=e.payload.entities,t.pagination.total=e.payload.total})),initialState:{entities:[],pagination:{total:0}},name:"profile/comments",reducers:{}}).reducer;var Gt=function(){var t=Object(j.b)(),e=wt(Tt),n=e.hasNextPage,c=e.hasPreviousPage,i=e.page,s=e.toFirstPage,o=e.toLastPage,u=e.toNextPage,l=e.toPreviousPage,p=Object(j.c)((function(t){return tt(t,"profile/comments/fetch")})),b=Object(j.c)(zt);return Object(a.useEffect)((function(){t(At(i))}),[t,i]),Object(r.jsxs)(r.Fragment,{children:[p&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)(yt,{disabled:p,hasNextPage:n,hasPreviousPage:c,onFirstPage:s,onLastPage:o,onNextPage:u,onPreviousPage:l}),Object(r.jsx)("pre",{children:JSON.stringify(b,null,2)})]})},Yt=Object(x.a)((function(t){return t.profile.list}),(function(t){return t})),Dt=Object(w.b)("list/fetch",function(){var t=Object(st.a)(it.a.mark((function t(e,n){var r,a,c,i,s;return it.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,Promise.all([ut.a.get("/trakt/lists/".concat(e)),ut.a.get("/trakt/lists/".concat(e,"/items"))]);case 4:return a=t.sent,c=Object(v.a)(a,2),i=c[0],s=c[1],t.abrupt("return",Object(E.a)(Object(E.a)({},i.data),{},{items:s.data}));case 11:return t.prev=11,t.t0=t.catch(1),t.abrupt("return",r(t.t0.toString()));case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e,n){return t.apply(this,arguments)}}()),_t=Object(w.c)({extraReducers:Object(at.a)({},Dt.fulfilled,(function(t,e){return e.payload})),initialState:{items:[]},name:"list",reducers:{}}).reducer;var Ht=function(){var t=Object(j.b)(),e=Object(p.j)().id,n=Object(j.c)((function(t){return tt(t,"list/fetch")})),c=Object(j.c)(Yt);return Object(a.useEffect)((function(){t(Dt(e))}),[t,e]),Object(r.jsxs)(r.Fragment,{children:[n&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)("pre",{children:JSON.stringify(c,null,2)})]})},Kt=Object(x.a)((function(t){return t.profile.lists}),(function(t){return t})),Qt=Object(w.b)("profile/lists/fetch",function(){var t=Object(st.a)(it.a.mark((function t(e,n){var r,a;return it.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,ut.a.get("/trakt/users/".concat(Nt(),"/lists"));case 4:return a=t.sent,t.abrupt("return",a.data);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",r(t.t0.toString()));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),Ut=Object(w.c)({extraReducers:Object(at.a)({},Qt.fulfilled,(function(t,e){return e.payload})),initialState:[],name:"profile/lists",reducers:{}}).reducer;var Xt=function(){var t=Object(j.b)(),e=Object(j.c)((function(t){return tt(t,"profile/lists/fetch")})),n=Object(j.c)(Kt);return Object(a.useEffect)((function(){t(Qt())}),[t]),Object(r.jsxs)(r.Fragment,{children:[e&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)("pre",{children:JSON.stringify(n,null,2)})]})};var Zt=function(){var t=Object(j.b)(),e=Object(j.c)((function(t){return tt(t,"profile/ratings/fetch")})),n=Object(j.c)(bt);return Object(a.useEffect)((function(){t(ft())}),[t]),Object(r.jsxs)(r.Fragment,{children:[e&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)("pre",{children:JSON.stringify(n,null,2)})]})},$t=Object(x.a)((function(t){return t.profile.recommendations}),(function(t){return t})),te=Object(w.b)("profile/recommendations/fetch",function(){var t=Object(st.a)(it.a.mark((function t(e,n){var r,a;return it.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,ut.a.get("/trakt/sync/recommendations");case 4:return a=t.sent,t.abrupt("return",a.data);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",r(t.t0.toString()));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),ee=Object(w.c)({extraReducers:Object(at.a)({},te.fulfilled,(function(t,e){return e.payload})),initialState:[],name:"profile/recommendations",reducers:{}}).reducer;var ne=function(){var t=Object(j.b)(),e=Object(j.c)((function(t){return tt(t,"profile/recommendations/fetch")})),n=Object(j.c)($t);return Object(a.useEffect)((function(){t(te())}),[t]),Object(r.jsxs)(r.Fragment,{children:[e&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)("pre",{children:JSON.stringify(n,null,2)})]})},re=Object(x.a)((function(t){return t.profile.watchlist}),(function(t){return t})),ae=Object(w.b)("profile/watchlist/fetch",function(){var t=Object(st.a)(it.a.mark((function t(e,n){var r,a;return it.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,ut.a.get("/trakt/sync/watchlist");case 4:return a=t.sent,t.abrupt("return",a.data);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",r(t.t0.toString()));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),ce=Object(w.c)({extraReducers:Object(at.a)({},ae.fulfilled,(function(t,e){return e.payload})),initialState:[],name:"profile/watchlist",reducers:{}}).reducer;var ie=function(){var t=Object(j.b)(),e=Object(j.c)((function(t){return tt(t,"profile/watchlist/fetch")})),n=Object(j.c)(re);return Object(a.useEffect)((function(){t(ae())}),[t]),Object(r.jsxs)(r.Fragment,{children:[e&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)("pre",{children:JSON.stringify(n,null,2)})]})},se=Object(x.a)((function(t){return t.search.entities}),(function(t){return t})),oe=Object(x.a)((function(t){return t.search.pagination.total}),(function(t){return t}));function ue(t){switch(t){case"movies":return"movie";case"shows":return"show";case"people":return"person";default:return"movie,show,person"}}var le=Object(w.b)("search/fetch",function(){var t=Object(st.a)(it.a.mark((function t(e,n){var r,a,c,i,s;return it.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.page,a=e.query,c=e.type,i=n.rejectWithValue,t.prev=2,t.next=5,ut.a.get("/trakt/search/".concat(ue(c),"?query=").concat(a,"&page=").concat(r,"&limit=").concat(St));case 5:return s=t.sent,t.abrupt("return",{entities:s.data,total:parseInt(s.headers["x-pagination-page-count"])});case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",i(t.t0.toString()));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,n){return t.apply(this,arguments)}}()),je=Object(w.c)({extraReducers:Object(at.a)({},le.fulfilled,(function(t,e){t.entities=e.payload.entities,t.pagination.total=e.payload.total})),initialState:{entities:[],pagination:{total:0}},name:"search",reducers:{}}).reducer;var pe,be=function(t){var e=t.type,n=Object(j.b)(),c=wt(oe),i=c.hasNextPage,s=c.hasPreviousPage,o=c.page,u=c.toFirstPage,l=c.toLastPage,p=c.toNextPage,d=c.toPreviousPage,f=Object(b.d)(),h=Object(v.a)(f,2),O=h[0],m=h[1],g=Object(a.useMemo)((function(){return Object.fromEntries(O)}),[O]).query,x=void 0===g?"":g,y=Object(j.c)((function(t){return tt(t,"search/fetch")})),w=Object(j.c)(se);return Object(a.useEffect)((function(){n(le({page:o,query:x,type:e}))}),[n,o,x,e]),Object(r.jsxs)(r.Fragment,{children:[y&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)(yt,{disabled:y,hasNextPage:i,hasPreviousPage:s,onFirstPage:u,onLastPage:l,onNextPage:p,onPreviousPage:d}),Object(r.jsxs)("div",{children:[Object(r.jsx)("label",{htmlFor:"query",children:"Input your query:"}),Object(r.jsx)("input",{id:"query",onChange:function(t){var e=t.target.value;m({query:e})},type:"text",value:x})]}),Object(r.jsx)("pre",{children:JSON.stringify(w,null,2)})]})},de=Object(x.a)((function(t){return t.show}),(function(t){return t})),fe=Object(w.b)("show/comments/fetch",function(){var t=Object(st.a)(it.a.mark((function t(e,n){var r,a,c,i,s;return it.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.limit,a=e.slug,c=e.sort,i=n.rejectWithValue,t.prev=2,t.next=5,ut.a.get("/trakt/shows/".concat(a,"/comments/").concat(c,"?page=1&limit=").concat(r));case 5:return s=t.sent,t.abrupt("return",s.data);case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",i(t.t0.toString()));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,n){return t.apply(this,arguments)}}()),he=Object(w.b)("show/fetch",function(){var t=Object(st.a)(it.a.mark((function t(e,n){var r,a,c,i,s,o,u,l,j,p;return it.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,Promise.all([ut.a.get("/trakt/shows/".concat(e)),ut.a.get("/trakt/shows/".concat(e,"/comments/highest")),ut.a.get("/trakt/shows/".concat(e,"/people")),ut.a.get("/trakt/shows/".concat(e,"/ratings")),ut.a.get("/trakt/shows/".concat(e,"/related")),ut.a.get("/trakt/shows/".concat(e,"/stats")),ut.a.get("/trakt/shows/".concat(e,"/seasons?extended=episodes"))]);case 4:return a=t.sent,c=Object(v.a)(a,7),i=c[0],s=c[1],o=c[2],u=c[3],l=c[4],j=c[5],p=c[6],t.abrupt("return",{comments:s.data,people:o.data,ratings:u.data,related:l.data,seasons:p.data,stats:j.data,summary:i.data});case 16:return t.prev=16,t.t0=t.catch(1),t.abrupt("return",r(t.t0.toString()));case 19:case"end":return t.stop()}}),t,null,[[1,16]])})));return function(e,n){return t.apply(this,arguments)}}()),Oe=Object(w.c)({extraReducers:(pe={},Object(at.a)(pe,fe.fulfilled,(function(t,e){t.comments=e.payload})),Object(at.a)(pe,he.fulfilled,(function(t,e){return e.payload})),pe),initialState:{comments:[],people:null,ratings:null,related:[],seasons:[],stats:null,summary:null},name:"show",reducers:{}}).reducer;var me=function(){var t,e=Object(a.useMemo)(et,[]),n=Object(j.b)(),c=Object(p.j)().slug,i=Object(j.c)((function(t){return e(t,["show/fetch","show/comments/fetch"])})),s=Object(j.c)(de),o=Object(j.c)((function(t){return dt(t,"show",c)}));return Object(a.useEffect)((function(){n(he(c))}),[n,c]),Object(r.jsxs)(r.Fragment,{children:[i&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)("button",{onClick:function(){n(fe({limit:s.stats.comments,slug:c,sort:"newest"}))},type:"button",children:"Fetch all comments"}),Object(r.jsx)(X,{onChange:function(t){n(mt({rating:t,slug:c}))},value:o}),Object(r.jsx)(Q,{entity:"show",size:"w154",tmdbId:null===(t=s.summary)||void 0===t?void 0:t.ids.tmdb,type:"poster",children:function(t){return Object(r.jsx)("img",{alt:"poster",src:t})}}),Object(r.jsx)("pre",{children:JSON.stringify(s,null,2)})]})},ge=Object(x.a)((function(t){return t.shows.entities}),(function(t){return t})),ve=Object(x.a)((function(t){return t.shows.pagination.total}),(function(t){return t})),xe=Object(w.b)("shows/fetch",function(){var t=Object(st.a)(it.a.mark((function t(e,n){var r,a,c,i;return it.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.category,a=e.page,c=n.rejectWithValue,t.prev=2,t.next=5,ut.a.get("/trakt/shows/".concat(r,"?page=").concat(a,"&limit=").concat(St));case 5:return i=t.sent,t.abrupt("return",{entities:i.data,total:parseInt(i.headers["x-pagination-page-count"])});case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",c(t.t0.toString()));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,n){return t.apply(this,arguments)}}()),ye=Object(w.c)({extraReducers:Object(at.a)({},xe.fulfilled,(function(t,e){t.entities=e.payload.entities,t.pagination.total=e.payload.total})),initialState:{entities:[],pagination:{total:0}},name:"shows",reducers:{}}).reducer;var we=function(t){var e=t.category,n=Object(j.b)(),c=wt(ve),i=c.hasNextPage,s=c.hasPreviousPage,o=c.page,u=c.toFirstPage,l=c.toLastPage,p=c.toNextPage,b=c.toPreviousPage,d=Object(j.c)((function(t){return tt(t,"shows/fetch")})),f=Object(j.c)(ge);return Object(a.useEffect)((function(){n(xe({category:e,page:o}))}),[e,n,o]),Object(r.jsxs)(r.Fragment,{children:[d&&Object(r.jsx)("div",{children:"Loading..."}),Object(r.jsx)(yt,{disabled:d,hasNextPage:i,hasPreviousPage:s,onFirstPage:u,onLastPage:l,onNextPage:p,onPreviousPage:b}),Object(r.jsx)("pre",{children:JSON.stringify(f,null,2)})]})};function Pe(t){return["/pending","/fulfilled","/rejected"].some((function(e){return t.type.endsWith(e)}))}var ke=Object(w.c)({extraReducers:function(t){t.addMatcher(Pe,(function(t,e){var n=e.type.split("/"),r=n.pop();t["".concat(n.join("/"))]="pending"===r}))},initialState:{},name:"loading",reducers:{}}).reducer,Se=n(24),Ne=Object(Se.c)({comments:Bt,list:_t,lists:Ut,ratings:vt,recommendations:ee,watchlist:ce}),Fe=Object(w.a)({reducer:{loading:ke,movie:pt,movies:Lt,notifications:L,person:qt,profile:Ne,search:je,show:Oe,shows:ye}});function Le(){return Object(r.jsxs)(p.e,{basename:"/app",children:[Object(r.jsx)(p.c,{element:Object(r.jsx)(p.a,{replace:!0,to:"movies/trending"}),path:"/"}),Object(r.jsxs)(p.c,{element:Object(r.jsx)(Y,{}),path:"/",children:[Object(r.jsxs)(p.c,{path:"movies",children:[Object(r.jsx)(p.c,{element:Object(r.jsx)(p.a,{replace:!0,to:"trending"}),path:"/"}),Object(r.jsx)(p.c,{element:Object(r.jsx)(Et,{category:"trending"}),path:"trending"}),Object(r.jsx)(p.c,{element:Object(r.jsx)(Et,{category:"popular"}),path:"popular"}),Object(r.jsx)(p.c,{element:Object(r.jsx)(Et,{category:"recommended"}),path:"recommended"}),Object(r.jsx)(p.c,{element:Object(r.jsx)(Et,{category:"watched"}),path:"watched"}),Object(r.jsx)(p.c,{element:Object(r.jsx)(Et,{category:"collected"}),path:"collected"}),Object(r.jsx)(p.c,{element:Object(r.jsx)(Et,{category:"anticipated"}),path:"anticipated"}),Object(r.jsx)(p.c,{element:Object(r.jsx)(xt,{}),path:":slug"})]}),Object(r.jsxs)(p.c,{path:"shows",children:[Object(r.jsx)(p.c,{element:Object(r.jsx)(p.a,{replace:!0,to:"trending"}),path:"/"}),Object(r.jsx)(p.c,{element:Object(r.jsx)(we,{category:"trending"}),path:"trending"}),Object(r.jsx)(p.c,{element:Object(r.jsx)(we,{category:"popular"}),path:"popular"}),Object(r.jsx)(p.c,{element:Object(r.jsx)(we,{category:"recommended"}),path:"recommended"}),Object(r.jsx)(p.c,{element:Object(r.jsx)(we,{category:"watched"}),path:"watched"}),Object(r.jsx)(p.c,{element:Object(r.jsx)(we,{category:"collected"}),path:"collected"}),Object(r.jsx)(p.c,{element:Object(r.jsx)(we,{category:"anticipated"}),path:"anticipated"}),Object(r.jsx)(p.c,{element:Object(r.jsx)(me,{}),path:":slug"})]}),Object(r.jsx)(p.c,{element:Object(r.jsx)(Mt,{}),path:"people/:slug"}),Object(r.jsxs)(p.c,{path:"search",children:[Object(r.jsx)(p.c,{element:Object(r.jsx)(p.a,{replace:!0,to:"all"}),path:"/"}),Object(r.jsx)(p.c,{element:Object(r.jsx)(be,{type:"all"}),path:"all"}),Object(r.jsx)(p.c,{element:Object(r.jsx)(be,{type:"movies"}),path:"movies"}),Object(r.jsx)(p.c,{element:Object(r.jsx)(be,{type:"shows"}),path:"shows"}),Object(r.jsx)(p.c,{element:Object(r.jsx)(be,{type:"people"}),path:"people"})]}),Object(r.jsxs)(p.c,{path:"profile",children:[Object(r.jsx)(p.c,{element:Object(r.jsx)(p.a,{replace:!0,to:"ratings"}),path:"/"}),Object(r.jsx)(p.c,{element:Object(r.jsx)(Zt,{}),path:"ratings"}),Object(r.jsx)(p.c,{element:Object(r.jsx)(ne,{}),path:"recommendations"}),Object(r.jsx)(p.c,{element:Object(r.jsx)(ie,{}),path:"watchlist"}),Object(r.jsxs)(p.c,{path:"lists",children:[Object(r.jsx)(p.c,{element:Object(r.jsx)(Xt,{}),path:"/"}),Object(r.jsx)(p.c,{element:Object(r.jsx)(Ht,{}),path:":id"})]}),Object(r.jsx)(p.c,{element:Object(r.jsx)(Gt,{}),path:"comments"})]})]}),Object(r.jsx)(p.c,{element:Object(r.jsx)(D,{}),path:"*"})]})}var Ie=Object(o.a)({palette:{type:"dark"}});var Re,We=function(){return Object(r.jsx)(j.a,{store:Fe,children:Object(r.jsx)(u.a,{theme:Ie,children:Object(r.jsxs)(b.a,{children:[Object(r.jsx)(l.a,{}),Object(r.jsx)(Le,{})]})})})};Re=function(){s.a.render(Object(r.jsx)(We,{}),document.getElementById("root"))},Fe.dispatch(ft()).then((function(){Re()}))}},[[113,1,2]]]);
//# sourceMappingURL=main.44fd0c49.chunk.js.map