(this["webpackJsonpmovie-tinder-frontend"]=this["webpackJsonpmovie-tinder-frontend"]||[]).push([[0],{136:function(t,e,n){},235:function(t,e,n){"use strict";n.r(e);var r=n(5),c=n.n(r),a=n(12),s=n(1),i=(n(136),n(0)),o=n.n(i),u=n(20),l=n.n(u),j=n(287),b=n(7),d=n(13),p=n(23),f=n(277),m=n(292),h=n(289),O=n(78),g=n(279),v=n(276),x=n(19),y=n(34),w=Object(y.a)((function(t){return t.notifications}),(function(t){return t})),k=n(6);function P(t){return t.type.endsWith("/rejected")}var S=Object(k.c)({extraReducers:function(t){t.addMatcher(P,(function(t,e){t[e.meta.requestId]=e.payload}))},initialState:{},name:"notifications",reducers:{createNotification:{prepare:function(t){return{payload:{id:Object(k.d)(),message:t}}},reducer:function(t,e){t[e.payload.id]=e.payload.message}},removeNotification:function(t,e){delete t[e.payload]}}}),N=S.actions,I=S.reducer,R=(N.createNotification,N.removeNotification),F=I;var L=function(t){var e=t.id,n=t.message,r=Object(b.b)();return Object(s.jsx)("div",{onClick:function(){r(R(e))},children:n})};var C=function(){var t=Object(b.c)(w);return Object.entries(t).map((function(t){var e=Object(x.a)(t,2),n=e[0],r=e[1];return Object(s.jsx)(L,{id:n,message:r},n)}))},W=n(269),V=Object(W.a)({drawerPaper:{width:256}}),E=n(15),z=n(237),M=n(272),A=20,J=40;function T(){return document.cookie.split("; ").reduce((function(t,e){var n=e.split("="),r=Object(x.a)(n,2),c=r[0],a=r[1];return t[c]=a,t}),{}).userSlug}function q(t){switch(t){case"movies":return"movie";case"shows":return"show";case"people":return"person";default:return"movie,show,person"}}var B=n(48),D=n(275),_=n(273),G=n(274),H=Object(W.a)((function(t){return{nestedListItemGutters:{paddingLeft:t.spacing(4)}}}));var Y=function(t){var e=t.children,n=t.listItemTextProps,r=Object(B.a)(t,["children","listItemTextProps"]),c=H(),a=Object(i.useState)(!1),u=Object(x.a)(a,2),l=u[0],j=u[1];return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(z.a,Object(E.a)(Object(E.a)({},r),{},{onClick:function(t){t.preventDefault(),j(!l)},children:[Object(s.jsx)(M.a,Object(E.a)({},n)),l?Object(s.jsx)(_.a,{}):Object(s.jsx)(G.a,{})]})),Object(s.jsx)(D.a,{in:l,children:Object(s.jsx)(v.a,{disablePadding:!0,children:o.a.Children.map(e,(function(t){return o.a.cloneElement(t,{classes:{gutters:c.nestedListItemGutters}})}))})})]})},K=[{nested:[{path:"movies/trending",title:"Trending"},{path:"movies/popular",title:"Popular"},{path:"movies/recommended",title:"Recommended"},{path:"movies/watched",title:"Watched"},{path:"movies/anticipated",title:"Anticipated"}],title:"Movies"},{nested:[{path:"shows/trending",title:"Trending"},{path:"shows/popular",title:"Popular"},{path:"shows/recommended",title:"Recommended"},{path:"shows/watched",title:"Watched"},{path:"shows/anticipated",title:"Anticipated"}],title:"Shows"},{nested:[{path:"users/".concat(T(),"/ratings"),title:"Ratings"},{path:"users/".concat(T(),"/recommendations"),title:"Recommendations"},{path:"users/".concat(T(),"/watchlist"),title:"Watchlist"},{path:"users/".concat(T(),"/lists"),title:"Lists"},{path:"users/".concat(T(),"/comments"),title:"Comments"}],title:"Profile"},{nested:[{path:"search/all",title:"All"},{path:"search/movies",title:"Movies"},{path:"search/shows",title:"Shows"},{path:"search/people",title:"People"}],title:"Search"}];var Q=function(){var t=V();return Object(s.jsxs)(f.a,{children:[Object(s.jsxs)(m.a,{anchor:"left",classes:{paper:t.drawerPaper},color:"",variant:"permanent",children:[Object(s.jsxs)(h.a,{px:2,py:1,children:[Object(s.jsx)(O.a,{variant:"h6",children:"Traktor"}),Object(s.jsx)(O.a,{variant:"caption",children:"v0.1"})]}),Object(s.jsx)(g.a,{}),Object(s.jsx)(v.a,{disablePadding:!0,children:K.map((function(t){var e=t.nested,n=t.path,r=t.title,c={activeClassName:"Mui-selected",button:!0,component:p.c,key:r,to:n};if(!e&&n)return Object(s.jsx)(z.a,Object(E.a)(Object(E.a)({},c),{},{children:Object(s.jsx)(M.a,{primary:r})}));var a=e.map((function(t){var e=t.path,n=t.title;return Object(i.createElement)(z.a,Object(E.a)(Object(E.a)({},c),{},{key:n,to:e}),Object(s.jsx)(M.a,{primary:n}))})),o={button:!0,key:r,listItemTextProps:{primary:r}};return Object(s.jsx)(Y,Object(E.a)(Object(E.a)({},o),{},{children:a}))}))})]}),Object(s.jsxs)(h.a,{ml:32,children:[Object(s.jsx)(C,{}),Object(s.jsx)(d.b,{})]})]})};var U=function(){return Object(s.jsx)("h1",{children:"404 not found"})},X=n(280),Z=n(278),$=n(294),tt=n(281),et=n(282),nt=n(283),rt=n(119),ct=n.n(rt),at=n(120),st=n.n(at);function it(t){return t.loading}function ot(t,e){return e}var ut=Object(y.a)([it,ot],(function(t,e){return Boolean(t[e])}));function lt(){return Object(y.a)([it,ot],(function(t,e){return Object.keys(t).filter((function(t){return e.includes(t)})).some((function(e){return t[e]}))}))}var jt,bt=n(11),dt=n(10),pt=n.n(dt),ft=Object(k.b)("users/comments/fetch",function(){var t=Object(a.a)(c.a.mark((function t(e,n){var r,a,s,i,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.page,a=e.userSlug,s=void 0===a?T():a,i=n.rejectWithValue,t.prev=2,t.next=5,pt.a.get("/trakt/users/".concat(s,"/comments?page=").concat(r,"&limit=").concat(J));case 5:return o=t.sent,t.abrupt("return",{entities:o.data,total:parseInt(o.headers["x-pagination-page-count"])});case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",i(t.t0.toString()));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,n){return t.apply(this,arguments)}}()),mt=Object(k.b)("users/comments/post",function(){var t=Object(a.a)(c.a.mark((function t(e,n){var r,a,s,i,o,u,l,j;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.comment,a=e.entity,s=e.slug,i=e.spoiler,o=void 0!==i&&i,u=n.rejectWithValue,a=q(a),t.prev=3,t.next=6,pt.a.post("/trakt/comments",(l={comment:r},Object(bt.a)(l,a,{ids:{slug:s}}),Object(bt.a)(l,"spoiler",o),l));case 6:return j=t.sent,t.abrupt("return",j.data);case 10:return t.prev=10,t.t0=t.catch(3),t.abrupt("return",u(t.t0.toString()));case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e,n){return t.apply(this,arguments)}}()),ht=Object(k.b)("users/comments/remove",function(){var t=Object(a.a)(c.a.mark((function t(e,n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,pt.a.delete("/trakt/comments/".concat(e));case 4:t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(1),t.abrupt("return",r(t.t0.toString()));case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n){return t.apply(this,arguments)}}()),Ot=Object(k.b)("users/comments/update",function(){var t=Object(a.a)(c.a.mark((function t(e,n){var r,a,s,i,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.comment,a=e.id,s=e.spoiler,i=n.rejectWithValue,t.prev=2,t.next=5,pt.a.put("/trakt/comments/".concat(a),{comment:r,spoiler:s});case 5:return o=t.sent,t.abrupt("return",o.data);case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",i(t.t0.toString()));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,n){return t.apply(this,arguments)}}()),gt=Object(k.c)({extraReducers:(jt={},Object(bt.a)(jt,ft.fulfilled,(function(t,e){t.entities=e.payload.entities,t.pagination.total=e.payload.total})),Object(bt.a)(jt,ht.fulfilled,(function(t,e){var n=e.meta.arg,r=t.entities.findIndex((function(t){return t.comment.id===n}));-1!==r&&t.entities.splice(r,1)})),Object(bt.a)(jt,Ot.fulfilled,(function(t,e){var n=t.entities.findIndex((function(t){return t.comment.id===e.payload.id}));-1!==n&&(t.entities[n].comment=e.payload)})),jt),initialState:{entities:[],pagination:{total:0}},name:"users/comments",reducers:{}}).reducer;var vt=function(t){var e=t.comment,n=void 0===e?"":e,r=t.onSubmit,c=t.spoiler,a=void 0!==c&&c,o=Object(i.useState)({comment:n,spoiler:a}),u=Object(x.a)(o,2),l=u[0],j=u[1];function b(){j({comment:n,spoiler:a})}return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("label",{htmlFor:"comment",children:"Type your comment"}),Object(s.jsx)("br",{}),Object(s.jsx)("textarea",{id:"comment",onChange:function(t){var e=t.target.value;j(Object(E.a)(Object(E.a)({},l),{},{comment:e}))},value:l.comment}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{checked:l.spoiler,id:"spoiler",onChange:function(t){var e=t.target.checked;j(Object(E.a)(Object(E.a)({},l),{},{spoiler:e}))},type:"checkbox"}),Object(s.jsx)("label",{htmlFor:"spoiler",children:"Is this spoiler?"}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{onClick:function(){r({comment:l.comment,reset:b,spoiler:l.spoiler})},type:"button",children:"Submit"})]})},xt=Object(W.a)({listItemRoot:{"&:not(:last-child)":{marginBottom:8}}});var yt=function(t){var e=t.comment,n=t.createdAt,r=t.id,c=t.review,a=t.spoiler,o=t.username,u=t.userRating,l=t.userSlug,j=Object(i.useMemo)(lt,[]),d=xt(),p=Object(b.b)(),m=Object(b.c)((function(t){return j(t,["users/comments/remove","users/comments/update"])})),h=Object(i.useState)(null),g=Object(x.a)(h,2),v=g[0],y=g[1],w=T()===l,k="editing"===v,P="removing"===v;return Object(s.jsxs)(s.Fragment,{children:[m&&(k||P)&&Object(s.jsx)(X.a,{}),Object(s.jsx)(z.a,{classes:{root:d.listItemRoot},component:Z.a,children:Object(s.jsx)(M.a,{primary:Object(s.jsxs)(f.a,{container:!0,justify:"space-between",children:[Object(s.jsxs)(f.a,{item:!0,children:[Object(s.jsxs)(O.a,{display:"inline",variant:"body2",children:[c?"Review":"Shout"," by ",o]}),Object(s.jsxs)(O.a,{display:"inline",variant:"caption",children:[" | ".concat(new Date(n).toLocaleString("da-Dk")," \n                ").concat(u?"| rated ".concat(u," stars"):""),a&&Object(s.jsxs)(s.Fragment,{children:[" | "," ",Object(s.jsx)($.a,{label:"Spoiler",size:"small"})]})]})]}),w&&Object(s.jsxs)(f.a,{item:!0,children:[Object(s.jsx)(tt.a,{onClick:function(){y(k?"default":"editing")},size:"small",children:Object(s.jsx)(et.a,{fontSize:"small"})}),Object(s.jsx)(tt.a,{onClick:function(){y("removing"),p(ht(r))},size:"small",children:Object(s.jsx)(nt.a,{fontSize:"small"})})]})]}),secondary:k?Object(s.jsx)(vt,{comment:e,onSubmit:function(t){t.reset;var e=Object(B.a)(t,["reset"]);p(Ot(Object(E.a)(Object(E.a)({},e),{},{id:r}))).then((function(){return y("default")}))},spoiler:a}):Object(s.jsx)(st.a,{allowDangerousHtml:!0,children:ct.a.shortnameToImage(e)}),secondaryTypographyProps:{component:"div"}})})]})};function wt(t){var e={comment:t.comment,createdAt:t.created_at,id:t.id,review:t.review,spoiler:t.spoiler,username:t.user.username,userRating:t.user_rating,userSlug:t.user.ids.slug},n=e.id;return Object(s.jsx)(yt,Object(E.a)({},e),n)}var kt=[["highest","Highest"],["newest","Newest"],["likes","Likes"]],Pt=n(288),St=n(284);var Nt=function(t){var e=t.onChange,n=t.value;return Object(s.jsx)(Pt.a,{fullWidth:!0,label:"Sort comments by",onChange:function(t){var n=t.target.value;e(n)},select:!0,size:"small",value:n,variant:"outlined",children:kt.map((function(t){var e=Object(x.a)(t,2),n=e[0],r=e[1];return Object(s.jsx)(St.a,{value:n,children:r},n)}))})};var It=function(t){var e=t.disabled,n=t.hasNextPage,r=t.hasPreviousPage,c=t.onFirstPage,a=t.onLastPage,i=t.onNextPage,o=t.onPreviousPage;return Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{disabled:e,onClick:c,type:"button",children:"First page"}),Object(s.jsx)("button",{disabled:e||!r,onClick:o,type:"button",children:"Previous page"}),Object(s.jsx)("button",{disabled:e||!n,onClick:i,type:"button",children:"Next page"}),Object(s.jsx)("button",{disabled:e,onClick:a,type:"button",children:"Last page"})]})};var Rt,Ft,Lt,Ct=function(t){var e=Object(p.d)(),n=Object(x.a)(e,2),r=n[0],c=n[1],a=Object(i.useMemo)((function(){return Object.fromEntries(r)}),[r]),s=a.page,o=void 0===s?"1":s,u=Object(B.a)(a,["page"]),l=Object(b.c)(t);return{hasNextPage:parseInt(o)<l,hasPreviousPage:parseInt(o)>1,page:o,toFirstPage:function(){c(Object(E.a)({page:1},u))},toLastPage:function(){c(Object(E.a)({page:l},u))},toNextPage:function(){c(Object(E.a)({page:parseInt(o)+1},u))},toPreviousPage:function(){c(Object(E.a)({page:parseInt(o)-1},u))}}},Wt=Object(y.a)((function(t){return t.comments.entities}),(function(t){return t})),Vt=Object(y.a)((function(t){return t.comments.pagination.total}),(function(t){return t})),Et=Object(k.b)("movie/fetch",function(){var t=Object(a.a)(c.a.mark((function t(e,n){var r,a,s,i,o,u,l,j,b;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,Promise.all([pt.a.get("/trakt/movies/".concat(e,"/stats")),pt.a.get("/trakt/movies/".concat(e)),pt.a.get("/trakt/movies/".concat(e,"/comments/highest")),pt.a.get("/trakt/movies/".concat(e,"/people")),pt.a.get("/trakt/movies/".concat(e,"/ratings")),pt.a.get("/trakt/movies/".concat(e,"/related"))]);case 4:return a=t.sent,s=Object(x.a)(a,6),i=s[0],o=s[1],u=s[2],l=s[3],j=s[4],b=s[5],t.abrupt("return",{comments:u.data,people:l.data,ratings:j.data,related:b.data,stats:i.data,summary:o.data});case 15:return t.prev=15,t.t0=t.catch(1),t.abrupt("return",r(t.t0.toString()));case 18:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e,n){return t.apply(this,arguments)}}()),zt=Object(k.c)({extraReducers:(Rt={},Object(bt.a)(Rt,ht.fulfilled,(function(t,e){var n=e.meta.arg,r=t.comments.findIndex((function(t){return t.id===n}));-1!==r&&t.comments.splice(r,1)})),Object(bt.a)(Rt,Et.fulfilled,(function(t,e){return e.payload})),Object(bt.a)(Rt,Ot.fulfilled,(function(t,e){var n=t.comments.findIndex((function(t){return t.id===e.payload.id}));-1!==n&&(t.comments[n]=e.payload)})),Rt),initialState:{comments:[],people:null,ratings:null,related:[],stats:null,summary:null},name:"movie",reducers:{}}).reducer,Mt=Object(k.b)("show/fetch",function(){var t=Object(a.a)(c.a.mark((function t(e,n){var r,a,s,i,o,u,l,j,b,d;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,Promise.all([pt.a.get("/trakt/shows/".concat(e)),pt.a.get("/trakt/shows/".concat(e,"/comments/highest")),pt.a.get("/trakt/shows/".concat(e,"/people")),pt.a.get("/trakt/shows/".concat(e,"/ratings")),pt.a.get("/trakt/shows/".concat(e,"/related")),pt.a.get("/trakt/shows/".concat(e,"/stats")),pt.a.get("/trakt/shows/".concat(e,"/seasons?extended=episodes"))]);case 4:return a=t.sent,s=Object(x.a)(a,7),i=s[0],o=s[1],u=s[2],l=s[3],j=s[4],b=s[5],d=s[6],t.abrupt("return",{comments:o.data,people:u.data,ratings:l.data,related:j.data,seasons:d.data,stats:b.data,summary:i.data});case 16:return t.prev=16,t.t0=t.catch(1),t.abrupt("return",r(t.t0.toString()));case 19:case"end":return t.stop()}}),t,null,[[1,16]])})));return function(e,n){return t.apply(this,arguments)}}()),At=Object(k.c)({extraReducers:(Ft={},Object(bt.a)(Ft,Mt.fulfilled,(function(t,e){return e.payload})),Object(bt.a)(Ft,ht.fulfilled,(function(t,e){var n=e.meta.arg,r=t.comments.findIndex((function(t){return t.id===n}));-1!==r&&t.comments.splice(r,1)})),Object(bt.a)(Ft,Ot.fulfilled,(function(t,e){var n=t.comments.findIndex((function(t){return t.id===e.payload.id}));-1!==n&&(t.comments[n]=e.payload)})),Ft),initialState:{comments:[],people:null,ratings:null,related:[],seasons:[],stats:null,summary:null},name:"show",reducers:{}}).reducer,Jt=Object(k.b)("comments/fetch",function(){var t=Object(a.a)(c.a.mark((function t(e,n){var r,a,s,i,o,u;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.entity,a=e.page,s=e.slug,i=e.sort,o=n.rejectWithValue,t.prev=2,t.next=5,pt.a.get("/trakt/".concat(r,"/").concat(s,"/comments/").concat(i,"?page=").concat(a,"&limit=").concat(A));case 5:return u=t.sent,t.abrupt("return",{entities:u.data,total:parseInt(u.headers["x-pagination-page-count"])});case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",o(t.t0.toString()));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,n){return t.apply(this,arguments)}}());var Tt=Object(k.c)({extraReducers:(Lt={},Object(bt.a)(Lt,Jt.fulfilled,(function(t,e){t.entities=e.payload.entities,t.pagination.total=e.payload.total})),Object(bt.a)(Lt,mt.fulfilled,(function(t,e){t.entities.unshift(e.payload)})),Object(bt.a)(Lt,ht.fulfilled,(function(t,e){var n=e.meta.arg,r=t.entities.findIndex((function(t){return t.id===n}));-1!==r&&t.entities.splice(r,1)})),Object(bt.a)(Lt,Ot.fulfilled,(function(t,e){var n=t.entities.findIndex((function(t){return t.id===e.payload.id}));-1!==n&&(t.entities[n]=e.payload)})),Lt),initialState:{entities:[],pagination:{total:0}},name:"comments",reducers:{}}).reducer,qt=Object(y.a)((function(t){return t.movie}),(function(t){return t})),Bt=Object(y.a)((function(t){return t.show}),(function(t){return t}));var Dt,_t=function(t){var e=t.entity,n=Object(i.useMemo)(lt,[]),r=Object(i.useRef)(!0),o=Object(d.j)().slug,u=Object(b.b)(),l=Ct(Vt),j=l.hasNextPage,p=l.hasPreviousPage,f=l.page,m=l.toFirstPage,h=l.toLastPage,O=l.toNextPage,g=l.toPreviousPage,v=Object(b.c)("movies"===e?qt:Bt),y=v.stats,w=v.summary,k=Object(b.c)(Wt),P=Object(b.c)((function(t){return n(t,["comments/fetch","movie/fetch","show/fetch"])})),S=Object(i.useState)("highest"),N=Object(x.a)(S,2),I=N[0],R=N[1];return Object(i.useEffect)((function(){if(r.current)return r.current=!1,void u(function(t){var e=t.entity,n=t.slug,r="movies"===e?Et:Mt;return function(){var e=Object(a.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([a(r(n)),a(Jt(t))]);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}({entity:e,page:f,slug:o,sort:"highest"}));u(Jt({entity:e,page:f,slug:o,sort:I}))}),[u,e,f,o,I]),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{children:"Summary"}),Object(s.jsx)("pre",{children:JSON.stringify(w,null,2)}),Object(s.jsx)("h1",{children:"Stats"}),Object(s.jsx)("pre",{children:JSON.stringify(y,null,2)}),Object(s.jsx)("h1",{children:"Comments"}),P&&Object(s.jsx)("div",{children:"Loading..."}),Object(s.jsx)(Nt,{onChange:R,value:I}),Object(s.jsx)(It,{disabled:P,hasNextPage:j,hasPreviousPage:p,onFirstPage:m,onLastPage:h,onNextPage:O,onPreviousPage:g}),Object(s.jsx)(vt,{onSubmit:function(t){var n=t.reset,r=Object(B.a)(t,["reset"]);u(mt(Object(E.a)(Object(E.a)({},r),{},{entity:e,slug:o}))).then(n)}}),k.map((function(t){return wt(t)}))]})},Gt=n(295),Ht=n(285),Yt=n(286),Kt=n(291),Qt=Object(k.b)("users/lists/fetch",Object(a.a)(c.a.mark((function t(){var e,n,r,a,s,i=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:T(),n=i.length>1?i[1]:void 0,r=n.rejectWithValue,t.prev=2,t.next=5,pt.a.get("/trakt/users/".concat(e,"/lists"));case 5:return a=t.sent,t.next=8,Promise.all(a.data.map((function(t){return pt.a.get("/trakt/users/".concat(e,"/lists/").concat(t.ids.slug,"/items"))})));case 8:return s=t.sent,t.abrupt("return",a.data.map((function(t,e){return Object(E.a)(Object(E.a)({},t),{},{items:s[e].data})})));case 12:return t.prev=12,t.t0=t.catch(2),t.abrupt("return",r(t.t0.toString()));case 15:case"end":return t.stop()}}),t,null,[[2,12]])})))),Ut=Object(k.b)("users/lists/add",function(){var t=Object(a.a)(c.a.mark((function t(e,n){var r,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,pt.a.post("/trakt/users/".concat(T(),"/lists"),e);case 4:return a=t.sent,t.abrupt("return",a.data);case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",r(t.t0.toString()));case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e,n){return t.apply(this,arguments)}}()),Xt=Object(k.b)("users/lists/remove",function(){var t=Object(a.a)(c.a.mark((function t(e,n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,pt.a.delete("/trakt/users/".concat(T(),"/lists/").concat(e));case 4:t.next=9;break;case 6:return t.prev=6,t.t0=t.catch(1),t.abrupt("return",r(t.t0.toString()));case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e,n){return t.apply(this,arguments)}}()),Zt=Object(k.c)({extraReducers:(Dt={},Object(bt.a)(Dt,Ut.fulfilled,(function(t,e){t.push(e.payload)})),Object(bt.a)(Dt,Qt.fulfilled,(function(t,e){return e.payload})),Object(bt.a)(Dt,Xt.fulfilled,(function(t,e){var n=e.meta.arg,r=t.findIndex((function(t){return t.ids.slug===n}));t.splice(r,1)})),Dt),initialState:[],name:"users/lists",reducers:{}}).reducer,$t=Object(k.b)("users/list/fetch",function(){var t=Object(a.a)(c.a.mark((function t(e,n){var r,a,s,i,o,u,l,j;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.id,a=e.userSlug,s=void 0===a?T():a,i=n.rejectWithValue,t.prev=2,t.next=5,Promise.all([pt.a.get("/trakt/users/".concat(s,"/lists/").concat(r)),pt.a.get("/trakt/users/".concat(s,"/lists/").concat(r,"/items"))]);case 5:return o=t.sent,u=Object(x.a)(o,2),l=u[0],j=u[1],t.abrupt("return",Object(E.a)(Object(E.a)({},l.data),{},{items:j.data}));case 12:return t.prev=12,t.t0=t.catch(2),t.abrupt("return",i(t.t0.toString()));case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e,n){return t.apply(this,arguments)}}()),te=Object(k.b)("users/list/remove",function(){var t=Object(a.a)(c.a.mark((function t(e,n){var r,a,s,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.entity,a=e.listSlug,s=e.slug,i=n.rejectWithValue,t.prev=2,t.next=5,pt.a.post("/trakt/users/".concat(T(),"/lists/").concat(a,"/items/remove"),Object(bt.a)({},r,[{ids:{slug:s}}]));case 5:t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(2),t.abrupt("return",i(t.t0.toString()));case 10:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e,n){return t.apply(this,arguments)}}()),ee=Object(k.b)("users/list/add",function(){var t=Object(a.a)(c.a.mark((function t(e,n){var r,a,s,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.entity,a=e.listSlug,s=e.slug,i=n.rejectWithValue,t.prev=2,t.next=5,pt.a.post("/trakt/users/".concat(T(),"/lists/").concat(a,"/items"),Object(bt.a)({},r,[{ids:{slug:s}}]));case 5:t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(2),t.abrupt("return",i(t.t0.toString()));case 10:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e,n){return t.apply(this,arguments)}}());function ne(t){return function(){var e=Object(a.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(ee(t));case 2:return e.next=4,n(Qt());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function re(t){return function(){var e=Object(a.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(te(t));case 2:return e.next=4,n(Qt());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var ce=Object(k.c)({extraReducers:Object(bt.a)({},$t.fulfilled,(function(t,e){return e.payload})),initialState:{items:[]},name:"list",reducers:{}}).reducer,ae=Object(y.a)((function(t){return t.users.lists}),(function(t){return t}));function se(){return Object(y.a)((function(t){return t.users.lists}),(function(t,e){return e}),(function(t,e,n){return n}),(function(t,e,n){return e=q(e),t.map((function(t){return{listed:t.items.some((function(t){return t.type===e&&t[e].ids.slug===n})),name:t.name,slug:t.ids.slug}}))}))}var ie=Object(W.a)({listItemActionRoot:{minWidth:32}});var oe=function(t){var e=t.children,n=t.entity,r=t.slug,c=ie(),a=Object(b.b)(),o=Object(i.useMemo)(se,[]),u=Object(i.useMemo)(lt,[]),l=Object(b.c)((function(t){return u(t,["users/list/add","users/list/remove"])})),j=Object(b.c)((function(t){return o(t,n,r)})),d=Object(i.useState)(null),p=Object(x.a)(d,2),f=p[0],m=p[1],h=Object(i.useMemo)((function(){return j.filter((function(t){return t.listed})).length}),[j]),O=Boolean(f),g=Object(i.useState)({}),y=Object(x.a)(g,2),w=y[0],k=y[1];function P(t,e,n){return function(){var c=ne,s=!0;e&&(c=re,s=!1),a(c({entity:t,listSlug:n,slug:r})),k(Object(E.a)(Object(E.a)({},w),{},Object(bt.a)({},n,s)))}}return Object(s.jsxs)(s.Fragment,{children:[e((function(t){m(t.currentTarget)}),h),Object(s.jsxs)(Gt.a,{anchorEl:f,anchorOrigin:{horizontal:"center",vertical:"bottom"},onClose:function(){m(null)},open:O,transformOrigin:{horizontal:"center",vertical:"top"},children:[l&&Object(s.jsx)(X.a,{}),Object(s.jsx)(v.a,{dense:!0,subheader:Object(s.jsxs)(Ht.a,{children:["Listed on ",h," of ",j.length," lists"]}),children:j.map((function(t){var e=t.listed,r=t.name,a=t.slug;return Object(s.jsxs)(z.a,{button:!0,disabled:l,onClick:P(n,e,a),children:[Object(s.jsx)(Yt.a,{classes:{root:c.listItemActionRoot},children:Object(s.jsx)(Kt.a,{checked:a in w?w[a]:e,disableRipple:!0,edge:"start",size:"small"})}),Object(s.jsx)(M.a,{children:r})]},a)}))})]})]})},ue=n(9),le=n.n(ue);function je(t){var e=t.children,n=t.entity,r=t.season,c=t.size,a=t.tmdbId,s=t.type;if(n=q(n),!a)return null;var i="/images/".concat(n,"/").concat(a,"/").concat(s,"?");return r&&(i+="season=".concat(r)),c&&(i+="size=".concat(c)),e(i)}je.propTypes={children:le.a.func.isRequired,entity:le.a.oneOf(["movies","people","shows"]).isRequired,season:le.a.number,size:le.a.string,tmdbId:le.a.number,type:le.a.oneOf(["backdrop","poster","profile"])};var be=je,de=n(293);var pe=function(t){var e=t.onChange,n=t.value,r=void 0===n?0:n,c=Object(i.useState)(r),a=Object(x.a)(c,2),o=a[0],u=a[1];return Object(s.jsx)(de.a,{max:10,name:"_",onChange:function(t,n){u(n),e(n)},value:o})},fe=Object(y.a)((function(t){return t.users.ratings}),(function(t){return t})),me=Object(y.a)([function(t){return t.users.ratings},function(t,e){return q(e)},function(t,e,n){return n}],(function(t,e,n){var r=t.find((function(t){return t.type===e&&t[e].ids.slug===n}));return r?r.rating:0})),he=Object(k.b)("users/ratings/fetch",Object(a.a)(c.a.mark((function t(){var e,n,r,a,s=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:T(),n=s.length>1?s[1]:void 0,r=n.rejectWithValue,t.prev=2,t.next=5,pt.a.get("/trakt/users/".concat(e,"/ratings"));case 5:return a=t.sent,t.abrupt("return",a.data);case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",r(t.t0.toString()));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))),Oe=Object(k.b)("users/ratings/rate",function(){var t=Object(a.a)(c.a.mark((function t(e,n){var r,a,s,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.entity,a=e.rating,s=e.slug,i=n.rejectWithValue,t.prev=2,t.next=5,pt.a.post("/trakt/sync/ratings",Object(bt.a)({},r,[{ids:{slug:s},rating:a}]));case 5:t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(2),t.abrupt("return",i(t.t0.toString()));case 10:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e,n){return t.apply(this,arguments)}}()),ge=(Object(k.b)("users/ratings/remove",function(){var t=Object(a.a)(c.a.mark((function t(e,n){var r,a,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.entity,a=e.slug,s=n.rejectWithValue,t.prev=2,t.next=5,pt.a.post("/trakt/sync/ratings/remove",Object(bt.a)({},r,[{ids:{slug:a}}]));case 5:t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(2),t.abrupt("return",s(t.t0.toString()));case 10:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e,n){return t.apply(this,arguments)}}()),Object(k.c)({extraReducers:Object(bt.a)({},he.fulfilled,(function(t,e){return e.payload})),initialState:[],name:"users/ratings",reducers:{}}).reducer),ve=Object(y.a)((function(t){return t.users.recommendations}),(function(t){return t})),xe=Object(y.a)([function(t){return t.users.recommendations},function(t,e){return q(e)},function(t,e,n){return n}],(function(t,e,n){var r=t.find((function(t){return t.type===e&&t[e].ids.slug===n}));return Boolean(r)})),ye=Object(k.b)("users/recommendations/fetch",Object(a.a)(c.a.mark((function t(){var e,n,r,a,s=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:T(),n=s.length>1?s[1]:void 0,r=n.rejectWithValue,t.prev=2,t.next=5,pt.a.get("/trakt/users/".concat(e,"/recommendations"));case 5:return a=t.sent,t.abrupt("return",a.data);case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",r(t.t0.toString()));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))),we=Object(k.b)("users/recommendation/recommend",function(){var t=Object(a.a)(c.a.mark((function t(e,n){var r,a,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.entity,a=e.slug,s=n.rejectWithValue,t.prev=2,t.next=5,pt.a.post("/trakt/sync/recommendations",Object(bt.a)({},r,[{ids:{slug:a}}]));case 5:t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(2),t.abrupt("return",s(t.t0.toString()));case 10:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e,n){return t.apply(this,arguments)}}()),ke=Object(k.b)("users/recommendation/unrecommend",function(){var t=Object(a.a)(c.a.mark((function t(e,n){var r,a,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.entity,a=e.slug,s=n.rejectWithValue,t.prev=2,t.next=5,pt.a.post("/trakt/sync/recommendations/remove",Object(bt.a)({},r,[{ids:{slug:a}}]));case 5:t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(2),t.abrupt("return",s(t.t0.toString()));case 10:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e,n){return t.apply(this,arguments)}}());function Pe(t){return function(){var e=Object(a.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(we(t));case 2:return e.next=4,n(ye());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function Se(t){return function(){var e=Object(a.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(ke(t));case 2:return e.next=4,n(ye());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var Ne=Object(k.c)({extraReducers:Object(bt.a)({},ye.fulfilled,(function(t,e){return e.payload})),initialState:[],name:"users/recommendations",reducers:{}}).reducer,Ie=Object(y.a)((function(t){return t.users.watchlist}),(function(t){return t})),Re=Object(y.a)([function(t){return t.users.watchlist},function(t,e){return q(e)},function(t,e,n){return n}],(function(t,e,n){var r=t.find((function(t){return t.type===e&&t[e].ids.slug===n}));return Boolean(r)})),Fe=Object(k.b)("users/watchlist/fetch",Object(a.a)(c.a.mark((function t(){var e,n,r,a,s=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=s.length>0&&void 0!==s[0]?s[0]:T(),n=s.length>1?s[1]:void 0,r=n.rejectWithValue,t.prev=2,t.next=5,pt.a.get("/trakt/users/".concat(e,"/watchlist"));case 5:return a=t.sent,t.abrupt("return",a.data);case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",r(t.t0.toString()));case 12:case"end":return t.stop()}}),t,null,[[2,9]])})))),Le=Object(k.b)("users/watchlist/add",function(){var t=Object(a.a)(c.a.mark((function t(e,n){var r,a,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.entity,a=e.slug,s=n.rejectWithValue,t.prev=2,t.next=5,pt.a.post("/trakt/sync/watchlist",Object(bt.a)({},r,[{ids:{slug:a}}]));case 5:t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(2),t.abrupt("return",s(t.t0.toString()));case 10:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e,n){return t.apply(this,arguments)}}()),Ce=Object(k.b)("users/watchlist/remove",function(){var t=Object(a.a)(c.a.mark((function t(e,n){var r,a,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.entity,a=e.slug,s=n.rejectWithValue,t.prev=2,t.next=5,pt.a.post("/trakt/sync/watchlist/remove",Object(bt.a)({},r,[{ids:{slug:a}}]));case 5:t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(2),t.abrupt("return",s(t.t0.toString()));case 10:case"end":return t.stop()}}),t,null,[[2,7]])})));return function(e,n){return t.apply(this,arguments)}}());function We(t){return function(){var e=Object(a.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(Le(t));case 2:return e.next=4,n(Fe());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}function Ve(t){return function(){var e=Object(a.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(Ce(t));case 2:return e.next=4,n(Fe());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var Ee=Object(k.c)({extraReducers:Object(bt.a)({},Fe.fulfilled,(function(t,e){return e.payload})),initialState:[],name:"users/watchlist",reducers:{}}).reducer;var ze=function(){var t,e=Object(b.b)(),n=Object(d.j)().slug,r=Object(b.c)((function(t){return ut(t,"movie/fetch")})),c=Object(b.c)(qt),a=Object(b.c)((function(t){return me(t,"movies",n)})),o=Object(b.c)((function(t){return xe(t,"movies",n)})),u=Object(b.c)((function(t){return Re(t,"movies",n)}));return Object(i.useEffect)((function(){e(Et(n))}),[e,n]),Object(s.jsxs)(s.Fragment,{children:[r&&Object(s.jsx)("div",{children:"Loading..."}),Object(s.jsx)(oe,{entity:"movies",slug:n,children:function(t,e){return Object(s.jsx)("button",{onClick:t,type:"button",children:e?"Listed on ".concat(e," list(s)"):"Add to list"})}}),Object(s.jsx)("button",{onClick:function(){e(u?Ve({entity:"movies",slug:n}):We({entity:"movies",slug:n}))},type:"button",children:u?"Remove from watchlist":"Add to watchlit"}),Object(s.jsx)("button",{onClick:function(){e(o?Se({entity:"movies",slug:n}):Pe({entity:"movies",slug:n}))},type:"button",children:o?"Remove recommendation":"Recommend"}),Object(s.jsx)(pe,{onChange:function(t){e(Oe({entity:"movies",rating:t,slug:n}))},value:a}),Object(s.jsx)(be,{entity:"movies",size:"w154",tmdbId:null===(t=c.summary)||void 0===t?void 0:t.ids.tmdb,type:"poster",children:function(t){return Object(s.jsx)("img",{alt:"poster",src:t})}}),Object(s.jsx)("br",{}),Object(s.jsx)(p.b,{to:"comments",children:"Showing highest rated comments - Show more comments"}),c.comments.map(wt)]})},Me=Object(y.a)((function(t){return t.movies.entities}),(function(t){return t})),Ae=Object(y.a)((function(t){return t.movies.pagination.total}),(function(t){return t})),Je=Object(k.b)("movies/fetch",function(){var t=Object(a.a)(c.a.mark((function t(e,n){var r,a,s,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.category,a=e.page,s=n.rejectWithValue,t.prev=2,t.next=5,pt.a.get("/trakt/movies/".concat(r,"?page=").concat(a,"&limit=").concat(J));case 5:return i=t.sent,"popular"===r&&(i.data=i.data.map((function(t){return{movie:t}}))),t.abrupt("return",{entities:i.data,total:parseInt(i.headers["x-pagination-page-count"])});case 10:return t.prev=10,t.t0=t.catch(2),t.abrupt("return",s(t.t0.toString()));case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,n){return t.apply(this,arguments)}}()),Te=Object(k.c)({extraReducers:Object(bt.a)({},Je.fulfilled,(function(t,e){t.entities=e.payload.entities,t.pagination.total=e.payload.total})),initialState:{entities:[],pagination:{total:0}},name:"movies",reducers:{}}).reducer,qe=Object(W.a)((function(t){return{footer:{bottom:0,padding:8,position:"absolute"},image:{height:"100%",objectFit:"cover",width:"100%"},root:{borderBottom:"1px solid ".concat(t.palette.divider),borderRight:"1px solid ".concat(t.palette.divider),position:"relative"}}}));var Be=function(t){var e=t.releaseYear,n=t.title,r=t.tmdbId,c=t.watchers,a=qe();return Object(s.jsxs)("div",{className:a.root,children:[Object(s.jsx)(be,{entity:"movies",size:"w500",tmdbId:r,type:"poster",children:function(t){return Object(s.jsx)("img",{alt:"poster",className:a.image,src:t})}}),Object(s.jsxs)("div",{className:a.footer,children:[Object(s.jsx)($.a,{color:"secondary",label:Object(s.jsxs)(O.a,{variant:"caption",children:[c," people watching"]}),size:"small"}),Object(s.jsxs)("div",{children:[Object(s.jsxs)(O.a,{color:"textPrimary",display:"inline",variant:"body1",children:[n," "]}),Object(s.jsx)(O.a,{color:"textSecondary",display:"inline",variant:"caption",children:e})]})]})]})};function De(t){var e=t.category,n=t.movies;switch(e){case"trending":return function(t){return t.map((function(t){var e=t.movie,n=t.watchers;return Object(s.jsx)(f.a,{component:p.b,item:!0,md:4,sm:6,to:"/app/movies/".concat(e.ids.slug),xl:3,xs:12,children:Object(s.jsx)(Be,{releaseYear:e.year,title:e.title,tmdbId:e.ids.tmdb,watchers:n})},e.ids.trakt)}))}(n);case"popular":case"recommended":case"watched":case"collected":case"anticipated":default:return null}}var _e=function(t){var e=t.category,n=Object(b.b)(),r=Ct(Ae),c=r.hasNextPage,a=r.hasPreviousPage,o=r.page,u=r.toFirstPage,l=r.toLastPage,j=r.toNextPage,d=r.toPreviousPage,p=Object(b.c)((function(t){return ut(t,"movies/fetch")})),m=Object(b.c)(Me);return Object(i.useEffect)((function(){n(Je({category:e,page:o}))}),[e,n,o]),Object(s.jsxs)(s.Fragment,{children:[p&&Object(s.jsx)("div",{children:"Loading..."}),Object(s.jsx)(It,{disabled:p,hasNextPage:c,hasPreviousPage:a,onFirstPage:u,onLastPage:l,onNextPage:j,onPreviousPage:d}),Object(s.jsx)(f.a,{container:!0,children:De({category:e,movies:m})})]})},Ge=Object(y.a)((function(t){return t.person}),(function(t){return t})),He=Object(k.b)("person/fetch",function(){var t=Object(a.a)(c.a.mark((function t(e,n){var r,a,s,i,o,u;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.rejectWithValue,t.prev=1,t.next=4,Promise.all([pt.a.get("/trakt/people/".concat(e,"?extended=full")),pt.a.get("/trakt/people/".concat(e,"/movies")),pt.a.get("/trakt/people/".concat(e,"/shows"))]);case 4:return a=t.sent,s=Object(x.a)(a,3),i=s[0],o=s[1],u=s[2],t.abrupt("return",{movies:o.data,shows:u.data,summary:i.data});case 12:return t.prev=12,t.t0=t.catch(1),t.abrupt("return",r(t.t0.toString()));case 15:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(e,n){return t.apply(this,arguments)}}()),Ye=Object(k.c)({extraReducers:Object(bt.a)({},He.fulfilled,(function(t,e){return e.payload})),initialState:{movies:[],shows:[],summary:null},name:"person",reducers:{}}).reducer;var Ke=function(){var t,e=Object(b.b)(),n=Object(d.j)().slug,r=Object(b.c)((function(t){return ut(t,"person/fetch")})),c=Object(b.c)(Ge);return Object(i.useEffect)((function(){e(He(n))}),[e,n]),Object(s.jsxs)(s.Fragment,{children:[r&&Object(s.jsx)("div",{children:"Loading..."}),Object(s.jsx)(oe,{entity:"people",slug:n,children:function(t,e){return Object(s.jsx)("button",{onClick:t,type:"button",children:e?"Listed on ".concat(e," list(s)"):"Add to list"})}}),Object(s.jsx)(be,{entity:"people",size:"w185",tmdbId:null===(t=c.summary)||void 0===t?void 0:t.ids.tmdb,type:"profile",children:function(t){return Object(s.jsx)("img",{alt:"poster",src:t})}}),Object(s.jsx)("pre",{children:JSON.stringify(c,null,2)})]})},Qe=Object(y.a)((function(t){return t.search.entities}),(function(t){return t})),Ue=Object(y.a)((function(t){return t.search.pagination.total}),(function(t){return t})),Xe=Object(k.b)("search/fetch",function(){var t=Object(a.a)(c.a.mark((function t(e,n){var r,a,s,i,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.entity,a=e.page,s=e.query,i=n.rejectWithValue,t.prev=2,r=q(r),t.next=6,pt.a.get("/trakt/search/".concat(r,"?query=").concat(s,"&page=").concat(a,"&limit=").concat(J));case 6:return o=t.sent,t.abrupt("return",{entities:o.data,total:parseInt(o.headers["x-pagination-page-count"])});case 10:return t.prev=10,t.t0=t.catch(2),t.abrupt("return",i(t.t0.toString()));case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,n){return t.apply(this,arguments)}}()),Ze=Object(k.c)({extraReducers:Object(bt.a)({},Xe.fulfilled,(function(t,e){t.entities=e.payload.entities,t.pagination.total=e.payload.total})),initialState:{entities:[],pagination:{total:0}},name:"search",reducers:{}}).reducer;var $e=function(t){var e=t.entity,n=Object(b.b)(),r=Ct(Ue),c=r.hasNextPage,a=r.hasPreviousPage,o=r.page,u=r.toFirstPage,l=r.toLastPage,j=r.toNextPage,d=r.toPreviousPage,f=Object(p.d)(),m=Object(x.a)(f,2),h=m[0],O=m[1],g=Object(i.useMemo)((function(){return Object.fromEntries(h)}),[h]).query,v=void 0===g?"":g,y=Object(b.c)((function(t){return ut(t,"search/fetch")})),w=Object(b.c)(Qe);return Object(i.useEffect)((function(){n(Xe({entity:e,page:o,query:v}))}),[n,e,o,v]),Object(s.jsxs)(s.Fragment,{children:[y&&Object(s.jsx)("div",{children:"Loading..."}),Object(s.jsx)(It,{disabled:y,hasNextPage:c,hasPreviousPage:a,onFirstPage:u,onLastPage:l,onNextPage:j,onPreviousPage:d}),Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{htmlFor:"query",children:"Input your query:"}),Object(s.jsx)("input",{id:"query",onChange:function(t){var e=t.target.value;O({query:e})},type:"text",value:v})]}),Object(s.jsx)("pre",{children:JSON.stringify(w,null,2)})]})};var tn=function(){var t,e=Object(i.useMemo)(lt,[]),n=Object(b.b)(),r=Object(d.j)().slug,c=Object(b.c)((function(t){return e(t,["show/fetch","show/comments/fetch"])})),a=Object(b.c)(Bt),o=Object(b.c)((function(t){return me(t,"shows",r)})),u=Object(b.c)((function(t){return xe(t,"shows",r)})),l=Object(b.c)((function(t){return Re(t,"shows",r)}));return Object(i.useEffect)((function(){n(Mt(r))}),[n,r]),Object(s.jsxs)(s.Fragment,{children:[c&&Object(s.jsx)("div",{children:"Loading..."}),Object(s.jsx)(oe,{entity:"shows",slug:r,children:function(t,e){return Object(s.jsx)("button",{onClick:t,type:"button",children:e?"Listed on ".concat(e," list(s)"):"Add to list"})}}),Object(s.jsx)("button",{onClick:function(){n(l?Ve({entity:"shows",slug:r}):We({entity:"shows",slug:r}))},type:"button",children:l?"Remove from watchlist":"Add to watchlit"}),Object(s.jsx)("button",{onClick:function(){n(u?Se({entity:"shows",slug:r}):Pe({entity:"shows",slug:r}))},type:"button",children:u?"Remove recommendation":"Recommend"}),Object(s.jsx)(pe,{onChange:function(t){n(Oe({entity:"shows",rating:t,slug:r}))},value:o}),Object(s.jsx)(be,{entity:"shows",size:"w154",tmdbId:null===(t=a.summary)||void 0===t?void 0:t.ids.tmdb,type:"poster",children:function(t){return Object(s.jsx)("img",{alt:"poster",src:t})}}),Object(s.jsx)("br",{}),Object(s.jsx)(p.b,{to:"comments",children:"Showing highest rated comments - Show more comments"}),a.comments.map(wt)]})},en=Object(y.a)((function(t){return t.shows.entities}),(function(t){return t})),nn=Object(y.a)((function(t){return t.shows.pagination.total}),(function(t){return t})),rn=Object(k.b)("shows/fetch",function(){var t=Object(a.a)(c.a.mark((function t(e,n){var r,a,s,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.category,a=e.page,s=n.rejectWithValue,t.prev=2,t.next=5,pt.a.get("/trakt/shows/".concat(r,"?page=").concat(a,"&limit=").concat(J));case 5:return i=t.sent,"popular"===r&&(i.data=i.data.map((function(t){return{show:t}}))),t.abrupt("return",{entities:i.data,total:parseInt(i.headers["x-pagination-page-count"])});case 10:return t.prev=10,t.t0=t.catch(2),t.abrupt("return",s(t.t0.toString()));case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,n){return t.apply(this,arguments)}}()),cn=Object(k.c)({extraReducers:Object(bt.a)({},rn.fulfilled,(function(t,e){t.entities=e.payload.entities,t.pagination.total=e.payload.total})),initialState:{entities:[],pagination:{total:0}},name:"shows",reducers:{}}).reducer;var an=function(t){var e=t.category,n=Object(b.b)(),r=Ct(nn),c=r.hasNextPage,a=r.hasPreviousPage,o=r.page,u=r.toFirstPage,l=r.toLastPage,j=r.toNextPage,d=r.toPreviousPage,p=Object(b.c)((function(t){return ut(t,"shows/fetch")})),f=Object(b.c)(en);return Object(i.useEffect)((function(){n(rn({category:e,page:o}))}),[e,n,o]),Object(s.jsxs)(s.Fragment,{children:[p&&Object(s.jsx)("div",{children:"Loading..."}),Object(s.jsx)(It,{disabled:p,hasNextPage:c,hasPreviousPage:a,onFirstPage:u,onLastPage:l,onNextPage:j,onPreviousPage:d}),Object(s.jsx)("pre",{children:JSON.stringify(f,null,2)})]})},sn=Object(y.a)((function(t){return t.users.comments.entities}),(function(t){return t})),on=Object(y.a)((function(t){return t.users.comments.pagination.total}),(function(t){return t}));var un=function(){var t=Object(d.j)().userSlug,e=Object(b.b)(),n=Ct(on),r=n.hasNextPage,c=n.hasPreviousPage,a=n.page,o=n.toFirstPage,u=n.toLastPage,l=n.toNextPage,j=n.toPreviousPage,p=Object(b.c)((function(t){return ut(t,"users/comments/fetch")})),f=Object(b.c)(sn);return Object(i.useEffect)((function(){e(ft({page:a,userSlug:t}))}),[e,a,t]),Object(s.jsxs)(s.Fragment,{children:[p&&Object(s.jsx)("div",{children:"Loading..."}),Object(s.jsx)(It,{disabled:p,hasNextPage:r,hasPreviousPage:c,onFirstPage:o,onLastPage:u,onNextPage:l,onPreviousPage:j}),f.map((function(t){var e=t.comment;t.type;return wt(e)}))]})},ln=Object(y.a)((function(t){return t.users.list}),(function(t){return t}));var jn=function(){var t=Object(d.j)(),e=t.id,n=t.userSlug,r=Object(b.b)(),c=Object(b.c)((function(t){return ut(t,"list/fetch")})),a=Object(b.c)(ln);return Object(i.useEffect)((function(){r($t({id:e,userSlug:n}))}),[r,e,n]),Object(s.jsxs)(s.Fragment,{children:[c&&Object(s.jsx)("div",{children:"Loading..."}),Object(s.jsx)("pre",{children:JSON.stringify(a,null,2)})]})};var bn=function(){var t=Object(d.j)().userSlug,e=Object(b.b)(),n=Object(b.c)((function(t){return ut(t,"users/lists/fetch")})),r=Object(b.c)(ae),c=t===T();return Object(i.useEffect)((function(){e(Qt(t))}),[e,t]),Object(s.jsxs)(s.Fragment,{children:[n&&Object(s.jsx)("div",{children:"Loading..."}),c&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("button",{onClick:function(){e(Ut({allowComments:!1,description:"This is my list",name:"My list"}))},type:"button",children:"Add list"}),Object(s.jsx)("button",{onClick:function(){e(Xt("my-list"))},type:"button",children:"Remove list"})]}),Object(s.jsx)("pre",{children:JSON.stringify(r,null,2)})]})};var dn=function(){var t=Object(d.j)().userSlug,e=Object(b.b)(),n=Object(b.c)((function(t){return ut(t,"users/ratings/fetch")})),r=Object(b.c)(fe);return Object(i.useEffect)((function(){e(he(t))}),[e,t]),Object(s.jsxs)(s.Fragment,{children:[n&&Object(s.jsx)("div",{children:"Loading..."}),Object(s.jsx)("pre",{children:JSON.stringify(r,null,2)})]})};var pn=function(){var t=Object(d.j)().userSlug,e=Object(b.b)(),n=Object(b.c)((function(t){return ut(t,"users/recommendations/fetch")})),r=Object(b.c)(ve);return Object(i.useEffect)((function(){e(ye(t))}),[e,t]),Object(s.jsxs)(s.Fragment,{children:[n&&Object(s.jsx)("div",{children:"Loading..."}),Object(s.jsx)("pre",{children:JSON.stringify(r,null,2)})]})};var fn=function(){var t=Object(d.j)().userSlug,e=Object(b.b)(),n=Object(b.c)((function(t){return ut(t,"users/watchlist/fetch")})),r=Object(b.c)(Ie);return Object(i.useEffect)((function(){e(Fe(t))}),[e,t]),Object(s.jsxs)(s.Fragment,{children:[n&&Object(s.jsx)("div",{children:"Loading..."}),Object(s.jsx)("pre",{children:JSON.stringify(r,null,2)})]})};function mn(t){return["/pending","/fulfilled","/rejected"].some((function(e){return t.type.endsWith(e)}))}var hn=Object(k.c)({extraReducers:function(t){t.addMatcher(mn,(function(t,e){var n=e.type.split("/"),r=n.pop();t["".concat(n.join("/"))]="pending"===r}))},initialState:{},name:"loading",reducers:{}}).reducer,On=n(30),gn=Object(On.c)({comments:gt,list:ce,lists:Zt,ratings:ge,recommendations:Ne,watchlist:Ee}),vn=Object(k.a)({reducer:{comments:Tt,loading:hn,movie:zt,movies:Te,notifications:F,person:Ye,search:Ze,show:At,shows:cn,users:gn}});function xn(){return Object(s.jsxs)(d.e,{basename:"/app",children:[Object(s.jsx)(d.c,{element:Object(s.jsx)(d.a,{replace:!0,to:"movies/trending"}),path:"/"}),Object(s.jsxs)(d.c,{element:Object(s.jsx)(Q,{}),path:"/",children:[Object(s.jsxs)(d.c,{path:"movies",children:[Object(s.jsx)(d.c,{element:Object(s.jsx)(d.a,{replace:!0,to:"trending"}),path:"/"}),Object(s.jsx)(d.c,{element:Object(s.jsx)(_e,{category:"trending"}),path:"trending"}),Object(s.jsx)(d.c,{element:Object(s.jsx)(_e,{category:"popular"}),path:"popular"}),Object(s.jsx)(d.c,{element:Object(s.jsx)(_e,{category:"recommended"}),path:"recommended"}),Object(s.jsx)(d.c,{element:Object(s.jsx)(_e,{category:"watched"}),path:"watched"}),Object(s.jsx)(d.c,{element:Object(s.jsx)(_e,{category:"anticipated"}),path:"anticipated"}),Object(s.jsx)(d.c,{element:Object(s.jsx)(ze,{}),path:":slug"}),Object(s.jsx)(d.c,{element:Object(s.jsx)(_t,{entity:"movies"}),path:":slug/comments"})]}),Object(s.jsxs)(d.c,{path:"shows",children:[Object(s.jsx)(d.c,{element:Object(s.jsx)(d.a,{replace:!0,to:"trending"}),path:"/"}),Object(s.jsx)(d.c,{element:Object(s.jsx)(an,{category:"trending"}),path:"trending"}),Object(s.jsx)(d.c,{element:Object(s.jsx)(an,{category:"popular"}),path:"popular"}),Object(s.jsx)(d.c,{element:Object(s.jsx)(an,{category:"recommended"}),path:"recommended"}),Object(s.jsx)(d.c,{element:Object(s.jsx)(an,{category:"watched"}),path:"watched"}),Object(s.jsx)(d.c,{element:Object(s.jsx)(an,{category:"anticipated"}),path:"anticipated"}),Object(s.jsx)(d.c,{element:Object(s.jsx)(tn,{}),path:":slug"}),Object(s.jsx)(d.c,{element:Object(s.jsx)(_t,{entity:"shows"}),path:":slug/comments"})]}),Object(s.jsx)(d.c,{element:Object(s.jsx)(Ke,{}),path:"people/:slug"}),Object(s.jsxs)(d.c,{path:"search",children:[Object(s.jsx)(d.c,{element:Object(s.jsx)(d.a,{replace:!0,to:"all"}),path:"/"}),Object(s.jsx)(d.c,{element:Object(s.jsx)($e,{entity:"all"}),path:"all"}),Object(s.jsx)(d.c,{element:Object(s.jsx)($e,{entity:"movies"}),path:"movies"}),Object(s.jsx)(d.c,{element:Object(s.jsx)($e,{entity:"shows"}),path:"shows"}),Object(s.jsx)(d.c,{element:Object(s.jsx)($e,{entity:"people"}),path:"people"})]}),Object(s.jsxs)(d.c,{path:"users/:userSlug",children:[Object(s.jsx)(d.c,{element:Object(s.jsx)(d.a,{replace:!0,to:"ratings"}),path:"/"}),Object(s.jsx)(d.c,{element:Object(s.jsx)(dn,{}),path:"ratings"}),Object(s.jsx)(d.c,{element:Object(s.jsx)(pn,{}),path:"recommendations"}),Object(s.jsx)(d.c,{element:Object(s.jsx)(fn,{}),path:"watchlist"}),Object(s.jsxs)(d.c,{path:"lists",children:[Object(s.jsx)(d.c,{element:Object(s.jsx)(bn,{}),path:"/"}),Object(s.jsx)(d.c,{element:Object(s.jsx)(jn,{}),path:":id"})]}),Object(s.jsx)(d.c,{element:Object(s.jsx)(un,{}),path:"comments"})]})]}),Object(s.jsx)(d.c,{element:Object(s.jsx)(U,{}),path:"*"})]})}var yn=function(){return Object(s.jsx)(b.a,{store:vn,children:Object(s.jsxs)(p.a,{children:[Object(s.jsx)(j.a,{}),Object(s.jsx)(xn,{})]})})},wn=vn.dispatch;function kn(){return(kn=Object(a.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wn(Qt());case 2:return t.next=4,wn(he());case 4:return t.next=6,wn(ye());case 6:return t.next=8,wn(Fe());case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}(function(){return kn.apply(this,arguments)})().then((function(){l.a.render(Object(s.jsx)(yn,{}),document.getElementById("root"))}))}},[[235,1,2]]]);
//# sourceMappingURL=main.12617d95.chunk.js.map