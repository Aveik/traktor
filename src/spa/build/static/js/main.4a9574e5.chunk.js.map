{"version":3,"sources":["redux/notifications/notifications.selectors.js","redux/notifications/notifications.slice.js","components/Notifications/Single/Single.component.jsx","components/Notifications/Notifications.component.jsx","components/Layout/Layout.styles.js","components/Layout/CollapsingListItem/CollapsingListItem.styles.js","components/Layout/CollapsingListItem/CollapsingListItem.component.jsx","components/Layout/Layout.utils.js","components/Layout/Layout.component.jsx","components/NotFound/NotFound.component.jsx","components/Poster/Poster.component.jsx","components/Rating/Rating.component.jsx","redux/loading/loading.selectors.js","redux/modules/movie/movie.selectors.js","redux/modules/movie/movie.slice.js","redux/modules/profile/ratings/ratings.selectors.js","redux/modules/profile/ratings/ratings.slice.js","redux/modules/profile/recommendations/recommendations.selectors.js","redux/modules/profile/recommendations/recommendations.slice.js","redux/modules/profile/watchlist/watchlist.selectors.js","redux/modules/profile/watchlist/watchlist.slice.js","modules/Movie/Movie.component.jsx","components/Pagination/Pagination.component.jsx","hooks/usePagination.js","redux/modules/movies/movies.selectors.js","utils.js","redux/modules/movies/movies.slice.js","components/Tile/Tile.styles.js","components/Tile/Tile.component.jsx","modules/Movies/Movies.utils.js","modules/Movies/Movies.component.jsx","redux/modules/person/person.selectors.js","redux/modules/person/person.slice.js","modules/Person/Person.component.jsx","redux/modules/profile/comments/comments.selectors.js","redux/auth/auth.selectors.js","redux/modules/profile/comments/comments.slice.js","modules/Profile/Comments/Comments.component.jsx","redux/modules/profile/list/list.selectors.js","redux/modules/profile/list/list.slice.js","modules/Profile/List/List.component.jsx","redux/modules/profile/lists/lists.selectors.js","redux/modules/profile/lists/lists.slice.js","modules/Profile/Lists/Lists.component.jsx","modules/Profile/Ratings/Ratings.component.jsx","modules/Profile/Recommendations/Recommendations.component.jsx","modules/Profile/Watchlist/Watchlist.component.jsx","redux/modules/search/search.selectors.js","redux/modules/search/search.slice.js","modules/Search/Search.component.jsx","redux/modules/show/show.selectors.js","redux/modules/show/show.slice.js","modules/Show/Show.component.jsx","redux/modules/shows/shows.selectors.js","redux/modules/shows/shows.slice.js","modules/Shows/Shows.component.jsx","redux/auth/auth.slice.js","redux/loading/loading.slice.js","redux/modules/profile/index.js","redux/store.js","App.component.jsx","index.js"],"names":["selectNotifications","createSelector","state","notifications","matches","action","type","endsWith","createSlice","extraReducers","builder","addMatcher","meta","requestId","payload","initialState","name","reducers","createNotification","prepare","message","id","nanoid","reducer","removeNotification","actions","Single","dispatch","useDispatch","onClick","Notifications","useSelector","Object","entries","map","makeStyles","drawerPaper","width","theme","nestedListItemGutters","paddingLeft","spacing","CollapsingListItem","children","listItemTextProps","props","classes","useStyles","useState","open","setOpen","e","preventDefault","ExpandLess","ExpandMore","in","disablePadding","React","Children","child","cloneElement","gutters","NAV_PATHS","nested","path","title","Layout","anchor","paper","color","variant","px","py","regularListItemProps","activeClassName","button","component","NavLink","key","to","primary","collapsingListItemProps","ml","NotFound","Poster","entity","season","size","tmdbId","url","propTypes","PropTypes","func","isRequired","oneOf","number","string","Rating","onChange","value","initialValue","setValue","max","_","stateSelector","loading","selector","actionTypes","selectLoadingFlag","actionType","Boolean","selectLoadingFlagsReducedFactory","keys","filter","includes","some","selectEntity","movie","fetchComments","createAsyncThunk","a","limit","slug","sort","rejectWithValue","axios","get","response","data","toString","fetchMovie","Promise","all","summaryResponse","commentsResponse","peopleResponse","ratingsResponse","relatedResponse","statsResponse","comments","people","ratings","related","stats","summary","fulfilled","selectEntities","profile","selectRating","__","result","find","rating","ids","fetchRatings","postRating","post","removeRating","postMovieRating","postShowRating","recommendations","selectIsRecommended","recommendation","fetchRecommendations","postRecommendation","removeRecommendation","postMovieRecommendation","removeMovieRecommendation","watchlist","selectIsWatchlisted","item","fetchWatchlist","addToWatchlist","removeFromWatchlist","addMovieToWatchlist","removeMovieFromWatchlist","Movie","selectLoadingFlagReduced","useMemo","useParams","fetching","isRecommended","isWatchlisted","useEffect","tmdb","alt","src","JSON","stringify","Pagination","disabled","hasNextPage","hasPreviousPage","onFirstPage","onLastPage","onNextPage","onPreviousPage","usePagination","pagesTotalSelector","useSearchParams","searchParams","setSearchParams","fromEntries","page","otherSearchProps","pagesTotal","parseInt","toFirstPage","toLastPage","toNextPage","toPreviousPage","movies","entities","selectPagesTotal","pagination","total","DEFAULTS","fetchMovies","category","headers","footer","bottom","padding","position","image","height","objectFit","root","borderBottom","palette","divider","borderRight","Tile","releaseYear","watchers","className","label","display","renderTiles","Link","md","sm","xl","xs","year","trakt","renderTrending","Movies","container","person","fetchPerson","moviesResponse","showsResponse","shows","Person","auth","selectAccessToken","accessToken","selectUserSlug","getState","userSlug","Comments","list","fetchList","listResponse","itemsResponse","items","List","lists","fetchLists","addList","removeList","delete","push","index","findIndex","Lists","allowComments","description","privacy","Ratings","Watchlist","search","resolveType","fetchSearchResults","query","Search","searchResults","htmlFor","target","show","fetchShow","seasonsResponse","seasons","Show","fetchShows","Shows","fetchMe","refreshToken","uuid","pattern","parts","split","asyncState","pop","join","combineReducers","store","configureStore","App","basename","element","replace","darkTheme","createMuiTheme","Providers","interceptors","request","use","config","startsWith","baseURL","process","Authorization","init","then","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.4a9574e5.chunk.js","sourcesContent":["import { createSelector } from '@reduxjs/toolkit';\n\nconst selectNotifications = createSelector(\n  function (state) {\n    return state.notifications;\n  },\n  function (notifications) {\n    return notifications;\n  },\n);\n\nexport { selectNotifications };\n","import { createSlice, nanoid } from '@reduxjs/toolkit';\n\nfunction matches(action) {\n  return action.type.endsWith('/rejected');\n}\n\nconst { actions, reducer } = createSlice({\n  extraReducers: (builder) => {\n    builder.addMatcher(matches, (state, action) => {\n      state[action.meta.requestId] = action.payload;\n    });\n  },\n  initialState: {},\n  name: 'notifications',\n  reducers: {\n    createNotification: {\n      prepare(message) {\n        return {\n          payload: {\n            id: nanoid(),\n            message,\n          },\n        };\n      },\n      reducer(state, action) {\n        state[action.payload.id] = action.payload.message;\n      },\n    },\n    removeNotification(state, action) {\n      delete state[action.payload];\n    },\n  },\n});\n\nconst { createNotification, removeNotification } = actions;\n\nexport { createNotification, removeNotification };\nexport default reducer;\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\n\nimport { removeNotification } from '../../../redux/notifications/notifications.slice';\n\nfunction Single({ id, message }) {\n  const dispatch = useDispatch();\n\n  function handleClick() {\n    dispatch(removeNotification(id));\n  }\n\n  return <div onClick={handleClick}>{message}</div>;\n}\n\nexport default Single;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nimport { selectNotifications } from '../../redux/notifications/notifications.selectors';\nimport Single from './Single/Single.component';\n\nfunction Notifications() {\n  const notifications = useSelector(selectNotifications);\n  return Object.entries(notifications).map(([id, message]) => (\n    <Single id={id} key={id} message={message} />\n  ));\n}\n\nexport default Notifications;\n","import { makeStyles } from '@material-ui/core/styles';\n\nexport default makeStyles({\n  drawerPaper: {\n    width: 256,\n  },\n});\n","import { makeStyles } from '@material-ui/core/styles';\n\nexport default makeStyles(function (theme) {\n  return {\n    nestedListItemGutters: {\n      paddingLeft: theme.spacing(4),\n    },\n  };\n});\n","import {\n  Collapse as MuiCollapse,\n  List as MuiList,\n  ListItem as MuiListItem,\n  ListItemText as MuiListItemText,\n} from '@material-ui/core';\nimport {\n  ExpandLess as ExpandLessIcon,\n  ExpandMore as ExpandMoreIcon,\n} from '@material-ui/icons';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\n\nimport useStyles from './CollapsingListItem.styles';\n\nfunction CollapsingListItem({ children, listItemTextProps, ...props }) {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n\n  function handleClick(e) {\n    e.preventDefault();\n    setOpen(!open);\n  }\n\n  function renderChildren() {\n    return React.Children.map(children, function (child) {\n      return React.cloneElement(child, {\n        classes: { gutters: classes.nestedListItemGutters },\n      });\n    });\n  }\n\n  return (\n    <>\n      <MuiListItem {...props} onClick={handleClick}>\n        <MuiListItemText {...listItemTextProps} />\n        {open ? <ExpandLessIcon /> : <ExpandMoreIcon />}\n      </MuiListItem>\n      <MuiCollapse in={open}>\n        <MuiList disablePadding>{renderChildren()}</MuiList>\n      </MuiCollapse>\n    </>\n  );\n}\n\nCollapsingListItem.propTypes = {\n  children: PropTypes.node.isRequired,\n};\nexport default CollapsingListItem;\n","import {\n  ListItem as MuiListItem,\n  ListItemText as MuiListItemText,\n} from '@material-ui/core';\nimport React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport CollapsingListItem from './CollapsingListItem/CollapsingListItem.component';\n\n// In case of any routing change, make sure to reflect the exact change\n// in file ./src/App.component.jsx in respective <Route> components.\nconst NAV_PATHS = [\n  {\n    nested: [\n      {\n        path: 'movies/trending',\n        title: 'Trending',\n      },\n      {\n        path: 'movies/popular',\n        title: 'Popular',\n      },\n      {\n        path: 'movies/recommended',\n        title: 'Recommended',\n      },\n      {\n        path: 'movies/watched',\n        title: 'Watched',\n      },\n      {\n        path: 'movies/collected',\n        title: 'Collected',\n      },\n      {\n        path: 'movies/anticipated',\n        title: 'Anticipated',\n      },\n    ],\n    title: 'Movies',\n  },\n  {\n    nested: [\n      {\n        path: 'shows/trending',\n        title: 'Trending',\n      },\n      {\n        path: 'shows/popular',\n        title: 'Popular',\n      },\n      {\n        path: 'shows/recommended',\n        title: 'Recommended',\n      },\n      {\n        path: 'shows/watched',\n        title: 'Watched',\n      },\n      {\n        path: 'shows/collected',\n        title: 'Collected',\n      },\n      {\n        path: 'shows/anticipated',\n        title: 'Anticipated',\n      },\n    ],\n    title: 'Shows',\n  },\n  {\n    nested: [\n      {\n        path: 'profile/ratings',\n        title: 'Ratings',\n      },\n      {\n        path: 'profile/recommendations',\n        title: 'Recommendations',\n      },\n      {\n        path: 'profile/watchlist',\n        title: 'Watchlist',\n      },\n      {\n        path: 'profile/lists',\n        title: 'Lists',\n      },\n      {\n        path: 'profile/comments',\n        title: 'Comments',\n      },\n    ],\n    title: 'Profile',\n  },\n  {\n    nested: [\n      {\n        path: 'search/all',\n        title: 'All',\n      },\n      {\n        path: 'search/movies',\n        title: 'Movies',\n      },\n      {\n        path: 'search/shows',\n        title: 'Shows',\n      },\n      {\n        path: 'search/people',\n        title: 'People',\n      },\n    ],\n    title: 'Search',\n  },\n];\n\nfunction renderListItems() {\n  return NAV_PATHS.map(function ({ nested, path, title }) {\n    const regularListItemProps = {\n      activeClassName: 'Mui-selected',\n      button: true,\n      component: NavLink,\n      key: title,\n      to: path,\n    };\n\n    // Regular ListItem. No need for custom CollapsingListItem.\n    if (!nested && path) {\n      return (\n        <MuiListItem {...regularListItemProps}>\n          <MuiListItemText primary={title} />\n        </MuiListItem>\n      );\n    }\n\n    const children = nested.map(function ({ path, title }) {\n      return (\n        // Overwrite key and path props as we are iterating over nested items.\n        <MuiListItem {...regularListItemProps} key={title} to={path}>\n          <MuiListItemText primary={title} />\n        </MuiListItem>\n      );\n    });\n\n    const collapsingListItemProps = {\n      button: true,\n      key: title,\n      listItemTextProps: {\n        primary: title,\n      },\n    };\n\n    return (\n      <CollapsingListItem {...collapsingListItemProps}>\n        {children}\n      </CollapsingListItem>\n    );\n  });\n}\n\nexport { NAV_PATHS, renderListItems };\n","import {\n  Box as MuiBox,\n  Divider as MuiDivider,\n  Drawer as MuiDrawer,\n  Grid as MuiGrid,\n  List as MuiList,\n  Typography as MuiTypography,\n} from '@material-ui/core';\nimport React from 'react';\nimport { Outlet } from 'react-router-dom';\n\nimport Notifications from '../Notifications/Notifications.component';\nimport useStyles from './Layout.styles';\nimport { renderListItems } from './Layout.utils';\n\nfunction Layout() {\n  const classes = useStyles();\n\n  return (\n    <MuiGrid>\n      <MuiDrawer\n        anchor='left'\n        classes={{\n          paper: classes.drawerPaper,\n        }}\n        color=''\n        variant='permanent'\n      >\n        <MuiBox px={2} py={1}>\n          <MuiTypography variant='h6'>Traktor</MuiTypography>\n          <MuiTypography variant='caption'>v0.1</MuiTypography>\n        </MuiBox>\n        <MuiDivider />\n        <MuiList disablePadding>{renderListItems()}</MuiList>\n      </MuiDrawer>\n      <MuiBox ml={32}>\n        <Notifications />\n        <Outlet />\n      </MuiBox>\n    </MuiGrid>\n  );\n}\n\nexport default Layout;\n","import React from 'react';\n\nfunction NotFound() {\n  return <h1>404 not found</h1>;\n}\n\nexport default NotFound;\n","import PropTypes from 'prop-types';\n\nfunction Poster({ children, entity, season, size, tmdbId, type }) {\n  if (!tmdbId) {\n    return null;\n  }\n\n  let url = `/images/${entity}/${tmdbId}/${type}?`;\n  if (season) {\n    url += `season=${season}`;\n  }\n  if (size) {\n    url += `size=${size}`;\n  }\n  return children(url);\n}\n\nPoster.propTypes = {\n  children: PropTypes.func.isRequired,\n  entity: PropTypes.oneOf(['movie', 'person', 'show']).isRequired,\n  season: PropTypes.number,\n  size: PropTypes.string,\n  tmdbId: PropTypes.number,\n  type: PropTypes.oneOf(['backdrop', 'poster', 'profile']),\n};\n\nexport default Poster;\n","import { Rating as MuiRating } from '@material-ui/lab';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\n\nfunction Rating({ onChange, value: initialValue = 0 }) {\n  const [value, setValue] = useState(initialValue);\n\n  function handleChange(_, value) {\n    setValue(value);\n    onChange(value);\n  }\n\n  return <MuiRating max={10} name='_' onChange={handleChange} value={value} />;\n}\n\nRating.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  value: PropTypes.number.isRequired,\n};\n\nexport default Rating;\n","import { createSelector } from '@reduxjs/toolkit';\n\nfunction stateSelector(state) {\n  return state.loading;\n}\n\n// Action types can be a string or array of strings\nfunction selector(_, actionTypes) {\n  return actionTypes;\n}\n\nconst selectLoadingFlag = createSelector([stateSelector, selector], function (\n  loading,\n  actionType,\n) {\n  return Boolean(loading[actionType]);\n});\n\nfunction selectLoadingFlagsFactory() {\n  return createSelector([stateSelector, selector], function (\n    state,\n    actionTypes,\n  ) {\n    return Object.keys(state.loading)\n      .filter((action) => actionTypes.includes(action))\n      .map((action) => state.loading[action]);\n  });\n}\n\nfunction selectLoadingFlagsReducedFactory() {\n  return createSelector([stateSelector, selector], function (\n    state,\n    actionTypes,\n  ) {\n    return Object.keys(state)\n      .filter((action) => actionTypes.includes(action))\n      .some((action) => state[action]);\n  });\n}\n\nexport {\n  selectLoadingFlag,\n  selectLoadingFlagsFactory,\n  selectLoadingFlagsReducedFactory,\n};\n","import { createSelector } from '@reduxjs/toolkit';\n\nconst selectEntity = createSelector(\n  function (state) {\n    return state.movie;\n  },\n  function (entity) {\n    return entity;\n  },\n);\n\nexport { selectEntity };\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nconst fetchComments = createAsyncThunk('movie/comments/fetch', async function (\n  { limit, slug, sort },\n  { rejectWithValue },\n) {\n  try {\n    const response = await axios.get(\n      `/movies/${slug}/comments/${sort}?page=1&limit=${limit}`,\n    );\n    return response.data;\n  } catch (error) {\n    return rejectWithValue(error.toString());\n  }\n});\n\nconst fetchMovie = createAsyncThunk('movie/fetch', async function (\n  slug,\n  { rejectWithValue },\n) {\n  try {\n    const [\n      summaryResponse,\n      commentsResponse,\n      peopleResponse,\n      ratingsResponse,\n      relatedResponse,\n      statsResponse,\n    ] = await Promise.all([\n      axios.get(`/movies/${slug}`),\n      axios.get(`/movies/${slug}/comments/highest`),\n      axios.get(`/movies/${slug}/people`),\n      axios.get(`/movies/${slug}/ratings`),\n      axios.get(`/movies/${slug}/related`),\n      axios.get(`/movies/${slug}/stats`),\n    ]);\n    return {\n      comments: commentsResponse.data,\n      people: peopleResponse.data,\n      ratings: ratingsResponse.data,\n      related: relatedResponse.data,\n      stats: statsResponse.data,\n      summary: summaryResponse.data,\n    };\n  } catch (error) {\n    return rejectWithValue(error.toString());\n  }\n});\n\nconst { reducer } = createSlice({\n  extraReducers: {\n    [fetchComments.fulfilled](state, action) {\n      state.comments = action.payload;\n    },\n    [fetchMovie.fulfilled](state, action) {\n      return action.payload;\n    },\n  },\n  initialState: {\n    comments: [],\n    people: null,\n    ratings: null,\n    related: [],\n    stats: null,\n    summary: null,\n  },\n  name: 'movie',\n  reducers: {},\n});\n\nexport { fetchComments, fetchMovie };\nexport default reducer;\n","import { createSelector } from '@reduxjs/toolkit';\n\nconst selectEntities = createSelector(\n  function (state) {\n    return state.profile.ratings;\n  },\n  function (ratings) {\n    return ratings;\n  },\n);\n\nconst selectRating = createSelector(\n  [\n    function (state) {\n      return state.profile.ratings;\n    },\n    function (_, type) {\n      return type;\n    },\n    function (_, __, slug) {\n      return slug;\n    },\n  ],\n  function (ratings, type, slug) {\n    const result = ratings.find(\n      (rating) => rating.type === type && rating[type].ids.slug === slug,\n    );\n    return result ? result.rating : 0;\n  },\n);\n\nexport { selectEntities, selectRating };\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nconst fetchRatings = createAsyncThunk('profile/ratings/fetch', async function (\n  type,\n  { rejectWithValue },\n) {\n  try {\n    const response = await axios.get('/sync/ratings');\n    return response.data;\n  } catch (error) {\n    return rejectWithValue(error.toString());\n  }\n});\n\nfunction postRating(entity) {\n  return async function ({ rating, slug }, { rejectWithValue }) {\n    try {\n      await axios.post('/sync/ratings', {\n        [entity]: [\n          {\n            ids: { slug },\n            rating,\n          },\n        ],\n      });\n    } catch (error) {\n      return rejectWithValue(error.toString());\n    }\n  };\n}\n\nfunction removeRating(entity) {\n  return async function (slug, { rejectWithValue }) {\n    try {\n      await axios.post('/sync/ratings/remove', {\n        [entity]: [{ ids: { slug } }],\n      });\n    } catch (error) {\n      return rejectWithValue(error.toString());\n    }\n  };\n}\n\nconst postMovieRating = createAsyncThunk(\n  'profile/ratings/rate',\n  postRating('movies'),\n);\n\nconst postShowRating = createAsyncThunk(\n  'profile/ratings/rate',\n  postRating('shows'),\n);\n\nconst removeMovieRating = createAsyncThunk(\n  'profile/ratings/delete',\n  removeRating('movies'),\n);\n\nconst removeShowRating = createAsyncThunk(\n  'profile/ratings/delete',\n  removeRating('shows'),\n);\n\nconst { reducer } = createSlice({\n  extraReducers: {\n    [fetchRatings.fulfilled](state, action) {\n      return action.payload;\n    },\n  },\n  initialState: [],\n  name: 'profile/ratings',\n  reducers: {},\n});\n\nexport {\n  fetchRatings,\n  postMovieRating,\n  postShowRating,\n  removeMovieRating,\n  removeShowRating,\n};\nexport default reducer;\n","import { createSelector } from '@reduxjs/toolkit';\n\nconst selectEntities = createSelector(\n  function (state) {\n    return state.profile.recommendations;\n  },\n  function (recommendations) {\n    return recommendations;\n  },\n);\n\nconst selectIsRecommended = createSelector(\n  [\n    function (state) {\n      return state.profile.recommendations;\n    },\n    function (_, type) {\n      return type;\n    },\n    function (_, __, slug) {\n      return slug;\n    },\n  ],\n  function (recommendations, type, slug) {\n    const result = recommendations.find(\n      (recommendation) =>\n        recommendation.type === type && recommendation[type].ids.slug === slug,\n    );\n    return Boolean(result);\n  },\n);\n\nexport { selectEntities, selectIsRecommended };\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nconst fetchRecommendations = createAsyncThunk(\n  'profile/recommendations/fetch',\n  async function (type, { rejectWithValue }) {\n    try {\n      const response = await axios.get('/sync/recommendations');\n      return response.data;\n    } catch (error) {\n      return rejectWithValue(error.toString());\n    }\n  },\n);\n\nfunction postRecommendation(entity) {\n  return async function (slug, { rejectWithValue }) {\n    try {\n      await axios.post('/sync/recommendations', {\n        [entity]: [{ ids: { slug } }],\n      });\n    } catch (error) {\n      return rejectWithValue(error.toString());\n    }\n  };\n}\n\nfunction removeRecommendation(entity) {\n  return async function (slug, { rejectWithValue }) {\n    try {\n      await axios.post('/sync/recommendations/remove', {\n        [entity]: [{ ids: { slug } }],\n      });\n    } catch (error) {\n      return rejectWithValue(error.toString());\n    }\n  };\n}\n\nconst postMovieRecommendation = createAsyncThunk(\n  'profile/recommendation/recommend',\n  postRecommendation('movies'),\n);\n\nconst postShowRecommendation = createAsyncThunk(\n  'profile/recommendation/recommend',\n  postRecommendation('shows'),\n);\n\nconst removeMovieRecommendation = createAsyncThunk(\n  'profile/recommendation/unrecommend',\n  removeRecommendation('movies'),\n);\n\nconst removeShowRecommendation = createAsyncThunk(\n  'profile/recommendation/unrecommend',\n  removeRecommendation('shows'),\n);\n\nconst { reducer } = createSlice({\n  extraReducers: {\n    [fetchRecommendations.fulfilled](state, action) {\n      return action.payload;\n    },\n  },\n  initialState: [],\n  name: 'profile/recommendations',\n  reducers: {},\n});\n\nexport {\n  fetchRecommendations,\n  postMovieRecommendation,\n  postShowRecommendation,\n  removeMovieRecommendation,\n  removeShowRecommendation,\n};\nexport default reducer;\n","import { createSelector } from '@reduxjs/toolkit';\n\nconst selectEntities = createSelector(\n  function (state) {\n    return state.profile.watchlist;\n  },\n  function (watchlist) {\n    return watchlist;\n  },\n);\n\nconst selectIsWatchlisted = createSelector(\n  [\n    function (state) {\n      return state.profile.watchlist;\n    },\n    function (_, type) {\n      return type;\n    },\n    function (_, __, slug) {\n      return slug;\n    },\n  ],\n  function (watchlist, type, slug) {\n    const result = watchlist.find(\n      (item) => item.type === type && item[type].ids.slug === slug,\n    );\n    return Boolean(result);\n  },\n);\n\nexport { selectEntities, selectIsWatchlisted };\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nconst fetchWatchlist = createAsyncThunk(\n  'profile/watchlist/fetch',\n  async function (type, { rejectWithValue }) {\n    try {\n      const response = await axios.get('/sync/watchlist');\n      return response.data;\n    } catch (error) {\n      return rejectWithValue(error.toString());\n    }\n  },\n);\n\nfunction addToWatchlist(entity) {\n  return async function (slug, { rejectWithValue }) {\n    try {\n      await axios.post('/sync/watchlist', {\n        [entity]: [{ ids: { slug } }],\n      });\n    } catch (error) {\n      return rejectWithValue(error.toString());\n    }\n  };\n}\n\nfunction removeFromWatchlist(entity) {\n  return async function (slug, { rejectWithValue }) {\n    try {\n      await axios.post('/sync/watchlist/remove', {\n        [entity]: [{ ids: { slug } }],\n      });\n    } catch (error) {\n      return rejectWithValue(error.toString());\n    }\n  };\n}\n\nconst addMovieToWatchlist = createAsyncThunk(\n  'profile/watchlist/add',\n  addToWatchlist('movies'),\n);\n\nconst addShowToWatchlist = createAsyncThunk(\n  'profile/watchlist/add',\n  addToWatchlist('shows'),\n);\n\nconst removeMovieFromWatchlist = createAsyncThunk(\n  'profile/watchlist/remove',\n  removeFromWatchlist('movies'),\n);\n\nconst removeShowFromWatchlist = createAsyncThunk(\n  'profile/watchlist/remove',\n  removeFromWatchlist('shows'),\n);\n\nconst { reducer } = createSlice({\n  extraReducers: {\n    [fetchWatchlist.fulfilled](state, action) {\n      return action.payload;\n    },\n  },\n  initialState: [],\n  name: 'profile/watchlist',\n  reducers: {},\n});\n\nexport {\n  addMovieToWatchlist,\n  addShowToWatchlist,\n  fetchWatchlist,\n  removeMovieFromWatchlist,\n  removeShowFromWatchlist,\n};\nexport default reducer;\n","import React, { useEffect, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\n\nimport Poster from '../../components/Poster/Poster.component';\nimport Rating from '../../components/Rating/Rating.component';\nimport { selectLoadingFlagsReducedFactory } from '../../redux/loading/loading.selectors';\nimport { selectEntity } from '../../redux/modules/movie/movie.selectors';\nimport {\n  fetchComments,\n  fetchMovie,\n} from '../../redux/modules/movie/movie.slice';\nimport { selectRating } from '../../redux/modules/profile/ratings/ratings.selectors';\nimport { postMovieRating } from '../../redux/modules/profile/ratings/ratings.slice';\nimport { selectIsRecommended } from '../../redux/modules/profile/recommendations/recommendations.selectors';\nimport {\n  postMovieRecommendation,\n  removeMovieRecommendation,\n} from '../../redux/modules/profile/recommendations/recommendations.slice';\nimport { selectIsWatchlisted } from '../../redux/modules/profile/watchlist/watchlist.selectors';\nimport {\n  addMovieToWatchlist,\n  removeMovieFromWatchlist,\n} from '../../redux/modules/profile/watchlist/watchlist.slice';\n\nfunction Movie() {\n  const selectLoadingFlagReduced = useMemo(\n    selectLoadingFlagsReducedFactory,\n    [],\n  );\n  const dispatch = useDispatch();\n  const { slug } = useParams();\n  const fetching = useSelector((state) =>\n    selectLoadingFlagReduced(state, ['movie/fetch', 'movie/comments/fetch']),\n  );\n  const movie = useSelector(selectEntity);\n  const rating = useSelector((state) => selectRating(state, 'movie', slug));\n  const isRecommended = useSelector((state) =>\n    selectIsRecommended(state, 'movie', slug),\n  );\n  const isWatchlisted = useSelector((state) =>\n    selectIsWatchlisted(state, 'movie', slug),\n  );\n\n  useEffect(() => {\n    dispatch(fetchMovie(slug));\n  }, [dispatch, slug]);\n\n  function handleFetchAllComments() {\n    dispatch(\n      fetchComments({ limit: movie.stats.comments, slug, sort: 'newest' }),\n    );\n  }\n\n  function handleRating(value) {\n    dispatch(postMovieRating({ rating: value, slug }));\n  }\n\n  function handleRecommendation() {\n    if (isRecommended) {\n      dispatch(removeMovieRecommendation(slug));\n      return;\n    }\n    dispatch(postMovieRecommendation(slug));\n  }\n\n  function handleWatchlist() {\n    if (isWatchlisted) {\n      dispatch(removeMovieFromWatchlist(slug));\n      return;\n    }\n    dispatch(addMovieToWatchlist(slug));\n  }\n\n  return (\n    <>\n      {fetching && <div>Loading...</div>}\n      <button onClick={handleFetchAllComments} type='button'>\n        Fetch all comments\n      </button>\n      <button onClick={handleRecommendation} type='button'>\n        {isRecommended ? 'Remove recommendation' : 'Recommend'}\n      </button>\n      <button onClick={handleWatchlist} type='button'>\n        {isWatchlisted ? 'Remove from watchlist' : 'Add to watchlist'}\n      </button>\n      <Rating onChange={handleRating} value={rating} />\n      <Poster\n        entity='movie'\n        size='w154'\n        tmdbId={movie.summary?.ids.tmdb}\n        type='poster'\n      >\n        {(url) => <img alt='poster' src={url} />}\n      </Poster>\n      <pre>{JSON.stringify(movie, null, 2)}</pre>\n    </>\n  );\n}\n\nexport default Movie;\n","import PropTypes from 'prop-types';\nimport React from 'react';\n\nfunction Pagination({\n  disabled,\n  hasNextPage,\n  hasPreviousPage,\n  onFirstPage,\n  onLastPage,\n  onNextPage,\n  onPreviousPage,\n}) {\n  return (\n    <div>\n      <button disabled={disabled} onClick={onFirstPage} type='button'>\n        First page\n      </button>\n      <button\n        disabled={disabled || !hasPreviousPage}\n        onClick={onPreviousPage}\n        type='button'\n      >\n        Previous page\n      </button>\n      <button\n        disabled={disabled || !hasNextPage}\n        onClick={onNextPage}\n        type='button'\n      >\n        Next page\n      </button>\n      <button disabled={disabled} onClick={onLastPage} type='button'>\n        Last page\n      </button>\n    </div>\n  );\n}\n\nPagination.propTypes = {\n  disabled: PropTypes.bool.isRequired,\n  hasNextPage: PropTypes.bool.isRequired,\n  hasPreviousPage: PropTypes.bool.isRequired,\n  onFirstPage: PropTypes.func.isRequired,\n  onLastPage: PropTypes.func.isRequired,\n  onNextPage: PropTypes.func.isRequired,\n  onPreviousPage: PropTypes.func.isRequired,\n};\n\nexport default Pagination;\n","import { useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useSearchParams } from 'react-router-dom';\n\nfunction usePagination(pagesTotalSelector) {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const { page = '1', ...otherSearchProps } = useMemo(\n    () => Object.fromEntries(searchParams),\n    [searchParams],\n  );\n  const pagesTotal = useSelector(pagesTotalSelector);\n\n  function toFirstPage() {\n    setSearchParams({\n      page: 1,\n      ...otherSearchProps,\n    });\n  }\n\n  function toLastPage() {\n    setSearchParams({\n      page: pagesTotal,\n      ...otherSearchProps,\n    });\n  }\n\n  function toNextPage() {\n    setSearchParams({\n      page: parseInt(page) + 1,\n      ...otherSearchProps,\n    });\n  }\n\n  function toPreviousPage() {\n    setSearchParams({\n      page: parseInt(page) - 1,\n      ...otherSearchProps,\n    });\n  }\n\n  return {\n    hasNextPage: parseInt(page) < pagesTotal,\n    hasPreviousPage: parseInt(page) > 1,\n    page,\n    toFirstPage,\n    toLastPage,\n    toNextPage,\n    toPreviousPage,\n  };\n}\n\nexport default usePagination;\n","import { createSelector } from '@reduxjs/toolkit';\n\nconst selectEntities = createSelector(\n  function (state) {\n    return state.movies.entities;\n  },\n  function (entities) {\n    return entities;\n  },\n);\n\nconst selectPagesTotal = createSelector(\n  function (state) {\n    return state.movies.pagination.total;\n  },\n  function (pagesTotal) {\n    return pagesTotal;\n  },\n);\n\nexport { selectEntities, selectPagesTotal };\n","const DEFAULTS = {\n  PAGE_SIZE: 40,\n};\n\nexport { DEFAULTS };\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nimport { DEFAULTS } from '../../../utils';\n\nconst fetchMovies = createAsyncThunk('movies/fetch', async function (\n  { category, page },\n  { rejectWithValue },\n) {\n  try {\n    const response = await axios.get(\n      `/movies/${category}?page=${page}&limit=${DEFAULTS.PAGE_SIZE}`,\n    );\n    return {\n      entities: response.data,\n      total: parseInt(response.headers['x-pagination-page-count']),\n    };\n  } catch (error) {\n    return rejectWithValue(error.toString());\n  }\n});\n\nconst { reducer } = createSlice({\n  extraReducers: {\n    [fetchMovies.fulfilled](state, action) {\n      state.entities = action.payload.entities;\n      state.pagination.total = action.payload.total;\n    },\n  },\n  initialState: {\n    entities: [],\n    pagination: {\n      total: 0,\n    },\n  },\n  name: 'movies',\n  reducers: {},\n});\n\nexport { fetchMovies };\nexport default reducer;\n","import { makeStyles } from '@material-ui/core/styles';\n\nexport default makeStyles((theme) => ({\n  footer: {\n    bottom: 0,\n    padding: 8,\n    position: 'absolute',\n  },\n  image: {\n    height: '100%',\n    objectFit: 'cover',\n    width: '100%',\n  },\n  root: {\n    borderBottom: `1px solid ${theme.palette.divider}`,\n    borderRight: `1px solid ${theme.palette.divider}`,\n    position: 'relative',\n  },\n}));\n","import {\n  Chip as MuiChip,\n  Typography as MuiTypography,\n} from '@material-ui/core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nimport Poster from '../../components/Poster/Poster.component';\nimport useStyles from './Tile.styles';\n\nfunction Tile({ releaseYear, title, tmdbId, watchers }) {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <Poster entity='movie' size='w500' tmdbId={tmdbId} type='poster'>\n        {(url) => <img alt='poster' className={classes.image} src={url} />}\n      </Poster>\n      <div className={classes.footer}>\n        <MuiChip\n          color='secondary'\n          label={\n            <MuiTypography variant='caption'>\n              {watchers} people watching\n            </MuiTypography>\n          }\n          size='small'\n        />\n        <div>\n          <MuiTypography color='textPrimary' display='inline' variant='body1'>\n            {title}{' '}\n          </MuiTypography>\n          <MuiTypography\n            color='textSecondary'\n            display='inline'\n            variant='caption'\n          >\n            {releaseYear}\n          </MuiTypography>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nTile.propTypes = {\n  releaseYear: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n  tmdbId: PropTypes.number.isRequired,\n  watchers: PropTypes.number.isRequired,\n};\n\nexport default Tile;\n","import { Grid as MuiGrid } from '@material-ui/core';\nimport React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport Tile from '../../components/Tile/Tile.component';\n\nfunction renderTrending(movies) {\n  return movies.map(({ movie, watchers }) => (\n    <MuiGrid\n      component={Link}\n      item\n      key={movie.ids.trakt}\n      md={4}\n      sm={6}\n      to={`/app/movies/${movie.ids.slug}`}\n      xl={3}\n      xs={12}\n    >\n      <Tile\n        releaseYear={movie.year}\n        title={movie.title}\n        tmdbId={movie.ids.tmdb}\n        watchers={watchers}\n      />\n    </MuiGrid>\n  ));\n}\n\nfunction renderTiles({ category, movies }) {\n  switch (category) {\n    case 'trending':\n      return renderTrending(movies);\n    case 'popular':\n      return null;\n    case 'recommended':\n      return null;\n    case 'watched':\n      return null;\n    case 'collected':\n      return null;\n    case 'anticipated':\n      return null;\n    default:\n      return null;\n  }\n}\n\nexport { renderTiles };\n","import { Grid as MuiGrid } from '@material-ui/core';\nimport PropTypes from 'prop-types';\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport Pagination from '../../components/Pagination/Pagination.component';\nimport usePagination from '../../hooks/usePagination';\nimport { selectLoadingFlag } from '../../redux/loading/loading.selectors';\nimport {\n  selectEntities,\n  selectPagesTotal,\n} from '../../redux/modules/movies/movies.selectors';\nimport { fetchMovies } from '../../redux/modules/movies/movies.slice';\nimport { renderTiles } from './Movies.utils';\n\nfunction Movies({ category }) {\n  const dispatch = useDispatch();\n  const {\n    hasNextPage,\n    hasPreviousPage,\n    page,\n    toFirstPage,\n    toLastPage,\n    toNextPage,\n    toPreviousPage,\n  } = usePagination(selectPagesTotal);\n  const fetching = useSelector((state) =>\n    selectLoadingFlag(state, 'movies/fetch'),\n  );\n  const movies = useSelector(selectEntities);\n\n  useEffect(() => {\n    dispatch(fetchMovies({ category, page }));\n  }, [category, dispatch, page]);\n\n  return (\n    <>\n      {fetching && <div>Loading...</div>}\n      <Pagination\n        disabled={fetching}\n        hasNextPage={hasNextPage}\n        hasPreviousPage={hasPreviousPage}\n        onFirstPage={toFirstPage}\n        onLastPage={toLastPage}\n        onNextPage={toNextPage}\n        onPreviousPage={toPreviousPage}\n      />\n      <MuiGrid container>{renderTiles({ category, movies })}</MuiGrid>\n    </>\n  );\n}\n\nMovies.propTypes = {\n  category: PropTypes.oneOf([\n    'trending',\n    'popular',\n    'recommended',\n    'watched',\n    'collected',\n    'anticipated',\n  ]).isRequired,\n};\n\nexport default Movies;\n","import { createSelector } from '@reduxjs/toolkit';\n\nconst selectEntity = createSelector(\n  function (state) {\n    return state.person;\n  },\n  function (entity) {\n    return entity;\n  },\n);\n\nexport { selectEntity };\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nconst fetchPerson = createAsyncThunk('person/fetch', async function (\n  slug,\n  { rejectWithValue },\n) {\n  try {\n    const [summaryResponse, moviesResponse, showsResponse] = await Promise.all([\n      axios.get(`/people/${slug}?extended=full`),\n      axios.get(`/people/${slug}/movies`),\n      axios.get(`/people/${slug}/shows`),\n    ]);\n    return {\n      movies: moviesResponse.data,\n      shows: showsResponse.data,\n      summary: summaryResponse.data,\n    };\n  } catch (error) {\n    return rejectWithValue(error.toString());\n  }\n});\n\nconst { reducer } = createSlice({\n  extraReducers: {\n    [fetchPerson.fulfilled](state, action) {\n      return action.payload;\n    },\n  },\n  initialState: {\n    movies: [],\n    shows: [],\n    summary: null,\n  },\n  name: 'person',\n  reducers: {},\n});\n\nexport { fetchPerson };\nexport default reducer;\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\n\nimport Poster from '../../components/Poster/Poster.component';\nimport { selectLoadingFlag } from '../../redux/loading/loading.selectors';\nimport { selectEntity } from '../../redux/modules/person/person.selectors';\nimport { fetchPerson } from '../../redux/modules/person/person.slice';\n\nfunction Person() {\n  const dispatch = useDispatch();\n  const { slug } = useParams();\n  const fetching = useSelector((state) =>\n    selectLoadingFlag(state, 'person/fetch'),\n  );\n  const person = useSelector(selectEntity);\n\n  useEffect(() => {\n    dispatch(fetchPerson(slug));\n  }, [dispatch, slug]);\n\n  return (\n    <>\n      {fetching && <div>Loading...</div>}\n      <Poster\n        entity='person'\n        size='w185'\n        tmdbId={person.summary?.ids.tmdb}\n        type='profile'\n      >\n        {(url) => <img alt='poster' src={url} />}\n      </Poster>\n      <pre>{JSON.stringify(person, null, 2)}</pre>\n    </>\n  );\n}\n\nexport default Person;\n","import { createSelector } from '@reduxjs/toolkit';\n\nconst selectEntities = createSelector(\n  function (state) {\n    return state.profile.comments.entities;\n  },\n  function (comments) {\n    return comments;\n  },\n);\n\nconst selectPagesTotal = createSelector(\n  function (state) {\n    return state.profile.comments.pagination.total;\n  },\n  function (pagesTotal) {\n    return pagesTotal;\n  },\n);\n\nexport { selectEntities, selectPagesTotal };\n","import { createSelector } from '@reduxjs/toolkit';\n\nfunction selector(state) {\n  return state.auth;\n}\n\nconst selectAccessToken = createSelector(selector, function (auth) {\n  return auth.accessToken;\n});\n\nconst selectUserSlug = createSelector(selector, function (auth) {\n  return auth.slug;\n});\n\nexport { selectAccessToken, selectUserSlug };\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nimport { DEFAULTS } from '../../../../utils';\nimport { selectUserSlug } from '../../../auth/auth.selectors';\n\nconst fetchComments = createAsyncThunk(\n  'profile/comments/fetch',\n  async function (page, { getState, rejectWithValue }) {\n    try {\n      const userSlug = selectUserSlug(getState());\n      const response = await axios.get(\n        `/users/${userSlug}/comments?page=${page}&limit=${DEFAULTS.PAGE_SIZE}`,\n      );\n      return {\n        entities: response.data,\n        total: parseInt(response.headers['x-pagination-page-count']),\n      };\n    } catch (error) {\n      return rejectWithValue(error.toString());\n    }\n  },\n);\n\nconst { reducer } = createSlice({\n  extraReducers: {\n    [fetchComments.fulfilled](state, action) {\n      state.entities = action.payload.entities;\n      state.pagination.total = action.payload.total;\n    },\n  },\n  initialState: {\n    entities: [],\n    pagination: {\n      total: 0,\n    },\n  },\n  name: 'profile/comments',\n  reducers: {},\n});\n\nexport { fetchComments };\nexport default reducer;\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport Pagination from '../../../components/Pagination/Pagination.component';\nimport usePagination from '../../../hooks/usePagination';\nimport { selectLoadingFlag } from '../../../redux/loading/loading.selectors';\nimport {\n  selectEntities,\n  selectPagesTotal,\n} from '../../../redux/modules/profile/comments/comments.selectors';\nimport { fetchComments } from '../../../redux/modules/profile/comments/comments.slice';\n\nfunction Comments() {\n  const dispatch = useDispatch();\n  const {\n    hasNextPage,\n    hasPreviousPage,\n    page,\n    toFirstPage,\n    toLastPage,\n    toNextPage,\n    toPreviousPage,\n  } = usePagination(selectPagesTotal);\n  const fetching = useSelector((state) =>\n    selectLoadingFlag(state, 'profile/comments/fetch'),\n  );\n  const comments = useSelector(selectEntities);\n\n  useEffect(() => {\n    dispatch(fetchComments(page));\n  }, [dispatch, page]);\n\n  return (\n    <>\n      {fetching && <div>Loading...</div>}\n      <Pagination\n        disabled={fetching}\n        hasNextPage={hasNextPage}\n        hasPreviousPage={hasPreviousPage}\n        onFirstPage={toFirstPage}\n        onLastPage={toLastPage}\n        onNextPage={toNextPage}\n        onPreviousPage={toPreviousPage}\n      />\n      <pre>{JSON.stringify(comments, null, 2)}</pre>\n    </>\n  );\n}\n\nexport default Comments;\n","import { createSelector } from '@reduxjs/toolkit';\n\nconst selectEntity = createSelector(\n  function (state) {\n    return state.profile.list;\n  },\n  function (entity) {\n    return entity;\n  },\n);\n\nexport { selectEntity };\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nconst fetchList = createAsyncThunk('list/fetch', async function (\n  id,\n  { rejectWithValue },\n) {\n  try {\n    const [listResponse, itemsResponse] = await Promise.all([\n      axios.get(`/lists/${id}`),\n      axios.get(`/lists/${id}/items`),\n    ]);\n    return {\n      ...listResponse.data,\n      items: itemsResponse.data,\n    };\n  } catch (error) {\n    return rejectWithValue(error.toString());\n  }\n});\n\nconst { reducer } = createSlice({\n  extraReducers: {\n    [fetchList.fulfilled](state, action) {\n      return action.payload;\n    },\n  },\n  initialState: {\n    items: [],\n  },\n  name: 'list',\n  reducers: {},\n});\n\nexport { fetchList };\nexport default reducer;\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\n\nimport { selectLoadingFlag } from '../../../redux/loading/loading.selectors';\nimport { selectEntity } from '../../../redux/modules/profile/list/list.selectors';\nimport { fetchList } from '../../../redux/modules/profile/list/list.slice';\n\nfunction List() {\n  const dispatch = useDispatch();\n  const { id } = useParams();\n  const fetching = useSelector((state) =>\n    selectLoadingFlag(state, 'list/fetch'),\n  );\n  const list = useSelector(selectEntity);\n\n  useEffect(() => {\n    dispatch(fetchList(id));\n  }, [dispatch, id]);\n\n  return (\n    <>\n      {fetching && <div>Loading...</div>}\n      <pre>{JSON.stringify(list, null, 2)}</pre>\n    </>\n  );\n}\n\nexport default List;\n","import { createSelector } from '@reduxjs/toolkit';\n\nconst selectEntities = createSelector(\n  function (state) {\n    return state.profile.lists;\n  },\n  function (lists) {\n    return lists;\n  },\n);\n\nexport { selectEntities };\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nimport { selectUserSlug } from '../../../auth/auth.selectors';\n\nconst fetchLists = createAsyncThunk('profile/lists/fetch', async function (\n  _,\n  { getState, rejectWithValue },\n) {\n  try {\n    const userSlug = selectUserSlug(getState());\n    const response = await axios.get(`/users/${userSlug}/lists`);\n    return response.data;\n  } catch (error) {\n    return rejectWithValue(error.toString());\n  }\n});\n\nconst addList = createAsyncThunk('profile/lists/add', async function (\n  list,\n  { getState, rejectWithValue },\n) {\n  try {\n    const userSlug = selectUserSlug(getState());\n    const response = await axios.post(`/users/${userSlug}/lists`, list);\n    return response.data;\n  } catch (error) {\n    return rejectWithValue(error.toString());\n  }\n});\n\nconst removeList = createAsyncThunk('profile/lists/remove', async function (\n  slug,\n  { getState, rejectWithValue },\n) {\n  try {\n    const userSlug = selectUserSlug(getState());\n    await axios.delete(`/users/${userSlug}/lists/${slug}`);\n    return slug;\n  } catch (error) {\n    return rejectWithValue(error.toString());\n  }\n});\n\nconst { reducer } = createSlice({\n  extraReducers: {\n    [addList.fulfilled](state, action) {\n      state.push(action.payload);\n    },\n    [fetchLists.fulfilled](state, action) {\n      return action.payload;\n    },\n    [removeList.fulfilled](state, action) {\n      const index = state.findIndex((list) => list.ids.slug === action.payload);\n      delete state[index];\n    },\n  },\n  initialState: [],\n  name: 'profile/lists',\n  reducers: {},\n});\n\nexport { addList, fetchLists, removeList };\nexport default reducer;\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { selectLoadingFlag } from '../../../redux/loading/loading.selectors';\nimport { selectEntities } from '../../../redux/modules/profile/lists/lists.selectors';\nimport {\n  addList,\n  fetchLists,\n  removeList,\n} from '../../../redux/modules/profile/lists/lists.slice';\n\nfunction Lists() {\n  const dispatch = useDispatch();\n  const fetching = useSelector((state) =>\n    selectLoadingFlag(state, 'profile/lists/fetch'),\n  );\n  const lists = useSelector(selectEntities);\n\n  useEffect(() => {\n    dispatch(fetchLists());\n  }, [dispatch]);\n\n  function handleAdd() {\n    dispatch(\n      addList({\n        allowComments: false,\n        description: 'the new list for testing purposes',\n        name: 'new list',\n        privacy: 'public',\n      }),\n    );\n  }\n\n  function handleRemove() {\n    dispatch(removeList('new-list'));\n  }\n\n  return (\n    <>\n      {fetching && <div>Loading...</div>}\n      <button onClick={handleAdd} type='submit'>\n        Add list\n      </button>\n      <button onClick={handleRemove} type='submit'>\n        Remove list\n      </button>\n      <pre>{JSON.stringify(lists, null, 2)}</pre>\n    </>\n  );\n}\n\nexport default Lists;\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { selectLoadingFlag } from '../../../redux/loading/loading.selectors';\nimport { selectEntities } from '../../../redux/modules/profile/ratings/ratings.selectors';\nimport { fetchRatings } from '../../../redux/modules/profile/ratings/ratings.slice';\n\nfunction Ratings() {\n  const dispatch = useDispatch();\n  const fetching = useSelector((state) =>\n    selectLoadingFlag(state, 'profile/ratings/fetch'),\n  );\n  const ratings = useSelector(selectEntities);\n\n  useEffect(() => {\n    dispatch(fetchRatings());\n  }, [dispatch]);\n\n  return (\n    <>\n      {fetching && <div>Loading...</div>}\n      <pre>{JSON.stringify(ratings, null, 2)}</pre>\n    </>\n  );\n}\n\nexport default Ratings;\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { selectLoadingFlag } from '../../../redux/loading/loading.selectors';\nimport { selectEntities } from '../../../redux/modules/profile/recommendations/recommendations.selectors';\nimport { fetchRecommendations } from '../../../redux/modules/profile/recommendations/recommendations.slice';\n\nfunction Ratings() {\n  const dispatch = useDispatch();\n  const fetching = useSelector((state) =>\n    selectLoadingFlag(state, 'profile/recommendations/fetch'),\n  );\n  const recommendations = useSelector(selectEntities);\n\n  useEffect(() => {\n    dispatch(fetchRecommendations());\n  }, [dispatch]);\n\n  return (\n    <>\n      {fetching && <div>Loading...</div>}\n      <pre>{JSON.stringify(recommendations, null, 2)}</pre>\n    </>\n  );\n}\n\nexport default Ratings;\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { selectLoadingFlag } from '../../../redux/loading/loading.selectors';\nimport { selectEntities } from '../../../redux/modules/profile/watchlist/watchlist.selectors';\nimport { fetchWatchlist } from '../../../redux/modules/profile/watchlist/watchlist.slice';\n\nfunction Watchlist() {\n  const dispatch = useDispatch();\n  const fetching = useSelector((state) =>\n    selectLoadingFlag(state, 'profile/watchlist/fetch'),\n  );\n  const watchlist = useSelector(selectEntities);\n\n  useEffect(() => {\n    dispatch(fetchWatchlist());\n  }, [dispatch]);\n\n  return (\n    <>\n      {fetching && <div>Loading...</div>}\n      <pre>{JSON.stringify(watchlist, null, 2)}</pre>\n    </>\n  );\n}\n\nexport default Watchlist;\n","import { createSelector } from '@reduxjs/toolkit';\n\nconst selectEntities = createSelector(\n  function (state) {\n    return state.search.entities;\n  },\n  function (entities) {\n    return entities;\n  },\n);\n\nconst selectPagesTotal = createSelector(\n  function (state) {\n    return state.search.pagination.total;\n  },\n  function (pagesTotal) {\n    return pagesTotal;\n  },\n);\n\nexport { selectEntities, selectPagesTotal };\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nimport { DEFAULTS } from '../../../utils';\n\nfunction resolveType(type) {\n  switch (type) {\n    case 'movies':\n      return 'movie';\n    case 'shows':\n      return 'show';\n    case 'people':\n      return 'person';\n    default:\n      return 'movie,show,person';\n  }\n}\n\nconst fetchSearchResults = createAsyncThunk('search/fetch', async function (\n  { page, query, type },\n  { rejectWithValue },\n) {\n  try {\n    const response = await axios.get(\n      `/search/${resolveType(type)}?query=${query}&page=${page}&limit=${\n        DEFAULTS.PAGE_SIZE\n      }`,\n    );\n    return {\n      entities: response.data,\n      total: parseInt(response.headers['x-pagination-page-count']),\n    };\n  } catch (error) {\n    return rejectWithValue(error.toString());\n  }\n});\n\nconst { reducer } = createSlice({\n  extraReducers: {\n    [fetchSearchResults.fulfilled](state, action) {\n      state.entities = action.payload.entities;\n      state.pagination.total = action.payload.total;\n    },\n  },\n  initialState: {\n    entities: [],\n    pagination: {\n      total: 0,\n    },\n  },\n  name: 'search',\n  reducers: {},\n});\n\nexport { fetchSearchResults };\nexport default reducer;\n","import PropTypes from 'prop-types';\nimport React, { useEffect, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useSearchParams } from 'react-router-dom';\n\nimport Pagination from '../../components/Pagination/Pagination.component';\nimport usePagination from '../../hooks/usePagination';\nimport { selectLoadingFlag } from '../../redux/loading/loading.selectors';\nimport {\n  selectEntities,\n  selectPagesTotal,\n} from '../../redux/modules/search/search.selectors';\nimport { fetchSearchResults } from '../../redux/modules/search/search.slice';\n\nfunction Search({ type }) {\n  const dispatch = useDispatch();\n  const {\n    hasNextPage,\n    hasPreviousPage,\n    page,\n    toFirstPage,\n    toLastPage,\n    toNextPage,\n    toPreviousPage,\n  } = usePagination(selectPagesTotal);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const { query = '' } = useMemo(() => Object.fromEntries(searchParams), [\n    searchParams,\n  ]);\n  const fetching = useSelector((state) =>\n    selectLoadingFlag(state, 'search/fetch'),\n  );\n  const searchResults = useSelector(selectEntities);\n\n  useEffect(() => {\n    dispatch(fetchSearchResults({ page, query, type }));\n  }, [dispatch, page, query, type]);\n\n  function handleQueryChange({ target: { value } }) {\n    setSearchParams({ query: value });\n  }\n\n  return (\n    <>\n      {fetching && <div>Loading...</div>}\n      <Pagination\n        disabled={fetching}\n        hasNextPage={hasNextPage}\n        hasPreviousPage={hasPreviousPage}\n        onFirstPage={toFirstPage}\n        onLastPage={toLastPage}\n        onNextPage={toNextPage}\n        onPreviousPage={toPreviousPage}\n      />\n      <div>\n        <label htmlFor='query'>Input your query:</label>\n        <input\n          id='query'\n          onChange={handleQueryChange}\n          type='text'\n          value={query}\n        />\n      </div>\n      <pre>{JSON.stringify(searchResults, null, 2)}</pre>\n    </>\n  );\n}\n\nSearch.propTypes = {\n  type: PropTypes.oneOf(['all', 'movies', 'shows', 'people']),\n};\n\nexport default Search;\n","import { createSelector } from '@reduxjs/toolkit';\n\nconst selectEntity = createSelector(\n  function (state) {\n    return state.show;\n  },\n  function (entity) {\n    return entity;\n  },\n);\n\nexport { selectEntity };\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nconst fetchComments = createAsyncThunk('show/comments/fetch', async function (\n  { limit, slug, sort },\n  { rejectWithValue },\n) {\n  try {\n    const response = await axios.get(\n      `/shows/${slug}/comments/${sort}?page=1&limit=${limit}`,\n    );\n    return response.data;\n  } catch (error) {\n    return rejectWithValue(error.toString());\n  }\n});\n\nconst fetchShow = createAsyncThunk('show/fetch', async function (\n  slug,\n  { rejectWithValue },\n) {\n  try {\n    const [\n      summaryResponse,\n      commentsResponse,\n      peopleResponse,\n      ratingsResponse,\n      relatedResponse,\n      statsResponse,\n      seasonsResponse,\n    ] = await Promise.all([\n      axios.get(`/shows/${slug}`),\n      axios.get(`/shows/${slug}/comments/highest`),\n      axios.get(`/shows/${slug}/people`),\n      axios.get(`/shows/${slug}/ratings`),\n      axios.get(`/shows/${slug}/related`),\n      axios.get(`/shows/${slug}/stats`),\n      axios.get(`/shows/${slug}/seasons?extended=episodes`),\n    ]);\n    return {\n      comments: commentsResponse.data,\n      people: peopleResponse.data,\n      ratings: ratingsResponse.data,\n      related: relatedResponse.data,\n      seasons: seasonsResponse.data,\n      stats: statsResponse.data,\n      summary: summaryResponse.data,\n    };\n  } catch (error) {\n    return rejectWithValue(error.toString());\n  }\n});\n\nconst { reducer } = createSlice({\n  extraReducers: {\n    [fetchComments.fulfilled](state, action) {\n      state.comments = action.payload;\n    },\n    [fetchShow.fulfilled](state, action) {\n      return action.payload;\n    },\n  },\n  initialState: {\n    comments: [],\n    people: null,\n    ratings: null,\n    related: [],\n    seasons: [],\n    stats: null,\n    summary: null,\n  },\n  name: 'show',\n  reducers: {},\n});\n\nexport { fetchComments, fetchShow };\nexport default reducer;\n","import React, { useEffect, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\n\nimport Poster from '../../components/Poster/Poster.component';\nimport Rating from '../../components/Rating/Rating.component';\nimport { selectLoadingFlagsReducedFactory } from '../../redux/loading/loading.selectors';\nimport { selectRating } from '../../redux/modules/profile/ratings/ratings.selectors';\nimport { postShowRating } from '../../redux/modules/profile/ratings/ratings.slice';\nimport { selectEntity } from '../../redux/modules/show/show.selectors';\nimport { fetchComments, fetchShow } from '../../redux/modules/show/show.slice';\n\nfunction Show() {\n  const selectLoadingFlagReduced = useMemo(\n    selectLoadingFlagsReducedFactory,\n    [],\n  );\n  const dispatch = useDispatch();\n  const { slug } = useParams();\n  const fetching = useSelector((state) =>\n    selectLoadingFlagReduced(state, ['show/fetch', 'show/comments/fetch']),\n  );\n  const show = useSelector(selectEntity);\n  const rating = useSelector((state) => selectRating(state, 'show', slug));\n\n  useEffect(() => {\n    dispatch(fetchShow(slug));\n  }, [dispatch, slug]);\n\n  function handleFetchAllComments() {\n    dispatch(\n      fetchComments({ limit: show.stats.comments, slug, sort: 'newest' }),\n    );\n  }\n\n  function handleRating(value) {\n    dispatch(postShowRating({ rating: value, slug }));\n  }\n\n  return (\n    <>\n      {fetching && <div>Loading...</div>}\n      <button onClick={handleFetchAllComments} type='button'>\n        Fetch all comments\n      </button>\n      <Rating onChange={handleRating} value={rating} />\n      <Poster\n        entity='show'\n        size='w154'\n        tmdbId={show.summary?.ids.tmdb}\n        type='poster'\n      >\n        {(url) => <img alt='poster' src={url} />}\n      </Poster>\n      <pre>{JSON.stringify(show, null, 2)}</pre>\n    </>\n  );\n}\n\nexport default Show;\n","import { createSelector } from '@reduxjs/toolkit';\n\nconst selectEntities = createSelector(\n  function (state) {\n    return state.shows.entities;\n  },\n  function (shows) {\n    return shows;\n  },\n);\n\nconst selectPagesTotal = createSelector(\n  function (state) {\n    return state.shows.pagination.total;\n  },\n  function (pagesTotal) {\n    return pagesTotal;\n  },\n);\n\nexport { selectEntities, selectPagesTotal };\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nimport { DEFAULTS } from '../../../utils';\n\nconst fetchShows = createAsyncThunk('shows/fetch', async function (\n  { category, page },\n  { rejectWithValue },\n) {\n  try {\n    const response = await axios.get(\n      `/shows/${category}?page=${page}&limit=${DEFAULTS.PAGE_SIZE}`,\n    );\n    return {\n      entities: response.data,\n      total: parseInt(response.headers['x-pagination-page-count']),\n    };\n  } catch (error) {\n    return rejectWithValue(error.toString());\n  }\n});\n\nconst { reducer } = createSlice({\n  extraReducers: {\n    [fetchShows.fulfilled](state, action) {\n      state.entities = action.payload.entities;\n      state.pagination.total = action.payload.total;\n    },\n  },\n  initialState: {\n    entities: [],\n    pagination: {\n      total: 0,\n    },\n  },\n  name: 'shows',\n  reducers: {},\n});\n\nexport { fetchShows };\nexport default reducer;\n","import PropTypes from 'prop-types';\nimport React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport Pagination from '../../components/Pagination/Pagination.component';\nimport usePagination from '../../hooks/usePagination';\nimport { selectLoadingFlag } from '../../redux/loading/loading.selectors';\nimport {\n  selectEntities,\n  selectPagesTotal,\n} from '../../redux/modules/shows/shows.selectors';\nimport { fetchShows } from '../../redux/modules/shows/shows.slice';\n\nfunction Shows({ category }) {\n  const dispatch = useDispatch();\n  const {\n    hasNextPage,\n    hasPreviousPage,\n    page,\n    toFirstPage,\n    toLastPage,\n    toNextPage,\n    toPreviousPage,\n  } = usePagination(selectPagesTotal);\n  const fetching = useSelector((state) =>\n    selectLoadingFlag(state, 'shows/fetch'),\n  );\n  const shows = useSelector(selectEntities);\n\n  useEffect(() => {\n    dispatch(fetchShows({ category, page }));\n  }, [category, dispatch, page]);\n\n  return (\n    <>\n      {fetching && <div>Loading...</div>}\n      <Pagination\n        disabled={fetching}\n        hasNextPage={hasNextPage}\n        hasPreviousPage={hasPreviousPage}\n        onFirstPage={toFirstPage}\n        onLastPage={toLastPage}\n        onNextPage={toNextPage}\n        onPreviousPage={toPreviousPage}\n      />\n      <pre>{JSON.stringify(shows, null, 2)}</pre>\n    </>\n  );\n}\n\nShows.propTypes = {\n  category: PropTypes.oneOf([\n    'trending',\n    'popular',\n    'recommended',\n    'watched',\n    'collected',\n    'anticipated',\n  ]).isRequired,\n};\n\nexport default Shows;\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\nconst fetchMe = createAsyncThunk('auth/me/fetch', async function (\n  _,\n  { rejectWithValue },\n) {\n  try {\n    const response = await axios.get('/auth/me');\n    return response.data;\n  } catch (error) {\n    return rejectWithValue(error.toString());\n  }\n});\n\nconst { reducer } = createSlice({\n  extraReducers: {\n    [fetchMe.fulfilled](state, action) {\n      return action.payload;\n    },\n  },\n  initialState: {\n    accessToken: null,\n    refreshToken: null,\n    slug: null,\n    uuid: null,\n  },\n  name: 'movie',\n  reducers: {},\n});\n\nexport { fetchMe };\nexport default reducer;\n","import { createSlice } from '@reduxjs/toolkit';\n\nfunction matches(action) {\n  const patterns = ['/pending', '/fulfilled', '/rejected'];\n  return patterns.some((pattern) => action.type.endsWith(pattern));\n}\n\nconst { reducer } = createSlice({\n  extraReducers: (builder) => {\n    builder.addMatcher(matches, (state, action) => {\n      const parts = action.type.split('/');\n      const asyncState = parts.pop();\n      state[`${parts.join('/')}`] = asyncState === 'pending';\n    });\n  },\n  initialState: {},\n  name: 'loading',\n  reducers: {},\n});\n\nexport default reducer;\n","import { combineReducers } from 'redux';\n\nimport comments from './comments/comments.slice';\nimport list from './list/list.slice';\nimport lists from './lists/lists.slice';\nimport ratings from './ratings/ratings.slice';\nimport recommendations from './recommendations/recommendations.slice';\nimport watchlist from './watchlist/watchlist.slice';\n\nexport default combineReducers({\n  comments,\n  list,\n  lists,\n  ratings,\n  recommendations,\n  watchlist,\n});\n","import { configureStore } from '@reduxjs/toolkit';\n\nimport auth from './auth/auth.slice';\nimport loading from './loading/loading.slice';\nimport movie from './modules/movie/movie.slice';\nimport movies from './modules/movies/movies.slice';\nimport person from './modules/person/person.slice';\nimport profile from './modules/profile';\nimport search from './modules/search/search.slice';\nimport show from './modules/show/show.slice';\nimport shows from './modules/shows/shows.slice';\nimport notifications from './notifications/notifications.slice';\n\nconst store = configureStore({\n  reducer: {\n    auth,\n    loading,\n    movie,\n    movies,\n    notifications,\n    person,\n    profile,\n    search,\n    show,\n    shows,\n  },\n});\n\nexport default store;\n","import {\n  createMuiTheme,\n  CssBaseline as MuiCssBaseline,\n  ThemeProvider as MuiThemeProvider,\n} from '@material-ui/core';\nimport React from 'react';\nimport { Provider as ReduxProvider } from 'react-redux';\nimport {\n  BrowserRouter as Router,\n  Navigate,\n  Route,\n  Routes,\n} from 'react-router-dom';\n\nimport Layout from './components/Layout/Layout.component';\nimport NotFound from './components/NotFound/NotFound.component';\nimport Movie from './modules/Movie/Movie.component';\nimport Movies from './modules/Movies/Movies.component';\nimport Person from './modules/Person/Person.component';\nimport Comments from './modules/Profile/Comments/Comments.component';\nimport List from './modules/Profile/List/List.component';\nimport Lists from './modules/Profile/Lists/Lists.component';\nimport Ratings from './modules/Profile/Ratings/Ratings.component';\nimport Recommendations from './modules/Profile/Recommendations/Recommendations.component';\nimport Watchlist from './modules/Profile/Watchlist/Watchlist.component';\nimport Search from './modules/Search/Search.component';\nimport Show from './modules/Show/Show.component';\nimport Shows from './modules/Shows/Shows.component';\nimport store from './redux/store';\n\n// In case of any routing change, make sure to reflect the exact change\n// in file ./src/components/Layouts/Layouts/Layouts.utils.js in variable NAV_PATHS\nfunction App() {\n  return (\n    <Routes basename='/app'>\n      <Route element={<Navigate replace to='movies/trending' />} path='/' />\n      <Route element={<Layout />} path='/'>\n        <Route path='movies'>\n          <Route element={<Navigate replace to='trending' />} path='/' />\n          <Route element={<Movies category='trending' />} path='trending' />\n          <Route element={<Movies category='popular' />} path='popular' />\n          <Route\n            element={<Movies category='recommended' />}\n            path='recommended'\n          />\n          <Route element={<Movies category='watched' />} path='watched' />\n          <Route element={<Movies category='collected' />} path='collected' />\n          <Route\n            element={<Movies category='anticipated' />}\n            path='anticipated'\n          />\n          <Route element={<Movie />} path=':slug' />\n        </Route>\n        <Route path='shows'>\n          <Route element={<Navigate replace to='trending' />} path='/' />\n          <Route element={<Shows category='trending' />} path='trending' />\n          <Route element={<Shows category='popular' />} path='popular' />\n          <Route\n            element={<Shows category='recommended' />}\n            path='recommended'\n          />\n          <Route element={<Shows category='watched' />} path='watched' />\n          <Route element={<Shows category='collected' />} path='collected' />\n          <Route\n            element={<Shows category='anticipated' />}\n            path='anticipated'\n          />\n          <Route element={<Show />} path=':slug' />\n        </Route>\n        <Route element={<Person />} path='people/:slug' />\n        <Route path='search'>\n          <Route element={<Navigate replace to='all' />} path='/' />\n          <Route element={<Search type='all' />} path='all' />\n          <Route element={<Search type='movies' />} path='movies' />\n          <Route element={<Search type='shows' />} path='shows' />\n          <Route element={<Search type='people' />} path='people' />\n        </Route>\n        <Route path='profile'>\n          <Route element={<Navigate replace to='ratings' />} path='/' />\n          <Route element={<Ratings />} path='ratings' />\n          <Route element={<Recommendations />} path='recommendations' />\n          <Route element={<Watchlist />} path='watchlist' />\n          <Route path='lists'>\n            <Route element={<Lists />} path='/' />\n            <Route element={<List />} path=':id' />\n          </Route>\n          <Route element={<Comments />} path='comments' />\n        </Route>\n      </Route>\n      <Route element={<NotFound />} path='*' />\n    </Routes>\n  );\n}\n\nconst darkTheme = createMuiTheme({\n  palette: {\n    type: 'dark',\n  },\n});\n\nfunction Providers() {\n  return (\n    <ReduxProvider store={store}>\n      <MuiThemeProvider theme={darkTheme}>\n        <Router>\n          <MuiCssBaseline />\n          <App />\n        </Router>\n      </MuiThemeProvider>\n    </ReduxProvider>\n  );\n}\n\nexport default Providers;\n","import axios from 'axios';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App.component';\nimport { selectAccessToken } from './redux/auth/auth.selectors';\nimport { fetchMe } from './redux/auth/auth.slice';\nimport { fetchLists } from './redux/modules/profile/lists/lists.slice';\nimport { fetchRatings } from './redux/modules/profile/ratings/ratings.slice';\nimport { fetchRecommendations } from './redux/modules/profile/recommendations/recommendations.slice';\nimport { fetchWatchlist } from './redux/modules/profile/watchlist/watchlist.slice';\nimport store from './redux/store';\n\nconst { dispatch, getState } = store;\n\n//@TODO: Add loading flare to public/index.html to indicate pre-loading and remove afterwards\n//@TODO: Fetch request in parallel\nasync function init() {\n  axios.interceptors.request.use(function (config) {\n    const filter = ['/auth'];\n    if (!filter.some((url) => config.url.startsWith(url))) {\n      // Target is Trakt.tv API, add authorization headers\n      config.baseURL = process.env.REACT_APP_TRAKT_API;\n      config.headers.Authorization = `Bearer ${selectAccessToken(getState())}`;\n      config.headers['trakt-api-key'] =\n        process.env.REACT_APP_TRAKT_TV_CLIENT_ID;\n    }\n    return config;\n  });\n  await dispatch(fetchMe());\n  await dispatch(fetchLists());\n  await dispatch(fetchRatings());\n  await dispatch(fetchRecommendations());\n  await dispatch(fetchWatchlist());\n}\n\ninit().then(function () {\n  ReactDOM.render(<App />, document.getElementById('root'));\n});\n"],"sourceRoot":""}